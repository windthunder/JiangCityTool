(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();const Zs=[{name:"原木",time:1,output:1,source:[],raw:!0},{name:"铁矿石",time:1,output:1,source:[],raw:!0},{name:"铜矿石",time:1,output:1,source:[],raw:!0},{name:"石头",time:1,output:1,source:[],raw:!0},{name:"煤矿石",time:1,output:1,source:[],raw:!0},{name:"沙子",time:1,output:1,source:[],raw:!0},{name:"粮食",time:1,output:1,source:[],raw:!0},{name:"桶装石油",time:1,output:1,source:[],raw:!0},{name:"木材",time:3,output:1,source:[{name:"原木",amount:1}],raw:!1},{name:"木板",time:3,output:1,source:[{name:"木材",amount:1}],raw:!1},{name:"加强木板",time:6,output:1,source:[{name:"木板",amount:2},{name:"石材",amount:3}],raw:!1},{name:"木质框架",time:6,output:1,source:[{name:"木棒",amount:4},{name:"螺丝",amount:6}],raw:!1},{name:"铁质核心",time:10,output:1,source:[{name:"加固铁板",amount:1},{name:"C级能量块",amount:1}],raw:!1},{name:"木棒",time:6,output:3,source:[{name:"木材",amount:2}],raw:!1},{name:"石材",time:3,output:1,source:[{name:"石头",amount:1}],raw:!1},{name:"铁锭",time:3,output:1,source:[{name:"铁矿石",amount:2}],raw:!1},{name:"铜锭",time:3,output:1,source:[{name:"铜矿石",amount:2}],raw:!1},{name:"石砖",time:6,output:1,source:[{name:"石材",amount:2}],raw:!1},{name:"铁板",time:3,output:1,source:[{name:"铁锭",amount:1}],raw:!1},{name:"铁棒",time:6,output:3,source:[{name:"铁锭",amount:2}],raw:!1},{name:"螺丝",time:2,output:3,source:[{name:"铁棒",amount:1}],raw:!1},{name:"加固铁板",time:6,output:1,source:[{name:"铁板",amount:2},{name:"螺丝",amount:4}],raw:!1},{name:"铁质框架",time:6,output:1,source:[{name:"铁棒",amount:4},{name:"螺丝",amount:6}],raw:!1},{name:"铁质工具",time:10,output:1,source:[{name:"铁棒",amount:2},{name:"加固铁板",amount:1}],raw:!1},{name:"钢制核心",time:12,output:1,source:[{name:"铁质工具",amount:1},{name:"B级能量块",amount:1}],raw:!1},{name:"铜板",time:3,output:1,source:[{name:"铜锭",amount:1}],raw:!1},{name:"铜线",time:6,output:3,source:[{name:"铜锭",amount:2}],raw:!1},{name:"提纯硅",time:6,output:1,source:[{name:"沙子",amount:3}],raw:!1},{name:"玻璃",time:6,output:1,source:[{name:"沙子",amount:3},{name:"石头",amount:3}],raw:!1},{name:"木纤维",time:6,output:3,source:[{name:"原木",amount:2}],raw:!1},{name:"线",time:6,output:1,source:[{name:"木纤维",amount:2}],raw:!1},{name:"布",time:6,output:1,source:[{name:"线",amount:2}],raw:!1},{name:"纸",time:3,output:2,source:[{name:"木材",amount:1}],raw:!1},{name:"油纸",time:9,output:1,source:[{name:"纸",amount:3},{name:"油",amount:1}],raw:!1},{name:"初级工具",time:10,output:1,source:[{name:"木棒",amount:2},{name:"石材",amount:1}],raw:!1},{name:"酒",time:15,output:1,source:[{name:"粮食",amount:4}],raw:!1},{name:"油",time:15,output:1,source:[{name:"粮食",amount:4}],raw:!1},{name:"酒精",time:12,output:1,source:[{name:"酒",amount:3}],raw:!1},{name:"钢锭",time:4,output:1,source:[{name:"铁矿石",amount:2},{name:"煤矿石",amount:2}],raw:!1},{name:"钢管",time:6,output:1,source:[{name:"钢锭",amount:2}],raw:!1},{name:"钢板",time:12,output:2,source:[{name:"钢锭",amount:3}],raw:!1},{name:"钢筋混凝土",time:15,output:1,source:[{name:"钢板",amount:2},{name:"石材",amount:5}],raw:!1},{name:"电枢",time:15,output:1,source:[{name:"铁棒",amount:4},{name:"铜线",amount:20}],raw:!1},{name:"集电环",time:15,output:1,source:[{name:"铜板",amount:4},{name:"螺丝",amount:25}],raw:!1},{name:"燃料碳棒",time:3,output:1,source:[{name:"煤矿石",amount:1},{name:"木纤维",amount:1}],raw:!1},{name:"强力石砖",time:15,output:2,source:[{name:"钢筋混凝土",amount:1}],raw:!1},{name:"精致皮革",time:10,output:1,source:[{name:"兽皮",amount:1},{name:"布",amount:2}],raw:!1},{name:"精致丝线",time:10,output:2,source:[{name:"蛛丝",amount:1},{name:"线",amount:4}],raw:!1},{name:"红色晶能",time:6,output:1,source:[{name:"铁锭",amount:3},{name:"铜锭",amount:3}],raw:!1},{name:"绿色晶能",time:10,output:1,source:[{name:"布",amount:3},{name:"初级工具",amount:2}],raw:!1},{name:"蓝色晶能",time:12,output:1,source:[{name:"铁质核心",amount:1},{name:"钢管",amount:3}],raw:!1},{name:"紫色晶能",time:15,output:1,source:[{name:"控制器",amount:1},{name:"电动机",amount:1}],raw:!1},{name:"芯片",time:30,output:1,source:[{name:"提纯硅",amount:10},{name:"铜板",amount:15}],raw:!1},{name:"控制器",time:30,output:1,source:[{name:"芯片",amount:1},{name:"钢制核心",amount:1}],raw:!1},{name:"电动机",time:30,output:2,source:[{name:"电枢",amount:5},{name:"集电环",amount:5}],raw:!1},{name:"高级工具",time:20,output:1,source:[{name:"工业结构体",amount:1},{name:"控制器",amount:1},{name:"电动机",amount:1}],raw:!1},{name:"帐篷",time:1,output:1,source:[{name:"布",amount:10},{name:"木棒",amount:8},{name:"加固铁板",amount:1}],raw:!1},{name:"天机石",time:12,output:1,source:[{name:"提纯硅",amount:5},{name:"铁质工具",amount:2},{name:"铁质核心",amount:10}],raw:!1},{name:"防御磁盾",time:1,output:1,source:[{name:"工业结构体",amount:1},{name:"提纯硅",amount:6}],raw:!1},{name:"C级能量块",time:20,output:1,source:[{name:"铜板",amount:3},{name:"木质框架",amount:1}],raw:!1},{name:"B级能量块",time:30,output:1,source:[{name:"钢管",amount:4},{name:"提纯硅",amount:10}],raw:!1},{name:"工业结构体",time:30,output:2,source:[{name:"铁质框架",amount:3},{name:"钢管",amount:5},{name:"强力石砖",amount:5}],raw:!1},{name:"塑料",time:5,output:1,source:[{name:"桶装石油",amount:3},{name:"煤矿石",amount:2}],raw:!1},{name:"橡胶",time:5,output:1,source:[{name:"桶装石油",amount:3},{name:"粮食",amount:2}],raw:!1},{name:"电路板",time:30,output:1,source:[{name:"橡胶",amount:5},{name:"铜板",amount:20},{name:"工业结构体",amount:2}],raw:!1},{name:"大型计算机",time:30,output:1,source:[{name:"电路板",amount:1},{name:"芯片",amount:5},{name:"控制器",amount:5}],raw:!1},{name:"燃油能量块",time:10,output:1,source:[{name:"燃料碳棒",amount:2},{name:"桶装石油",amount:2}],raw:!1},{name:"高性能地板",time:10,output:1,source:[{name:"橡胶",amount:3},{name:"塑料",amount:3},{name:"强力石砖",amount:4}],raw:!1},{name:"抗生素",time:1,output:1,source:[{name:"酒",amount:5},{name:"油",amount:5}],raw:!1},{name:"香皂",time:6,output:1,source:[{name:"油",amount:2},{name:"酒精",amount:2}],raw:!1},{name:"铜镜",time:6,output:1,source:[{name:"木质框架",amount:1},{name:"铜板",amount:3}],raw:!1},{name:"油纸伞",time:6,output:1,source:[{name:"木棒",amount:2},{name:"油纸",amount:3}],raw:!1},{name:"医药箱",time:12,output:1,source:[{name:"布",amount:2},{name:"酒精",amount:2},{name:"铁质框架",amount:1}],raw:!1},{name:"手表",time:15,output:1,source:[{name:"玻璃",amount:5},{name:"芯片",amount:2},{name:"电路板",amount:1}],raw:!1},{name:"建造胶囊",time:15,output:3,source:[{name:"木质框架",amount:1},{name:"钢筋混凝土",amount:1}],raw:!1},{name:"烤箱",time:20,output:1,source:[{name:"工业结构体",amount:1},{name:"高级工具",amount:1},{name:"大型计算机",amount:1}],raw:!1}];function kn(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function $r(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function oa(t){let n,e,r;t.length!==2?(n=kn,e=(f,u)=>kn(t(f),u),r=(f,u)=>t(f)-u):(n=t===kn||t===$r?t:$m,e=t,r=t);function i(f,u,c=0,s=f.length){if(c<s){if(n(u,u)!==0)return s;do{const h=c+s>>>1;e(f[h],u)<0?c=h+1:s=h}while(c<s)}return c}function a(f,u,c=0,s=f.length){if(c<s){if(n(u,u)!==0)return s;do{const h=c+s>>>1;e(f[h],u)<=0?c=h+1:s=h}while(c<s)}return c}function o(f,u,c=0,s=f.length){const h=i(f,u,c,s-1);return h>c&&r(f[h-1],u)>-r(f[h],u)?h-1:h}return{left:i,center:o,right:a}}function $m(){return 0}function Ks(t){return t===null?NaN:+t}function*Tm(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const Sm=oa(kn),Am=Sm.right;oa(Ks).center;const If=Am;function Cm(t){return t.length|0}function Em(t){return!(t>0)}function km(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Nm(t){return n=>t(...n)}function Lm(...t){const n=typeof t[t.length-1]=="function"&&Nm(t.pop());t=t.map(km);const e=t.map(Cm),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||e.some(Em))return a;for(;;){a.push(i.map((f,u)=>t[u][f]));let o=r;for(;++i[o]===e[o];){if(o===0)return n?a.map(n):a;i[o--]=0}}}function js(t,n){let e=0,r,i=0,a=0;if(n===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++e,a+=r*(o-i));else{let o=-1;for(let f of t)(f=n(f,++o,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++e,a+=r*(f-i))}if(e>1)return a/(e-1)}function Im(t,n){const e=js(t,n);return e&&Math.sqrt(e)}function Nn(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=n(a,++i,t))!=null&&(e===void 0?a>=a&&(e=r=a):(e>a&&(e=a),r<a&&(r=a)))}return[e,r]}class Zn{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=e[i],o=n+a,f=Math.abs(n)<Math.abs(a)?n-(o-a):a-(o-n);f&&(e[r++]=f),n=o}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,a,o=0;if(e>0){for(o=n[--e];e>0&&(r=o,i=n[--e],o=r+i,a=i-(o-r),!a););e>0&&(a<0&&n[e-1]<0||a>0&&n[e-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}class cr extends Map{constructor(n,e=tl){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(Co(this,n))}has(n){return super.has(Co(this,n))}set(n,e){return super.set(Qs(this,n),e)}delete(n){return super.delete(Js(this,n))}}class fa extends Set{constructor(n,e=tl){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has(Co(this,n))}add(n){return super.add(Qs(this,n))}delete(n){return super.delete(Js(this,n))}}function Co({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Qs({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Js({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function tl(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Dm(t){return t}function Ua(t,n,...e){return nl(t,Dm,n,e)}function Rm(t,n,...e){return nl(t,Array.from,n,e)}function nl(t,n,e,r){return function i(a,o){if(o>=r.length)return e(a);const f=new cr,u=r[o++];let c=-1;for(const s of a){const h=u(s,++c,a),l=f.get(h);l?l.push(s):f.set(h,[s])}for(const[s,h]of f)f.set(s,i(h,o));return n(f)}(t,0)}function Pm(t,n){return Array.from(n,e=>t[e])}function Fm(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,a)=>a);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,a)=>{for(const o of n){const f=xi(o[i],o[a]);if(f)return f}})):(e=t.map(e),r.sort((i,a)=>xi(e[i],e[a]))),Pm(t,r)}return t.sort(el(e))}function el(t=kn){if(t===kn)return xi;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function xi(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}const Om=Math.sqrt(50),zm=Math.sqrt(10),Um=Math.sqrt(2);function Mi(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Om?10:a>=zm?5:a>=Um?2:1;let f,u,c;return i<0?(c=Math.pow(10,-i)/o,f=Math.round(t*c),u=Math.round(n*c),f/c<t&&++f,u/c>n&&--u,c=-c):(c=Math.pow(10,i)*o,f=Math.round(t/c),u=Math.round(n/c),f*c<t&&++f,u*c>n&&--u),u<f&&.5<=e&&e<2?Mi(t,n,e*2):[f,u,c]}function $i(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,a,o]=r?Mi(n,t,e):Mi(t,n,e);if(!(a>=i))return[];const f=a-i+1,u=new Array(f);if(r)if(o<0)for(let c=0;c<f;++c)u[c]=(a-c)/-o;else for(let c=0;c<f;++c)u[c]=(a-c)*o;else if(o<0)for(let c=0;c<f;++c)u[c]=(i+c)/-o;else for(let c=0;c<f;++c)u[c]=(i+c)*o;return u}function Eo(t,n,e){return n=+n,t=+t,e=+e,Mi(t,n,e)[2]}function ko(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?Eo(n,t,e):Eo(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function rn(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function qm(t,n){let e,r=-1,i=-1;if(n===void 0)for(const a of t)++i,a!=null&&(e<a||e===void 0&&a>=a)&&(e=a,r=i);else for(let a of t)(a=n(a,++i,t))!=null&&(e<a||e===void 0&&a>=a)&&(e=a,r=i);return r}function sr(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function Bm(t,n){let e,r=-1,i=-1;if(n===void 0)for(const a of t)++i,a!=null&&(e>a||e===void 0&&a>=a)&&(e=a,r=i);else for(let a of t)(a=n(a,++i,t))!=null&&(e>a||e===void 0&&a>=a)&&(e=a,r=i);return r}function rl(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?xi:el(i);r>e;){if(r-e>600){const u=r-e+1,c=n-e+1,s=Math.log(u),h=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*h*(u-h)/u)*(c-u/2<0?-1:1),d=Math.max(e,Math.floor(n-c*h/u+l)),m=Math.min(r,Math.floor(n+(u-c)*h/u+l));rl(t,n,d,m,i)}const a=t[n];let o=e,f=r;for(Be(t,e,n),i(t[r],a)>0&&Be(t,e,r);o<f;){for(Be(t,o,f),++o,--f;i(t[o],a)<0;)++o;for(;i(t[f],a)>0;)--f}i(t[e],a)===0?Be(t,e,f):(++f,Be(t,f,r)),f<=n&&(e=f+1),n<=f&&(r=f-1)}return t}function Be(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Ti(t,n,e){if(t=Float64Array.from(Tm(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return sr(t);if(n>=1)return rn(t);var r,i=(r-1)*n,a=Math.floor(i),o=rn(rl(t,a).subarray(0,a+1)),f=sr(t.subarray(a+1));return o+(f-o)*(i-a)}}function Ym(t,n,e=Ks){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,a=Math.floor(i),o=+e(t[a],a,t),f=+e(t[a+1],a+1,t);return o+(f-o)*(i-a)}}function Hm(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let a of t)(a=n(a,++i,t))!=null&&(a=+a)>=a&&(++e,r+=a)}if(e)return r/e}function No(t,n){return Ti(t,.5,n)}function*Wm(t){for(const n of t)yield*n}function il(t){return Array.from(Wm(t))}function Vm(t,n){const e=new cr;if(n===void 0)for(let a of t)a!=null&&a>=a&&e.set(a,(e.get(a)||0)+1);else{let a=-1;for(let o of t)(o=n(o,++a,t))!=null&&o>=o&&e.set(o,(e.get(o)||0)+1)}let r,i=0;for(const[a,o]of e)o>i&&(i=o,r=a);return r}function Xm(t,n=Gm){const e=[];let r,i=!1;for(const a of t)i&&e.push(n(r,a)),r=a,i=!0;return e}function Gm(t,n){return[t,n]}function Lo(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,a=new Array(i);++r<i;)a[r]=t+r*e;return a}function Df(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function Si(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Zm(t){return t}var qa=1,Ba=2,Io=3,Zr=4,Uu=1e-6;function Km(t){return"translate("+t+",0)"}function jm(t){return"translate(0,"+t+")"}function Qm(t){return n=>+t(n)}function Jm(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function tp(){return!this.__axis}function np(t,n){var e=[],r=null,i=null,a=6,o=6,f=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===qa||t===Zr?-1:1,s=t===Zr||t===Ba?"x":"y",h=t===qa||t===Io?Km:jm;function l(d){var m=r??(n.ticks?n.ticks.apply(n,e):n.domain()),p=i??(n.tickFormat?n.tickFormat.apply(n,e):Zm),b=Math.max(a,0)+f,w=n.range(),g=+w[0]+u,x=+w[w.length-1]+u,y=(n.bandwidth?Jm:Qm)(n.copy(),u),v=d.selection?d.selection():d,_=v.selectAll(".domain").data([null]),M=v.selectAll(".tick").data(m,n).order(),C=M.exit(),S=M.enter().append("g").attr("class","tick"),k=M.select("line"),$=M.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(S),k=k.merge(S.append("line").attr("stroke","currentColor").attr(s+"2",c*a)),$=$.merge(S.append("text").attr("fill","currentColor").attr(s,c*b).attr("dy",t===qa?"0em":t===Io?"0.71em":"0.32em")),d!==v&&(_=_.transition(d),M=M.transition(d),k=k.transition(d),$=$.transition(d),C=C.transition(d).attr("opacity",Uu).attr("transform",function(N){return isFinite(N=y(N))?h(N+u):this.getAttribute("transform")}),S.attr("opacity",Uu).attr("transform",function(N){var I=this.parentNode.__axis;return h((I&&isFinite(I=I(N))?I:y(N))+u)})),C.remove(),_.attr("d",t===Zr||t===Ba?o?"M"+c*o+","+g+"H"+u+"V"+x+"H"+c*o:"M"+u+","+g+"V"+x:o?"M"+g+","+c*o+"V"+u+"H"+x+"V"+c*o:"M"+g+","+u+"H"+x),M.attr("opacity",1).attr("transform",function(N){return h(y(N)+u)}),k.attr(s+"2",c*a),$.attr(s,c*b).text(p),v.filter(tp).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Ba?"start":t===Zr?"end":"middle"),v.each(function(){this.__axis=y})}return l.scale=function(d){return arguments.length?(n=d,l):n},l.ticks=function(){return e=Array.from(arguments),l},l.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),l):e.slice()},l.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),l):r&&r.slice()},l.tickFormat=function(d){return arguments.length?(i=d,l):i},l.tickSize=function(d){return arguments.length?(a=o=+d,l):a},l.tickSizeInner=function(d){return arguments.length?(a=+d,l):a},l.tickSizeOuter=function(d){return arguments.length?(o=+d,l):o},l.tickPadding=function(d){return arguments.length?(f=+d,l):f},l.offset=function(d){return arguments.length?(u=+d,l):u},l}function ep(t){return np(Io,t)}var rp={value:()=>{}};function al(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new pi(e)}function pi(t){this._=t}function ip(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}pi.prototype=al.prototype={constructor:pi,on:function(t,n){var e=this._,r=ip(t+"",e),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=ap(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(t=r[a]).type)e[i]=qu(e[i],t.name,n);else if(n==null)for(i in e)e[i]=qu(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new pi(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function ap(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function qu(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=rp,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Do="http://www.w3.org/1999/xhtml";const ve={svg:"http://www.w3.org/2000/svg",xhtml:Do,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ua(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),ve.hasOwnProperty(n)?{space:ve[n],local:t}:t}function op(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Do&&n.documentElement.namespaceURI===Do?n.createElement(t):n.createElementNS(e,t)}}function fp(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ca(t){var n=ua(t);return(n.local?fp:op)(n)}function up(){}function Rf(t){return t==null?up:function(){return this.querySelector(t)}}function cp(t){typeof t!="function"&&(t=Rf(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=new Array(o),u,c,s=0;s<o;++s)(u=a[s])&&(c=t.call(u,u.__data__,s,a))&&("__data__"in u&&(c.__data__=u.__data__),f[s]=c);return new kt(r,this._parents)}function sp(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function lp(){return[]}function ol(t){return t==null?lp:function(){return this.querySelectorAll(t)}}function hp(t){return function(){return sp(t.apply(this,arguments))}}function dp(t){typeof t=="function"?t=hp(t):t=ol(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o=n[a],f=o.length,u,c=0;c<f;++c)(u=o[c])&&(r.push(t.call(u,u.__data__,c,o)),i.push(u));return new kt(r,i)}function fl(t){return function(){return this.matches(t)}}function ul(t){return function(n){return n.matches(t)}}var mp=Array.prototype.find;function pp(t){return function(){return mp.call(this.children,t)}}function gp(){return this.firstElementChild}function bp(t){return this.select(t==null?gp:pp(typeof t=="function"?t:ul(t)))}var yp=Array.prototype.filter;function wp(){return Array.from(this.children)}function _p(t){return function(){return yp.call(this.children,t)}}function vp(t){return this.selectAll(t==null?wp:_p(typeof t=="function"?t:ul(t)))}function xp(t){typeof t!="function"&&(t=fl(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=[],u,c=0;c<o;++c)(u=a[c])&&t.call(u,u.__data__,c,a)&&f.push(u);return new kt(r,this._parents)}function cl(t){return new Array(t.length)}function Mp(){return new kt(this._enter||this._groups.map(cl),this._parents)}function Ai(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Ai.prototype={constructor:Ai,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function $p(t){return function(){return t}}function Tp(t,n,e,r,i,a){for(var o=0,f,u=n.length,c=a.length;o<c;++o)(f=n[o])?(f.__data__=a[o],r[o]=f):e[o]=new Ai(t,a[o]);for(;o<u;++o)(f=n[o])&&(i[o]=f)}function Sp(t,n,e,r,i,a,o){var f,u,c=new Map,s=n.length,h=a.length,l=new Array(s),d;for(f=0;f<s;++f)(u=n[f])&&(l[f]=d=o.call(u,u.__data__,f,n)+"",c.has(d)?i[f]=u:c.set(d,u));for(f=0;f<h;++f)d=o.call(t,a[f],f,a)+"",(u=c.get(d))?(r[f]=u,u.__data__=a[f],c.delete(d)):e[f]=new Ai(t,a[f]);for(f=0;f<s;++f)(u=n[f])&&c.get(l[f])===u&&(i[f]=u)}function Ap(t){return t.__data__}function Cp(t,n){if(!arguments.length)return Array.from(this,Ap);var e=n?Sp:Tp,r=this._parents,i=this._groups;typeof t!="function"&&(t=$p(t));for(var a=i.length,o=new Array(a),f=new Array(a),u=new Array(a),c=0;c<a;++c){var s=r[c],h=i[c],l=h.length,d=Ep(t.call(s,s&&s.__data__,c,r)),m=d.length,p=f[c]=new Array(m),b=o[c]=new Array(m),w=u[c]=new Array(l);e(s,h,p,b,w,d,n);for(var g=0,x=0,y,v;g<m;++g)if(y=p[g]){for(g>=x&&(x=g+1);!(v=b[x])&&++x<m;);y._next=v||null}}return o=new kt(o,r),o._enter=f,o._exit=u,o}function Ep(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function kp(){return new kt(this._exit||this._groups.map(cl),this._parents)}function Np(t,n,e){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?a.remove():e(a),r&&i?r.merge(i).order():i}function Lp(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,o=Math.min(i,a),f=new Array(i),u=0;u<o;++u)for(var c=e[u],s=r[u],h=c.length,l=f[u]=new Array(h),d,m=0;m<h;++m)(d=c[m]||s[m])&&(l[m]=d);for(;u<i;++u)f[u]=e[u];return new kt(f,this._parents)}function Ip(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Dp(t){t||(t=Rp);function n(h,l){return h&&l?t(h.__data__,l.__data__):!h-!l}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],f=o.length,u=i[a]=new Array(f),c,s=0;s<f;++s)(c=o[s])&&(u[s]=c);u.sort(n)}return new kt(i,this._parents).order()}function Rp(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Pp(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Fp(){return Array.from(this)}function Op(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function zp(){let t=0;for(const n of this)++t;return t}function Up(){return!this.node()}function qp(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],a=0,o=i.length,f;a<o;++a)(f=i[a])&&t.call(f,f.__data__,a,i);return this}function Bp(t){return function(){this.removeAttribute(t)}}function Yp(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hp(t,n){return function(){this.setAttribute(t,n)}}function Wp(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Vp(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Xp(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Gp(t,n){var e=ua(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Yp:Bp:typeof n=="function"?e.local?Xp:Vp:e.local?Wp:Hp)(e,n))}function sl(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Zp(t){return function(){this.style.removeProperty(t)}}function Kp(t,n,e){return function(){this.style.setProperty(t,n,e)}}function jp(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Qp(t,n,e){return arguments.length>1?this.each((n==null?Zp:typeof n=="function"?jp:Kp)(t,n,e??"")):xe(this.node(),t)}function xe(t,n){return t.style.getPropertyValue(n)||sl(t).getComputedStyle(t,null).getPropertyValue(n)}function Jp(t){return function(){delete this[t]}}function tg(t,n){return function(){this[t]=n}}function ng(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function eg(t,n){return arguments.length>1?this.each((n==null?Jp:typeof n=="function"?ng:tg)(t,n)):this.node()[t]}function ll(t){return t.trim().split(/^|\s+/)}function Pf(t){return t.classList||new hl(t)}function hl(t){this._node=t,this._names=ll(t.getAttribute("class")||"")}hl.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function dl(t,n){for(var e=Pf(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function ml(t,n){for(var e=Pf(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function rg(t){return function(){dl(this,t)}}function ig(t){return function(){ml(this,t)}}function ag(t,n){return function(){(n.apply(this,arguments)?dl:ml)(this,t)}}function og(t,n){var e=ll(t+"");if(arguments.length<2){for(var r=Pf(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?ag:n?rg:ig)(e,n))}function fg(){this.textContent=""}function ug(t){return function(){this.textContent=t}}function cg(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function sg(t){return arguments.length?this.each(t==null?fg:(typeof t=="function"?cg:ug)(t)):this.node().textContent}function lg(){this.innerHTML=""}function hg(t){return function(){this.innerHTML=t}}function dg(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function mg(t){return arguments.length?this.each(t==null?lg:(typeof t=="function"?dg:hg)(t)):this.node().innerHTML}function pg(){this.nextSibling&&this.parentNode.appendChild(this)}function gg(){return this.each(pg)}function bg(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yg(){return this.each(bg)}function wg(t){var n=typeof t=="function"?t:ca(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function _g(){return null}function vg(t,n){var e=typeof t=="function"?t:ca(t),r=n==null?_g:typeof n=="function"?n:Rf(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function xg(){var t=this.parentNode;t&&t.removeChild(this)}function Mg(){return this.each(xg)}function $g(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Tg(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Sg(t){return this.select(t?Tg:$g)}function Ag(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Cg(t){return function(n){t.call(this,n,this.__data__)}}function Eg(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function kg(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,a;e<i;++e)a=n[e],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):n[++r]=a;++r?n.length=r:delete this.__on}}}function Ng(t,n,e){return function(){var r=this.__on,i,a=Cg(n);if(r){for(var o=0,f=r.length;o<f;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=e),i.value=n;return}}this.addEventListener(t.type,a,e),i={type:t.type,name:t.name,value:n,listener:a,options:e},r?r.push(i):this.__on=[i]}}function Lg(t,n,e){var r=Eg(t+""),i,a=r.length,o;if(arguments.length<2){var f=this.node().__on;if(f){for(var u=0,c=f.length,s;u<c;++u)for(i=0,s=f[u];i<a;++i)if((o=r[i]).type===s.type&&o.name===s.name)return s.value}return}for(f=n?Ng:kg,i=0;i<a;++i)this.each(f(r[i],n,e));return this}function pl(t,n,e){var r=sl(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Ig(t,n){return function(){return pl(this,t,n)}}function Dg(t,n){return function(){return pl(this,t,n.apply(this,arguments))}}function Rg(t,n){return this.each((typeof n=="function"?Dg:Ig)(t,n))}function*Pg(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var gl=[null];function kt(t,n){this._groups=t,this._parents=n}function Tr(){return new kt([[document.documentElement]],gl)}function Fg(){return this}kt.prototype=Tr.prototype={constructor:kt,select:cp,selectAll:dp,selectChild:bp,selectChildren:vp,filter:xp,data:Cp,enter:Mp,exit:kp,join:Np,merge:Lp,selection:Fg,order:Ip,sort:Dp,call:Pp,nodes:Fp,node:Op,size:zp,empty:Up,each:qp,attr:Gp,style:Qp,property:eg,classed:og,text:sg,html:mg,raise:gg,lower:yg,append:wg,insert:vg,remove:Mg,clone:Sg,datum:Ag,on:Lg,dispatch:Rg,[Symbol.iterator]:Pg};function ir(t){return typeof t=="string"?new kt([[document.querySelector(t)]],[document.documentElement]):new kt([[t]],gl)}function Og(t){let n;for(;n=t.sourceEvent;)t=n;return t}function zg(t,n){if(t=Og(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function Pe(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Sr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Dn(){}var Kn=.7,Me=1/Kn,ye="\\s*([+-]?\\d+)\\s*",lr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ug=/^#([0-9a-f]{3,8})$/,qg=new RegExp(`^rgb\\(${ye},${ye},${ye}\\)$`),Bg=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),Yg=new RegExp(`^rgba\\(${ye},${ye},${ye},${lr}\\)$`),Hg=new RegExp(`^rgba\\(${nn},${nn},${nn},${lr}\\)$`),Wg=new RegExp(`^hsl\\(${lr},${nn},${nn}\\)$`),Vg=new RegExp(`^hsla\\(${lr},${nn},${nn},${lr}\\)$`),Bu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pe(Dn,jn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Yu,formatHex:Yu,formatHex8:Xg,formatHsl:Gg,formatRgb:Hu,toString:Hu});function Yu(){return this.rgb().formatHex()}function Xg(){return this.rgb().formatHex8()}function Gg(){return bl(this).formatHsl()}function Hu(){return this.rgb().formatRgb()}function jn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Ug.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Wu(n):e===3?new gt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Kr(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Kr(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=qg.exec(t))?new gt(n[1],n[2],n[3],1):(n=Bg.exec(t))?new gt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Yg.exec(t))?Kr(n[1],n[2],n[3],n[4]):(n=Hg.exec(t))?Kr(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Wg.exec(t))?Gu(n[1],n[2]/100,n[3]/100,1):(n=Vg.exec(t))?Gu(n[1],n[2]/100,n[3]/100,n[4]):Bu.hasOwnProperty(t)?Wu(Bu[t]):t==="transparent"?new gt(NaN,NaN,NaN,0):null}function Wu(t){return new gt(t>>16&255,t>>8&255,t&255,1)}function Kr(t,n,e,r){return r<=0&&(t=n=e=NaN),new gt(t,n,e,r)}function Ff(t){return t instanceof Dn||(t=jn(t)),t?(t=t.rgb(),new gt(t.r,t.g,t.b,t.opacity)):new gt}function Ln(t,n,e,r){return arguments.length===1?Ff(t):new gt(t,n,e,r??1)}function gt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Pe(gt,Ln,Sr(Dn,{brighter(t){return t=t==null?Me:Math.pow(Me,t),new gt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Kn:Math.pow(Kn,t),new gt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gt(Wn(this.r),Wn(this.g),Wn(this.b),Ci(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vu,formatHex:Vu,formatHex8:Zg,formatRgb:Xu,toString:Xu}));function Vu(){return`#${Yn(this.r)}${Yn(this.g)}${Yn(this.b)}`}function Zg(){return`#${Yn(this.r)}${Yn(this.g)}${Yn(this.b)}${Yn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xu(){const t=Ci(this.opacity);return`${t===1?"rgb(":"rgba("}${Wn(this.r)}, ${Wn(this.g)}, ${Wn(this.b)}${t===1?")":`, ${t})`}`}function Ci(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Yn(t){return t=Wn(t),(t<16?"0":"")+t.toString(16)}function Gu(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Bt(t,n,e,r)}function bl(t){if(t instanceof Bt)return new Bt(t.h,t.s,t.l,t.opacity);if(t instanceof Dn||(t=jn(t)),!t)return new Bt;if(t instanceof Bt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,f=a-i,u=(a+i)/2;return f?(n===a?o=(e-r)/f+(e<r)*6:e===a?o=(r-n)/f+2:o=(n-e)/f+4,f/=u<.5?a+i:2-a-i,o*=60):f=u>0&&u<1?0:o,new Bt(o,f,u,t.opacity)}function Ro(t,n,e,r){return arguments.length===1?bl(t):new Bt(t,n,e,r??1)}function Bt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Pe(Bt,Ro,Sr(Dn,{brighter(t){return t=t==null?Me:Math.pow(Me,t),new Bt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Kn:Math.pow(Kn,t),new Bt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new gt(Ya(t>=240?t-240:t+120,i,r),Ya(t,i,r),Ya(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Bt(Zu(this.h),jr(this.s),jr(this.l),Ci(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ci(this.opacity);return`${t===1?"hsl(":"hsla("}${Zu(this.h)}, ${jr(this.s)*100}%, ${jr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Zu(t){return t=(t||0)%360,t<0?t+360:t}function jr(t){return Math.max(0,Math.min(1,t||0))}function Ya(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const yl=Math.PI/180,wl=180/Math.PI,Ei=18,_l=.96422,vl=1,xl=.82521,Ml=4/29,we=6/29,$l=3*we*we,Kg=we*we*we;function Tl(t){if(t instanceof en)return new en(t.l,t.a,t.b,t.opacity);if(t instanceof bn)return Sl(t);t instanceof gt||(t=Ff(t));var n=Xa(t.r),e=Xa(t.g),r=Xa(t.b),i=Ha((.2225045*n+.7168786*e+.0606169*r)/vl),a,o;return n===e&&e===r?a=o=i:(a=Ha((.4360747*n+.3850649*e+.1430804*r)/_l),o=Ha((.0139322*n+.0971045*e+.7141733*r)/xl)),new en(116*i-16,500*(a-i),200*(i-o),t.opacity)}function Po(t,n,e,r){return arguments.length===1?Tl(t):new en(t,n,e,r??1)}function en(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}Pe(en,Po,Sr(Dn,{brighter(t){return new en(this.l+Ei*(t??1),this.a,this.b,this.opacity)},darker(t){return new en(this.l-Ei*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=_l*Wa(n),t=vl*Wa(t),e=xl*Wa(e),new gt(Va(3.1338561*n-1.6168667*t-.4906146*e),Va(-.9787684*n+1.9161415*t+.033454*e),Va(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function Ha(t){return t>Kg?Math.pow(t,1/3):t/$l+Ml}function Wa(t){return t>we?t*t*t:$l*(t-Ml)}function Va(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Xa(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function jg(t){if(t instanceof bn)return new bn(t.h,t.c,t.l,t.opacity);if(t instanceof en||(t=Tl(t)),t.a===0&&t.b===0)return new bn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*wl;return new bn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Fo(t,n,e,r){return arguments.length===1?jg(t):new bn(t,n,e,r??1)}function bn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Sl(t){if(isNaN(t.h))return new en(t.l,0,0,t.opacity);var n=t.h*yl;return new en(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}Pe(bn,Fo,Sr(Dn,{brighter(t){return new bn(this.h,this.c,this.l+Ei*(t??1),this.opacity)},darker(t){return new bn(this.h,this.c,this.l-Ei*(t??1),this.opacity)},rgb(){return Sl(this).rgb()}}));var Al=-.14861,Of=1.78277,zf=-.29227,sa=-.90649,hr=1.97294,Ku=hr*sa,ju=hr*Of,Qu=Of*zf-sa*Al;function Qg(t){if(t instanceof Vn)return new Vn(t.h,t.s,t.l,t.opacity);t instanceof gt||(t=Ff(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Qu*r+Ku*n-ju*e)/(Qu+Ku-ju),a=r-i,o=(hr*(e-i)-zf*a)/sa,f=Math.sqrt(o*o+a*a)/(hr*i*(1-i)),u=f?Math.atan2(o,a)*wl-120:NaN;return new Vn(u<0?u+360:u,f,i,t.opacity)}function an(t,n,e,r){return arguments.length===1?Qg(t):new Vn(t,n,e,r??1)}function Vn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Pe(Vn,an,Sr(Dn,{brighter(t){return t=t==null?Me:Math.pow(Me,t),new Vn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Kn:Math.pow(Kn,t),new Vn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*yl,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new gt(255*(n+e*(Al*r+Of*i)),255*(n+e*(zf*r+sa*i)),255*(n+e*(hr*r)),this.opacity)}}));function Jg(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}function t2(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,f=r<n-1?t[r+2]:2*a-i;return Jg((e-r/n)*n,o,i,a,f)}}const la=t=>()=>t;function Cl(t,n){return function(e){return t+e*n}}function n2(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Uf(t,n){var e=n-t;return e?Cl(t,e>180||e<-180?e-360*Math.round(e/360):e):la(isNaN(t)?n:t)}function e2(t){return(t=+t)==1?_t:function(n,e){return e-n?n2(n,e,t):la(isNaN(n)?e:n)}}function _t(t,n){var e=n-t;return e?Cl(t,e):la(isNaN(t)?n:t)}const Qn=function t(n){var e=e2(n);function r(i,a){var o=e((i=Ln(i)).r,(a=Ln(a)).r),f=e(i.g,a.g),u=e(i.b,a.b),c=_t(i.opacity,a.opacity);return function(s){return i.r=o(s),i.g=f(s),i.b=u(s),i.opacity=c(s),i+""}}return r.gamma=t,r}(1);function r2(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),a=new Array(e),o,f;for(o=0;o<e;++o)f=Ln(n[o]),r[o]=f.r||0,i[o]=f.g||0,a[o]=f.b||0;return r=t(r),i=t(i),a=t(a),f.opacity=1,function(u){return f.r=r(u),f.g=i(u),f.b=a(u),f+""}}}var i2=r2(t2);function a2(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=t[i]*(1-a)+n[i]*a;return r}}function o2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function f2(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=Ar(t[o],n[o]);for(;o<e;++o)a[o]=n[o];return function(f){for(o=0;o<r;++o)a[o]=i[o](f);return a}}function u2(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function yt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function c2(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Ar(t[i],n[i]):r[i]=n[i];return function(a){for(i in e)r[i]=e[i](a);return r}}var Oo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ga=new RegExp(Oo.source,"g");function s2(t){return function(){return t}}function l2(t){return function(n){return t(n)+""}}function El(t,n){var e=Oo.lastIndex=Ga.lastIndex=0,r,i,a,o=-1,f=[],u=[];for(t=t+"",n=n+"";(r=Oo.exec(t))&&(i=Ga.exec(n));)(a=i.index)>e&&(a=n.slice(e,a),f[o]?f[o]+=a:f[++o]=a),(r=r[0])===(i=i[0])?f[o]?f[o]+=i:f[++o]=i:(f[++o]=null,u.push({i:o,x:yt(r,i)})),e=Ga.lastIndex;return e<n.length&&(a=n.slice(e),f[o]?f[o]+=a:f[++o]=a),f.length<2?u[0]?l2(u[0].x):s2(n):(n=u.length,function(c){for(var s=0,h;s<n;++s)f[(h=u[s]).i]=h.x(c);return f.join("")})}function Ar(t,n){var e=typeof n,r;return n==null||e==="boolean"?la(n):(e==="number"?yt:e==="string"?(r=jn(n))?(n=r,Qn):El:n instanceof jn?Qn:n instanceof Date?u2:o2(n)?a2:Array.isArray(n)?f2:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?c2:yt)(t,n)}function qf(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Ju=180/Math.PI,zo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function kl(t,n,e,r,i,a){var o,f,u;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(f=Math.sqrt(e*e+r*r))&&(e/=f,r/=f,u/=f),t*r<n*e&&(t=-t,n=-n,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*Ju,skewX:Math.atan(u)*Ju,scaleX:o,scaleY:f}}var Qr;function h2(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?zo:kl(n.a,n.b,n.c,n.d,n.e,n.f)}function d2(t){return t==null||(Qr||(Qr=document.createElementNS("http://www.w3.org/2000/svg","g")),Qr.setAttribute("transform",t),!(t=Qr.transform.baseVal.consolidate()))?zo:(t=t.matrix,kl(t.a,t.b,t.c,t.d,t.e,t.f))}function Nl(t,n,e,r){function i(c){return c.length?c.pop()+" ":""}function a(c,s,h,l,d,m){if(c!==h||s!==l){var p=d.push("translate(",null,n,null,e);m.push({i:p-4,x:yt(c,h)},{i:p-2,x:yt(s,l)})}else(h||l)&&d.push("translate("+h+n+l+e)}function o(c,s,h,l){c!==s?(c-s>180?s+=360:s-c>180&&(c+=360),l.push({i:h.push(i(h)+"rotate(",null,r)-2,x:yt(c,s)})):s&&h.push(i(h)+"rotate("+s+r)}function f(c,s,h,l){c!==s?l.push({i:h.push(i(h)+"skewX(",null,r)-2,x:yt(c,s)}):s&&h.push(i(h)+"skewX("+s+r)}function u(c,s,h,l,d,m){if(c!==h||s!==l){var p=d.push(i(d)+"scale(",null,",",null,")");m.push({i:p-4,x:yt(c,h)},{i:p-2,x:yt(s,l)})}else(h!==1||l!==1)&&d.push(i(d)+"scale("+h+","+l+")")}return function(c,s){var h=[],l=[];return c=t(c),s=t(s),a(c.translateX,c.translateY,s.translateX,s.translateY,h,l),o(c.rotate,s.rotate,h,l),f(c.skewX,s.skewX,h,l),u(c.scaleX,c.scaleY,s.scaleX,s.scaleY,h,l),c=s=null,function(d){for(var m=-1,p=l.length,b;++m<p;)h[(b=l[m]).i]=b.x(d);return h.join("")}}}var m2=Nl(h2,"px, ","px)","deg)"),p2=Nl(d2,", ",")",")");function g2(t){return function(n,e){var r=t((n=Ro(n)).h,(e=Ro(e)).h),i=_t(n.s,e.s),a=_t(n.l,e.l),o=_t(n.opacity,e.opacity);return function(f){return n.h=r(f),n.s=i(f),n.l=a(f),n.opacity=o(f),n+""}}}const b2=g2(Uf);function y2(t,n){var e=_t((t=Po(t)).l,(n=Po(n)).l),r=_t(t.a,n.a),i=_t(t.b,n.b),a=_t(t.opacity,n.opacity);return function(o){return t.l=e(o),t.a=r(o),t.b=i(o),t.opacity=a(o),t+""}}function w2(t){return function(n,e){var r=t((n=Fo(n)).h,(e=Fo(e)).h),i=_t(n.c,e.c),a=_t(n.l,e.l),o=_t(n.opacity,e.opacity);return function(f){return n.h=r(f),n.c=i(f),n.l=a(f),n.opacity=o(f),n+""}}}const _2=w2(Uf);function Ll(t){return function n(e){e=+e;function r(i,a){var o=t((i=an(i)).h,(a=an(a)).h),f=_t(i.s,a.s),u=_t(i.l,a.l),c=_t(i.opacity,a.opacity);return function(s){return i.h=o(s),i.s=f(s),i.l=u(Math.pow(s,e)),i.opacity=c(s),i+""}}return r.gamma=n,r}(1)}Ll(Uf);var Bf=Ll(_t);function ha(t,n){n===void 0&&(n=t,t=Ar);for(var e=0,r=n.length-1,i=n[0],a=new Array(r<0?0:r);e<r;)a[e]=t(i,i=n[++e]);return function(o){var f=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[f](o-f)}}function Wt(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}var $e=0,Ze=0,Ye=0,Il=1e3,ki,Ke,Ni=0,Jn=0,da=0,dr=typeof performance=="object"&&performance.now?performance:Date,Dl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Yf(){return Jn||(Dl(v2),Jn=dr.now()+da)}function v2(){Jn=0}function Li(){this._call=this._time=this._next=null}Li.prototype=Rl.prototype={constructor:Li,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Yf():+e)+(n==null?0:+n),!this._next&&Ke!==this&&(Ke?Ke._next=this:ki=this,Ke=this),this._call=t,this._time=e,Uo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Uo())}};function Rl(t,n,e){var r=new Li;return r.restart(t,n,e),r}function x2(){Yf(),++$e;for(var t=ki,n;t;)(n=Jn-t._time)>=0&&t._call.call(void 0,n),t=t._next;--$e}function tc(){Jn=(Ni=dr.now())+da,$e=Ze=0;try{x2()}finally{$e=0,$2(),Jn=0}}function M2(){var t=dr.now(),n=t-Ni;n>Il&&(da-=n,Ni=t)}function $2(){for(var t,n=ki,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ki=e);Ke=t,Uo(r)}function Uo(t){if(!$e){Ze&&(Ze=clearTimeout(Ze));var n=t-Jn;n>24?(t<1/0&&(Ze=setTimeout(tc,t-dr.now()-da)),Ye&&(Ye=clearInterval(Ye))):(Ye||(Ni=dr.now(),Ye=setInterval(M2,Il)),$e=1,Dl(tc))}}function nc(t,n,e){var r=new Li;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var T2=al("start","end","cancel","interrupt"),S2=[],Pl=0,ec=1,qo=2,gi=3,rc=4,Bo=5,bi=6;function ma(t,n,e,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;A2(t,e,{name:n,index:r,group:i,on:T2,tween:S2,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Pl})}function Hf(t,n){var e=Gt(t,n);if(e.state>Pl)throw new Error("too late; already scheduled");return e}function cn(t,n){var e=Gt(t,n);if(e.state>gi)throw new Error("too late; already running");return e}function Gt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function A2(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Rl(a,0,e.time);function a(c){e.state=ec,e.timer.restart(o,e.delay,e.time),e.delay<=c&&o(c-e.delay)}function o(c){var s,h,l,d;if(e.state!==ec)return u();for(s in r)if(d=r[s],d.name===e.name){if(d.state===gi)return nc(o);d.state===rc?(d.state=bi,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[s]):+s<n&&(d.state=bi,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[s])}if(nc(function(){e.state===gi&&(e.state=rc,e.timer.restart(f,e.delay,e.time),f(c))}),e.state=qo,e.on.call("start",t,t.__data__,e.index,e.group),e.state===qo){for(e.state=gi,i=new Array(l=e.tween.length),s=0,h=-1;s<l;++s)(d=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=d);i.length=h+1}}function f(c){for(var s=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(u),e.state=Bo,1),h=-1,l=i.length;++h<l;)i[h].call(t,s);e.state===Bo&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=bi,e.timer.stop(),delete r[n];for(var c in r)return;delete t.__transition}}function C2(t,n){var e=t.__transition,r,i,a=!0,o;if(e){n=n==null?null:n+"";for(o in e){if((r=e[o]).name!==n){a=!1;continue}i=r.state>qo&&r.state<Bo,r.state=bi,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[o]}a&&delete t.__transition}}function E2(t){return this.each(function(){C2(this,t)})}function k2(t,n){var e,r;return function(){var i=cn(this,t),a=i.tween;if(a!==e){r=e=a;for(var o=0,f=r.length;o<f;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function N2(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var a=cn(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var f={name:n,value:e},u=0,c=i.length;u<c;++u)if(i[u].name===n){i[u]=f;break}u===c&&i.push(f)}a.tween=i}}function L2(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=Gt(this.node(),e).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((n==null?k2:N2)(e,t,n))}function Wf(t,n,e){var r=t._id;return t.each(function(){var i=cn(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return Gt(i,r).value[n]}}function Fl(t,n){var e;return(typeof n=="number"?yt:n instanceof jn?Qn:(e=jn(n))?(n=e,Qn):El)(t,n)}function I2(t){return function(){this.removeAttribute(t)}}function D2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function R2(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=n(r=o,e)}}function P2(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=n(r=o,e)}}function F2(t,n,e){var r,i,a;return function(){var o,f=e(this),u;return f==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=f+"",o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,f)))}}function O2(t,n,e){var r,i,a;return function(){var o,f=e(this),u;return f==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=f+"",o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,f)))}}function z2(t,n){var e=ua(t),r=e==="transform"?p2:Fl;return this.attrTween(t,typeof n=="function"?(e.local?O2:F2)(e,r,Wf(this,"attr."+t,n)):n==null?(e.local?D2:I2)(e):(e.local?P2:R2)(e,r,n))}function U2(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function q2(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function B2(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&q2(t,a)),e}return i._value=n,i}function Y2(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&U2(t,a)),e}return i._value=n,i}function H2(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=ua(t);return this.tween(e,(r.local?B2:Y2)(r,n))}function W2(t,n){return function(){Hf(this,t).delay=+n.apply(this,arguments)}}function V2(t,n){return n=+n,function(){Hf(this,t).delay=n}}function X2(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?W2:V2)(n,t)):Gt(this.node(),n).delay}function G2(t,n){return function(){cn(this,t).duration=+n.apply(this,arguments)}}function Z2(t,n){return n=+n,function(){cn(this,t).duration=n}}function K2(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?G2:Z2)(n,t)):Gt(this.node(),n).duration}function j2(t,n){if(typeof n!="function")throw new Error;return function(){cn(this,t).ease=n}}function Q2(t){var n=this._id;return arguments.length?this.each(j2(n,t)):Gt(this.node(),n).ease}function J2(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;cn(this,t).ease=e}}function tb(t){if(typeof t!="function")throw new Error;return this.each(J2(this._id,t))}function nb(t){typeof t!="function"&&(t=fl(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=[],u,c=0;c<o;++c)(u=a[c])&&t.call(u,u.__data__,c,a)&&f.push(u);return new _n(r,this._parents,this._name,this._id)}function eb(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),f=0;f<a;++f)for(var u=n[f],c=e[f],s=u.length,h=o[f]=new Array(s),l,d=0;d<s;++d)(l=u[d]||c[d])&&(h[d]=l);for(;f<r;++f)o[f]=n[f];return new _n(o,this._parents,this._name,this._id)}function rb(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function ib(t,n,e){var r,i,a=rb(n)?Hf:cn;return function(){var o=a(this,t),f=o.on;f!==r&&(i=(r=f).copy()).on(n,e),o.on=i}}function ab(t,n){var e=this._id;return arguments.length<2?Gt(this.node(),e).on.on(t):this.each(ib(e,t,n))}function ob(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function fb(){return this.on("end.remove",ob(this._id))}function ub(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Rf(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var f=r[o],u=f.length,c=a[o]=new Array(u),s,h,l=0;l<u;++l)(s=f[l])&&(h=t.call(s,s.__data__,l,f))&&("__data__"in s&&(h.__data__=s.__data__),c[l]=h,ma(c[l],n,e,l,c,Gt(s,e)));return new _n(a,this._parents,n,e)}function cb(t){var n=this._name,e=this._id;typeof t!="function"&&(t=ol(t));for(var r=this._groups,i=r.length,a=[],o=[],f=0;f<i;++f)for(var u=r[f],c=u.length,s,h=0;h<c;++h)if(s=u[h]){for(var l=t.call(s,s.__data__,h,u),d,m=Gt(s,e),p=0,b=l.length;p<b;++p)(d=l[p])&&ma(d,n,e,p,l,m);a.push(l),o.push(s)}return new _n(a,o,n,e)}var sb=Tr.prototype.constructor;function lb(){return new sb(this._groups,this._parents)}function hb(t,n){var e,r,i;return function(){var a=xe(this,t),o=(this.style.removeProperty(t),xe(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}function Ol(t){return function(){this.style.removeProperty(t)}}function db(t,n,e){var r,i=e+"",a;return function(){var o=xe(this,t);return o===i?null:o===r?a:a=n(r=o,e)}}function mb(t,n,e){var r,i,a;return function(){var o=xe(this,t),f=e(this),u=f+"";return f==null&&(u=f=(this.style.removeProperty(t),xe(this,t))),o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,f))}}function pb(t,n){var e,r,i,a="style."+n,o="end."+a,f;return function(){var u=cn(this,t),c=u.on,s=u.value[a]==null?f||(f=Ol(n)):void 0;(c!==e||i!==s)&&(r=(e=c).copy()).on(o,i=s),u.on=r}}function gb(t,n,e){var r=(t+="")=="transform"?m2:Fl;return n==null?this.styleTween(t,hb(t,r)).on("end.style."+t,Ol(t)):typeof n=="function"?this.styleTween(t,mb(t,r,Wf(this,"style."+t,n))).each(pb(this._id,t)):this.styleTween(t,db(t,r,n),e).on("end.style."+t,null)}function bb(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function yb(t,n,e){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&bb(t,o,e)),r}return a._value=n,a}function wb(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,yb(t,n,e??""))}function _b(t){return function(){this.textContent=t}}function vb(t){return function(){var n=t(this);this.textContent=n??""}}function xb(t){return this.tween("text",typeof t=="function"?vb(Wf(this,"text",t)):_b(t==null?"":t+""))}function Mb(t){return function(n){this.textContent=t.call(this,n)}}function $b(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Mb(i)),n}return r._value=t,r}function Tb(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,$b(t))}function Sb(){for(var t=this._name,n=this._id,e=zl(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,u,c=0;c<f;++c)if(u=o[c]){var s=Gt(u,n);ma(u,t,e,c,o,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new _n(r,this._parents,t,e)}function Ab(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var f={value:o},u={value:function(){--i===0&&a()}};e.each(function(){var c=cn(this,r),s=c.on;s!==t&&(n=(t=s).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(u)),c.on=n}),i===0&&a()})}var Cb=0;function _n(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function zl(){return++Cb}var ln=Tr.prototype;_n.prototype={constructor:_n,select:ub,selectAll:cb,selectChild:ln.selectChild,selectChildren:ln.selectChildren,filter:nb,merge:eb,selection:lb,transition:Sb,call:ln.call,nodes:ln.nodes,node:ln.node,size:ln.size,empty:ln.empty,each:ln.each,on:ab,attr:z2,attrTween:H2,style:gb,styleTween:wb,text:xb,textTween:Tb,remove:fb,tween:L2,delay:X2,duration:K2,ease:Q2,easeVarying:tb,end:Ab,[Symbol.iterator]:ln[Symbol.iterator]};function Eb(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var kb={time:null,delay:0,duration:250,ease:Eb};function Nb(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Lb(t){var n,e;t instanceof _n?(n=t._id,t=t._name):(n=zl(),(e=kb).time=Yf(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,u,c=0;c<f;++c)(u=o[c])&&ma(u,t,n,c,o,e||Nb(u,n));return new _n(r,this._parents,t,n)}Tr.prototype.interrupt=E2;Tr.prototype.transition=Lb;const Yo=Math.PI,Ho=2*Yo,qn=1e-6,Ib=Ho-qn;function Ul(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Db(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Ul;const e=10**n;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class Rb{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Ul:Db(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,a,o){this._append`C${+n},${+e},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(n,e,r,i,a){if(n=+n,e=+e,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,f=this._y1,u=r-n,c=i-e,s=o-n,h=f-e,l=s*s+h*h;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(l>qn)if(!(Math.abs(h*u-c*s)>qn)||!a)this._append`L${this._x1=n},${this._y1=e}`;else{let d=r-o,m=i-f,p=u*u+c*c,b=d*d+m*m,w=Math.sqrt(p),g=Math.sqrt(l),x=a*Math.tan((Yo-Math.acos((p+l-b)/(2*w*g)))/2),y=x/g,v=x/w;Math.abs(y-1)>qn&&this._append`L${n+y*s},${e+y*h}`,this._append`A${a},${a},0,0,${+(h*d>s*m)},${this._x1=n+v*u},${this._y1=e+v*c}`}}arc(n,e,r,i,a,o){if(n=+n,e=+e,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),u=r*Math.sin(i),c=n+f,s=e+u,h=1^o,l=o?i-a:a-i;this._x1===null?this._append`M${c},${s}`:(Math.abs(this._x1-c)>qn||Math.abs(this._y1-s)>qn)&&this._append`L${c},${s}`,r&&(l<0&&(l=l%Ho+Ho),l>Ib?this._append`A${r},${r},0,1,${h},${n-f},${e-u}A${r},${r},0,1,${h},${this._x1=c},${this._y1=s}`:l>qn&&this._append`A${r},${r},0,${+(l>=Yo)},${h},${this._x1=n+r*Math.cos(a)},${this._y1=e+r*Math.sin(a)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function An(t=3){return new Rb(+t)}function Pb(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ii(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Te(t){return t=Ii(Math.abs(t)),t?t[1]:NaN}function Fb(t,n){return function(e,r){for(var i=e.length,a=[],o=0,f=t[0],u=0;i>0&&f>0&&(u+f+1>r&&(f=Math.max(1,r-u)),a.push(e.substring(i-=f,i+f)),!((u+=f+1)>r));)f=t[o=(o+1)%t.length];return a.reverse().join(n)}}function Ob(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var zb=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mr(t){if(!(n=zb.exec(t)))throw new Error("invalid format: "+t);var n;return new Vf({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}mr.prototype=Vf.prototype;function Vf(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Vf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ub(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ql;function qb(t,n){var e=Ii(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(ql=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ii(t,Math.max(0,n+a-1))[0]}function ic(t,n){var e=Ii(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ac={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Pb,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>ic(t*100,n),r:ic,s:qb,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function oc(t){return t}var fc=Array.prototype.map,uc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Bb(t){var n=t.grouping===void 0||t.thousands===void 0?oc:Fb(fc.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?oc:Ob(fc.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(h){h=mr(h);var l=h.fill,d=h.align,m=h.sign,p=h.symbol,b=h.zero,w=h.width,g=h.comma,x=h.precision,y=h.trim,v=h.type;v==="n"?(g=!0,v="g"):ac[v]||(x===void 0&&(x=12),y=!0,v="g"),(b||l==="0"&&d==="=")&&(b=!0,l="0",d="=");var _=p==="$"?e:p==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",M=p==="$"?r:/[%p]/.test(v)?o:"",C=ac[v],S=/[defgprs%]/.test(v);x=x===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function k($){var N=_,I=M,P,T,F;if(v==="c")I=C($)+I,$="";else{$=+$;var Y=$<0||1/$<0;if($=isNaN($)?u:C(Math.abs($),x),y&&($=Ub($)),Y&&+$==0&&m!=="+"&&(Y=!1),N=(Y?m==="("?m:f:m==="-"||m==="("?"":m)+N,I=(v==="s"?uc[8+ql/3]:"")+I+(Y&&m==="("?")":""),S){for(P=-1,T=$.length;++P<T;)if(F=$.charCodeAt(P),48>F||F>57){I=(F===46?i+$.slice(P+1):$.slice(P))+I,$=$.slice(0,P);break}}}g&&!b&&($=n($,1/0));var q=N.length+$.length+I.length,H=q<w?new Array(w-q+1).join(l):"";switch(g&&b&&($=n(H+$,H.length?w-I.length:1/0),H=""),d){case"<":$=N+$+I+H;break;case"=":$=N+H+$+I;break;case"^":$=H.slice(0,q=H.length>>1)+N+$+I+H.slice(q);break;default:$=H+N+$+I;break}return a($)}return k.toString=function(){return h+""},k}function s(h,l){var d=c((h=mr(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(Te(l)/3)))*3,p=Math.pow(10,-m),b=uc[8+m/3];return function(w){return d(p*w)+b}}return{format:c,formatPrefix:s}}var Jr,Fe,Bl;Yb({thousands:",",grouping:[3],currency:["$",""]});function Yb(t){return Jr=Bb(t),Fe=Jr.format,Bl=Jr.formatPrefix,Jr}function Hb(t){return Math.max(0,-Te(Math.abs(t)))}function Wb(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Te(n)/3)))*3-Te(Math.abs(t)))}function Vb(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Te(n)-Te(t))+1}var G=1e-6,Yl=1e-12,Q=Math.PI,ct=Q/2,cc=Q/4,Nt=Q*2,Mt=180/Q,ut=Q/180,rt=Math.abs,Oe=Math.atan,vn=Math.atan2,j=Math.cos,Hl=Math.exp,Di=Math.log,Za=Math.pow,X=Math.sin,Rt=Math.sign||function(t){return t>0?1:t<0?-1:0},At=Math.sqrt,Xf=Math.tan;function Wl(t){return t>1?0:t<-1?Q:Math.acos(t)}function zt(t){return t>1?ct:t<-1?-ct:Math.asin(t)}function Pt(){}function Ri(t,n){t&&lc.hasOwnProperty(t.type)&&lc[t.type](t,n)}var sc={Feature:function(t,n){Ri(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Ri(e[r].geometry,n)}},lc={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Wo(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Wo(e[r],n,0)},Polygon:function(t,n){hc(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)hc(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Ri(e[r],n)}};function Wo(t,n,e){var r=-1,i=t.length-e,a;for(n.lineStart();++r<i;)a=t[r],n.point(a[0],a[1],a[2]);n.lineEnd()}function hc(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Wo(t[e],n,1);n.polygonEnd()}function Bn(t,n){t&&sc.hasOwnProperty(t.type)?sc[t.type](t,n):Ri(t,n)}function Vo(t){return[vn(t[1],t[0]),zt(t[2])]}function Se(t){var n=t[0],e=t[1],r=j(e);return[r*j(n),r*X(n),X(e)]}function ti(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Pi(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Ka(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function ni(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Xo(t){var n=At(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Go(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function Zo(t,n){return rt(t)>Q&&(t-=Math.round(t/Nt)*Nt),[t,n]}Zo.invert=Zo;function Vl(t,n,e){return(t%=Nt)?n||e?Go(mc(t),pc(n,e)):mc(t):n||e?pc(n,e):Zo}function dc(t){return function(n,e){return n+=t,rt(n)>Q&&(n-=Math.round(n/Nt)*Nt),[n,e]}}function mc(t){var n=dc(t);return n.invert=dc(-t),n}function pc(t,n){var e=j(t),r=X(t),i=j(n),a=X(n);function o(f,u){var c=j(u),s=j(f)*c,h=X(f)*c,l=X(u),d=l*e+s*r;return[vn(h*i-d*a,s*e-l*r),zt(d*i+h*a)]}return o.invert=function(f,u){var c=j(u),s=j(f)*c,h=X(f)*c,l=X(u),d=l*i-h*a;return[vn(h*i+l*a,s*e+d*r),zt(d*e-s*r)]},o}function Xb(t){t=Vl(t[0]*ut,t[1]*ut,t.length>2?t[2]*ut:0);function n(e){return e=t(e[0]*ut,e[1]*ut),e[0]*=Mt,e[1]*=Mt,e}return n.invert=function(e){return e=t.invert(e[0]*ut,e[1]*ut),e[0]*=Mt,e[1]*=Mt,e},n}function Gb(t,n,e,r,i,a){if(e){var o=j(n),f=X(n),u=r*e;i==null?(i=n+r*Nt,a=n-u/2):(i=gc(o,i),a=gc(o,a),(r>0?i<a:i>a)&&(i+=r*Nt));for(var c,s=i;r>0?s>a:s<a;s-=u)c=Vo([o,-f*j(s),-f*X(s)]),t.point(c[0],c[1])}}function gc(t,n){n=Se(n),n[0]-=t,Xo(n);var e=Wl(-n[1]);return((-n[2]<0?-e:e)+Nt-G)%Nt}function Xl(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:Pt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function yi(t,n){return rt(t[0]-n[0])<G&&rt(t[1]-n[1])<G}function ei(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Gl(t,n,e,r,i){var a=[],o=[],f,u;if(t.forEach(function(m){if(!((p=m.length-1)<=0)){var p,b=m[0],w=m[p],g;if(yi(b,w)){if(!b[2]&&!w[2]){for(i.lineStart(),f=0;f<p;++f)i.point((b=m[f])[0],b[1]);i.lineEnd();return}w[0]+=2*G}a.push(g=new ei(b,m,null,!0)),o.push(g.o=new ei(b,null,g,!1)),a.push(g=new ei(w,m,null,!1)),o.push(g.o=new ei(w,null,g,!0))}}),!!a.length){for(o.sort(n),bc(a),bc(o),f=0,u=o.length;f<u;++f)o[f].e=e=!e;for(var c=a[0],s,h;;){for(var l=c,d=!0;l.v;)if((l=l.n)===c)return;s=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(d)for(f=0,u=s.length;f<u;++f)i.point((h=s[f])[0],h[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(d)for(s=l.p.z,f=s.length-1;f>=0;--f)i.point((h=s[f])[0],h[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,s=l.z,d=!d}while(!l.v);i.lineEnd()}}}function bc(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function ja(t){return rt(t[0])<=Q?t[0]:Rt(t[0])*((rt(t[0])+Q)%Nt-Q)}function Zb(t,n){var e=ja(n),r=n[1],i=X(r),a=[X(e),-j(e),0],o=0,f=0,u=new Zn;i===1?r=ct+G:i===-1&&(r=-ct-G);for(var c=0,s=t.length;c<s;++c)if(l=(h=t[c]).length)for(var h,l,d=h[l-1],m=ja(d),p=d[1]/2+cc,b=X(p),w=j(p),g=0;g<l;++g,m=y,b=_,w=M,d=x){var x=h[g],y=ja(x),v=x[1]/2+cc,_=X(v),M=j(v),C=y-m,S=C>=0?1:-1,k=S*C,$=k>Q,N=b*_;if(u.add(vn(N*S*X(k),w*M+N*j(k))),o+=$?C+S*Nt:C,$^m>=e^y>=e){var I=Pi(Se(d),Se(x));Xo(I);var P=Pi(a,I);Xo(P);var T=($^C>=0?-1:1)*zt(P[2]);(r>T||r===T&&(I[0]||I[1]))&&(f+=$^C>=0?1:-1)}}return(o<-G||o<G&&u<-Yl)^f&1}function Zl(t,n,e,r){return function(i){var a=n(i),o=Xl(),f=n(o),u=!1,c,s,h,l={point:d,lineStart:p,lineEnd:b,polygonStart:function(){l.point=w,l.lineStart=g,l.lineEnd=x,s=[],c=[]},polygonEnd:function(){l.point=d,l.lineStart=p,l.lineEnd=b,s=il(s);var y=Zb(c,r);s.length?(u||(i.polygonStart(),u=!0),Gl(s,jb,y,e,i)):y&&(u||(i.polygonStart(),u=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),s=c=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(y,v){t(y,v)&&i.point(y,v)}function m(y,v){a.point(y,v)}function p(){l.point=m,a.lineStart()}function b(){l.point=d,a.lineEnd()}function w(y,v){h.push([y,v]),f.point(y,v)}function g(){f.lineStart(),h=[]}function x(){w(h[0][0],h[0][1]),f.lineEnd();var y=f.clean(),v=o.result(),_,M=v.length,C,S,k;if(h.pop(),c.push(h),h=null,!!M){if(y&1){if(S=v[0],(C=S.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),_=0;_<C;++_)i.point((k=S[_])[0],k[1]);i.lineEnd()}return}M>1&&y&2&&v.push(v.pop().concat(v.shift())),s.push(v.filter(Kb))}}return l}}function Kb(t){return t.length>1}function jb(t,n){return((t=t.x)[0]<0?t[1]-ct-G:ct-t[1])-((n=n.x)[0]<0?n[1]-ct-G:ct-n[1])}const yc=Zl(function(){return!0},Qb,ty,[-Q,-ct]);function Qb(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var f=a>0?Q:-Q,u=rt(a-n);rt(u-Q)<G?(t.point(n,e=(e+o)/2>0?ct:-ct),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),t.point(a,e),i=0):r!==f&&u>=Q&&(rt(n-r)<G&&(n-=r*G),rt(a-f)<G&&(a-=f*G),e=Jb(n,e,a,o),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),i=0),t.point(n=a,e=o),r=f},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function Jb(t,n,e,r){var i,a,o=X(t-e);return rt(o)>G?Oe((X(n)*(a=j(r))*X(e)-X(r)*(i=j(n))*X(t))/(i*a*o)):(n+r)/2}function ty(t,n,e,r){var i;if(t==null)i=e*ct,r.point(-Q,i),r.point(0,i),r.point(Q,i),r.point(Q,0),r.point(Q,-i),r.point(0,-i),r.point(-Q,-i),r.point(-Q,0),r.point(-Q,i);else if(rt(t[0]-n[0])>G){var a=t[0]<n[0]?Q:-Q;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])}function ny(t){var n=j(t),e=6*ut,r=n>0,i=rt(n)>G;function a(s,h,l,d){Gb(d,t,e,l,s,h)}function o(s,h){return j(s)*j(h)>n}function f(s){var h,l,d,m,p;return{lineStart:function(){m=d=!1,p=1},point:function(b,w){var g=[b,w],x,y=o(b,w),v=r?y?0:c(b,w):y?c(b+(b<0?Q:-Q),w):0;if(!h&&(m=d=y)&&s.lineStart(),y!==d&&(x=u(h,g),(!x||yi(h,x)||yi(g,x))&&(g[2]=1)),y!==d)p=0,y?(s.lineStart(),x=u(g,h),s.point(x[0],x[1])):(x=u(h,g),s.point(x[0],x[1],2),s.lineEnd()),h=x;else if(i&&h&&r^y){var _;!(v&l)&&(_=u(g,h,!0))&&(p=0,r?(s.lineStart(),s.point(_[0][0],_[0][1]),s.point(_[1][0],_[1][1]),s.lineEnd()):(s.point(_[1][0],_[1][1]),s.lineEnd(),s.lineStart(),s.point(_[0][0],_[0][1],3)))}y&&(!h||!yi(h,g))&&s.point(g[0],g[1]),h=g,d=y,l=v},lineEnd:function(){d&&s.lineEnd(),h=null},clean:function(){return p|(m&&d)<<1}}}function u(s,h,l){var d=Se(s),m=Se(h),p=[1,0,0],b=Pi(d,m),w=ti(b,b),g=b[0],x=w-g*g;if(!x)return!l&&s;var y=n*w/x,v=-n*g/x,_=Pi(p,b),M=ni(p,y),C=ni(b,v);Ka(M,C);var S=_,k=ti(M,S),$=ti(S,S),N=k*k-$*(ti(M,M)-1);if(!(N<0)){var I=At(N),P=ni(S,(-k-I)/$);if(Ka(P,M),P=Vo(P),!l)return P;var T=s[0],F=h[0],Y=s[1],q=h[1],H;F<T&&(H=T,T=F,F=H);var L=F-T,D=rt(L-Q)<G,R=D||L<G;if(!D&&q<Y&&(H=Y,Y=q,q=H),R?D?Y+q>0^P[1]<(rt(P[0]-T)<G?Y:q):Y<=P[1]&&P[1]<=q:L>Q^(T<=P[0]&&P[0]<=F)){var O=ni(S,(-k+I)/$);return Ka(O,M),[P,Vo(O)]}}}function c(s,h){var l=r?t:Q-t,d=0;return s<-l?d|=1:s>l&&(d|=2),h<-l?d|=4:h>l&&(d|=8),d}return Zl(o,f,a,r?[0,-t]:[-Q,t-Q])}function ey(t,n,e,r,i,a){var o=t[0],f=t[1],u=n[0],c=n[1],s=0,h=1,l=u-o,d=c-f,m;if(m=e-o,!(!l&&m>0)){if(m/=l,l<0){if(m<s)return;m<h&&(h=m)}else if(l>0){if(m>h)return;m>s&&(s=m)}if(m=i-o,!(!l&&m<0)){if(m/=l,l<0){if(m>h)return;m>s&&(s=m)}else if(l>0){if(m<s)return;m<h&&(h=m)}if(m=r-f,!(!d&&m>0)){if(m/=d,d<0){if(m<s)return;m<h&&(h=m)}else if(d>0){if(m>h)return;m>s&&(s=m)}if(m=a-f,!(!d&&m<0)){if(m/=d,d<0){if(m>h)return;m>s&&(s=m)}else if(d>0){if(m<s)return;m<h&&(h=m)}return s>0&&(t[0]=o+s*l,t[1]=f+s*d),h<1&&(n[0]=o+h*l,n[1]=f+h*d),!0}}}}}var je=1e9,ri=-je;function Kl(t,n,e,r){function i(c,s){return t<=c&&c<=e&&n<=s&&s<=r}function a(c,s,h,l){var d=0,m=0;if(c==null||(d=o(c,h))!==(m=o(s,h))||u(c,s)<0^h>0)do l.point(d===0||d===3?t:e,d>1?r:n);while((d=(d+h+4)%4)!==m);else l.point(s[0],s[1])}function o(c,s){return rt(c[0]-t)<G?s>0?0:3:rt(c[0]-e)<G?s>0?2:1:rt(c[1]-n)<G?s>0?1:0:s>0?3:2}function f(c,s){return u(c.x,s.x)}function u(c,s){var h=o(c,1),l=o(s,1);return h!==l?h-l:h===0?s[1]-c[1]:h===1?c[0]-s[0]:h===2?c[1]-s[1]:s[0]-c[0]}return function(c){var s=c,h=Xl(),l,d,m,p,b,w,g,x,y,v,_,M={point:C,lineStart:N,lineEnd:I,polygonStart:k,polygonEnd:$};function C(T,F){i(T,F)&&s.point(T,F)}function S(){for(var T=0,F=0,Y=d.length;F<Y;++F)for(var q=d[F],H=1,L=q.length,D=q[0],R,O,J=D[0],tt=D[1];H<L;++H)R=J,O=tt,D=q[H],J=D[0],tt=D[1],O<=r?tt>r&&(J-R)*(r-O)>(tt-O)*(t-R)&&++T:tt<=r&&(J-R)*(r-O)<(tt-O)*(t-R)&&--T;return T}function k(){s=h,l=[],d=[],_=!0}function $(){var T=S(),F=_&&T,Y=(l=il(l)).length;(F||Y)&&(c.polygonStart(),F&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),Y&&Gl(l,f,T,a,c),c.polygonEnd()),s=c,l=d=m=null}function N(){M.point=P,d&&d.push(m=[]),v=!0,y=!1,g=x=NaN}function I(){l&&(P(p,b),w&&y&&h.rejoin(),l.push(h.result())),M.point=C,y&&s.lineEnd()}function P(T,F){var Y=i(T,F);if(d&&m.push([T,F]),v)p=T,b=F,w=Y,v=!1,Y&&(s.lineStart(),s.point(T,F));else if(Y&&y)s.point(T,F);else{var q=[g=Math.max(ri,Math.min(je,g)),x=Math.max(ri,Math.min(je,x))],H=[T=Math.max(ri,Math.min(je,T)),F=Math.max(ri,Math.min(je,F))];ey(q,H,t,n,e,r)?(y||(s.lineStart(),s.point(q[0],q[1])),s.point(H[0],H[1]),Y||s.lineEnd(),_=!1):Y&&(s.lineStart(),s.point(T,F),_=!1)}g=T,x=F,y=Y}return M}}const Ko=t=>t;var Qa=new Zn,jo=new Zn,jl,Ql,Qo,Jo,Sn={point:Pt,lineStart:Pt,lineEnd:Pt,polygonStart:function(){Sn.lineStart=ry,Sn.lineEnd=ay},polygonEnd:function(){Sn.lineStart=Sn.lineEnd=Sn.point=Pt,Qa.add(rt(jo)),jo=new Zn},result:function(){var t=Qa/2;return Qa=new Zn,t}};function ry(){Sn.point=iy}function iy(t,n){Sn.point=Jl,jl=Qo=t,Ql=Jo=n}function Jl(t,n){jo.add(Jo*t-Qo*n),Qo=t,Jo=n}function ay(){Jl(jl,Ql)}const wc=Sn;var Ae=1/0,Fi=Ae,pr=-Ae,Oi=pr,oy={point:fy,lineStart:Pt,lineEnd:Pt,polygonStart:Pt,polygonEnd:Pt,result:function(){var t=[[Ae,Fi],[pr,Oi]];return pr=Oi=-(Fi=Ae=1/0),t}};function fy(t,n){t<Ae&&(Ae=t),t>pr&&(pr=t),n<Fi&&(Fi=n),n>Oi&&(Oi=n)}const zi=oy;var tf=0,nf=0,Qe=0,Ui=0,qi=0,pe=0,ef=0,rf=0,Je=0,th,nh,Qt,Jt,Yt={point:te,lineStart:_c,lineEnd:vc,polygonStart:function(){Yt.lineStart=sy,Yt.lineEnd=ly},polygonEnd:function(){Yt.point=te,Yt.lineStart=_c,Yt.lineEnd=vc},result:function(){var t=Je?[ef/Je,rf/Je]:pe?[Ui/pe,qi/pe]:Qe?[tf/Qe,nf/Qe]:[NaN,NaN];return tf=nf=Qe=Ui=qi=pe=ef=rf=Je=0,t}};function te(t,n){tf+=t,nf+=n,++Qe}function _c(){Yt.point=uy}function uy(t,n){Yt.point=cy,te(Qt=t,Jt=n)}function cy(t,n){var e=t-Qt,r=n-Jt,i=At(e*e+r*r);Ui+=i*(Qt+t)/2,qi+=i*(Jt+n)/2,pe+=i,te(Qt=t,Jt=n)}function vc(){Yt.point=te}function sy(){Yt.point=hy}function ly(){eh(th,nh)}function hy(t,n){Yt.point=eh,te(th=Qt=t,nh=Jt=n)}function eh(t,n){var e=t-Qt,r=n-Jt,i=At(e*e+r*r);Ui+=i*(Qt+t)/2,qi+=i*(Jt+n)/2,pe+=i,i=Jt*t-Qt*n,ef+=i*(Qt+t),rf+=i*(Jt+n),Je+=i*3,te(Qt=t,Jt=n)}const xc=Yt;function rh(t){this._context=t}rh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Nt);break}}},result:Pt};var af=new Zn,Ja,ih,ah,tr,nr,Bi={point:Pt,lineStart:function(){Bi.point=dy},lineEnd:function(){Ja&&oh(ih,ah),Bi.point=Pt},polygonStart:function(){Ja=!0},polygonEnd:function(){Ja=null},result:function(){var t=+af;return af=new Zn,t}};function dy(t,n){Bi.point=oh,ih=tr=t,ah=nr=n}function oh(t,n){tr-=t,nr-=n,af.add(At(tr*tr+nr*nr)),tr=t,nr=n}const Mc=Bi;let $c,Yi,Tc,Sc;class Ac{constructor(n){this._append=n==null?fh:my(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==Tc||this._append!==Yi){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Tc=r,Yi=this._append,Sc=this._,this._=i}this._+=Sc;break}}}result(){const n=this._;return this._="",n.length?n:null}}function fh(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function my(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return fh;if(n!==$c){const e=10**n;$c=n,Yi=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*e)/e+i[a]}}return Yi}function Gf(t,n){let e=3,r=4.5,i,a;function o(f){return f&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Bn(f,i(a))),a.result()}return o.area=function(f){return Bn(f,i(wc)),wc.result()},o.measure=function(f){return Bn(f,i(Mc)),Mc.result()},o.bounds=function(f){return Bn(f,i(zi)),zi.result()},o.centroid=function(f){return Bn(f,i(xc)),xc.result()},o.projection=function(f){return arguments.length?(i=f==null?(t=null,Ko):(t=f).stream,o):t},o.context=function(f){return arguments.length?(a=f==null?(n=null,new Ac(e)):new rh(n=f),typeof r!="function"&&a.pointRadius(r),o):n},o.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(a.pointRadius(+f),+f),o):r},o.digits=function(f){if(!arguments.length)return e;if(f==null)e=null;else{const u=Math.floor(f);if(!(u>=0))throw new RangeError(`invalid digits: ${f}`);e=u}return n===null&&(a=new Ac(e)),o},o.projection(t).digits(e).context(n)}function of(t){return{stream:pa(t)}}function pa(t){return function(n){var e=new ff;for(var r in t)e[r]=t[r];return e.stream=n,e}}function ff(){}ff.prototype={constructor:ff,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Zf(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Bn(e,t.stream(zi)),n(zi.result()),r!=null&&t.clipExtent(r),t}function Kf(t,n,e){return Zf(t,function(r){var i=n[1][0]-n[0][0],a=n[1][1]-n[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),f=+n[0][0]+(i-o*(r[1][0]+r[0][0]))/2,u=+n[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([f,u])},e)}function uh(t,n,e){return Kf(t,[[0,0],n],e)}function ch(t,n,e){return Zf(t,function(r){var i=+n,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,f=-a*r[0][1];t.scale(150*a).translate([o,f])},e)}function sh(t,n,e){return Zf(t,function(r){var i=+n,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],f=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,f])},e)}var Cc=16,py=j(30*ut);function Ec(t,n){return+n?by(t,n):gy(t)}function gy(t){return pa({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function by(t,n){function e(r,i,a,o,f,u,c,s,h,l,d,m,p,b){var w=c-r,g=s-i,x=w*w+g*g;if(x>4*n&&p--){var y=o+l,v=f+d,_=u+m,M=At(y*y+v*v+_*_),C=zt(_/=M),S=rt(rt(_)-1)<G||rt(a-h)<G?(a+h)/2:vn(v,y),k=t(S,C),$=k[0],N=k[1],I=$-r,P=N-i,T=g*I-w*P;(T*T/x>n||rt((w*I+g*P)/x-.5)>.3||o*l+f*d+u*m<py)&&(e(r,i,a,o,f,u,$,N,S,y/=M,v/=M,_,p,b),b.point($,N),e($,N,S,y,v,_,c,s,h,l,d,m,p,b))}}return function(r){var i,a,o,f,u,c,s,h,l,d,m,p,b={point:w,lineStart:g,lineEnd:y,polygonStart:function(){r.polygonStart(),b.lineStart=v},polygonEnd:function(){r.polygonEnd(),b.lineStart=g}};function w(C,S){C=t(C,S),r.point(C[0],C[1])}function g(){h=NaN,b.point=x,r.lineStart()}function x(C,S){var k=Se([C,S]),$=t(C,S);e(h,l,s,d,m,p,h=$[0],l=$[1],s=C,d=k[0],m=k[1],p=k[2],Cc,r),r.point(h,l)}function y(){b.point=w,r.lineEnd()}function v(){g(),b.point=_,b.lineEnd=M}function _(C,S){x(i=C,S),a=h,o=l,f=d,u=m,c=p,b.point=x}function M(){e(h,l,s,d,m,p,a,o,i,f,u,c,Cc,r),b.lineEnd=y,y()}return b}}var yy=pa({point:function(t,n){this.stream.point(t*ut,n*ut)}});function wy(t){return pa({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function _y(t,n,e,r,i){function a(o,f){return o*=r,f*=i,[n+t*o,e-t*f]}return a.invert=function(o,f){return[(o-n)/t*r,(e-f)/t*i]},a}function kc(t,n,e,r,i,a){if(!a)return _y(t,n,e,r,i);var o=j(a),f=X(a),u=o*t,c=f*t,s=o/t,h=f/t,l=(f*e-o*n)/t,d=(f*n+o*e)/t;function m(p,b){return p*=r,b*=i,[u*p-c*b+n,e-c*p-u*b]}return m.invert=function(p,b){return[r*(s*p-h*b+l),i*(d-h*p-s*b)]},m}function Rn(t){return lh(function(){return t})()}function lh(t){var n,e=150,r=480,i=250,a=0,o=0,f=0,u=0,c=0,s,h=0,l=1,d=1,m=null,p=yc,b=null,w,g,x,y=Ko,v=.5,_,M,C,S,k;function $(T){return C(T[0]*ut,T[1]*ut)}function N(T){return T=C.invert(T[0],T[1]),T&&[T[0]*Mt,T[1]*Mt]}$.stream=function(T){return S&&k===T?S:S=yy(wy(s)(p(_(y(k=T)))))},$.preclip=function(T){return arguments.length?(p=T,m=void 0,P()):p},$.postclip=function(T){return arguments.length?(y=T,b=w=g=x=null,P()):y},$.clipAngle=function(T){return arguments.length?(p=+T?ny(m=T*ut):(m=null,yc),P()):m*Mt},$.clipExtent=function(T){return arguments.length?(y=T==null?(b=w=g=x=null,Ko):Kl(b=+T[0][0],w=+T[0][1],g=+T[1][0],x=+T[1][1]),P()):b==null?null:[[b,w],[g,x]]},$.scale=function(T){return arguments.length?(e=+T,I()):e},$.translate=function(T){return arguments.length?(r=+T[0],i=+T[1],I()):[r,i]},$.center=function(T){return arguments.length?(a=T[0]%360*ut,o=T[1]%360*ut,I()):[a*Mt,o*Mt]},$.rotate=function(T){return arguments.length?(f=T[0]%360*ut,u=T[1]%360*ut,c=T.length>2?T[2]%360*ut:0,I()):[f*Mt,u*Mt,c*Mt]},$.angle=function(T){return arguments.length?(h=T%360*ut,I()):h*Mt},$.reflectX=function(T){return arguments.length?(l=T?-1:1,I()):l<0},$.reflectY=function(T){return arguments.length?(d=T?-1:1,I()):d<0},$.precision=function(T){return arguments.length?(_=Ec(M,v=T*T),P()):At(v)},$.fitExtent=function(T,F){return Kf($,T,F)},$.fitSize=function(T,F){return uh($,T,F)},$.fitWidth=function(T,F){return ch($,T,F)},$.fitHeight=function(T,F){return sh($,T,F)};function I(){var T=kc(e,0,0,l,d,h).apply(null,n(a,o)),F=kc(e,r-T[0],i-T[1],l,d,h);return s=Vl(f,u,c),M=Go(n,F),C=Go(s,M),_=Ec(M,v),P()}function P(){return S=k=null,$}return function(){return n=t.apply(this,arguments),$.invert=n.invert&&N,I()}}function jf(t){var n=0,e=Q/3,r=lh(t),i=r(n,e);return i.parallels=function(a){return arguments.length?r(n=a[0]*ut,e=a[1]*ut):[n*Mt,e*Mt]},i}function vy(t){var n=j(t);function e(r,i){return[r*n,X(i)/n]}return e.invert=function(r,i){return[r/n,zt(i*n)]},e}function xy(t,n){var e=X(t),r=(e+X(n))/2;if(rt(r)<G)return vy(t);var i=1+e*(2*r-e),a=At(i)/r;function o(f,u){var c=At(i-2*r*X(u))/r;return[c*X(f*=r),a-c*j(f)]}return o.invert=function(f,u){var c=a-u,s=vn(f,rt(c))*Rt(c);return c*r<0&&(s-=Q*Rt(f)*Rt(c)),[s/r,zt((i-(f*f+c*c)*r*r)/(2*r))]},o}function Hi(){return jf(xy).scale(155.424).center([0,33.6442])}function hh(){return Hi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function My(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function $y(){var t,n,e=hh(),r,i=Hi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=Hi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u,c={point:function(l,d){u=[l,d]}};function s(l){var d=l[0],m=l[1];return u=null,r.point(d,m),u||(a.point(d,m),u)||(f.point(d,m),u)}s.invert=function(l){var d=e.scale(),m=e.translate(),p=(l[0]-m[0])/d,b=(l[1]-m[1])/d;return(b>=.12&&b<.234&&p>=-.425&&p<-.214?i:b>=.166&&b<.234&&p>=-.214&&p<-.115?o:e).invert(l)},s.stream=function(l){return t&&n===l?t:t=My([e.stream(n=l),i.stream(l),o.stream(l)])},s.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),o.precision(l),h()):e.precision()},s.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),o.scale(l),s.translate(e.translate())):e.scale()},s.translate=function(l){if(!arguments.length)return e.translate();var d=e.scale(),m=+l[0],p=+l[1];return r=e.translate(l).clipExtent([[m-.455*d,p-.238*d],[m+.455*d,p+.238*d]]).stream(c),a=i.translate([m-.307*d,p+.201*d]).clipExtent([[m-.425*d+G,p+.12*d+G],[m-.214*d-G,p+.234*d-G]]).stream(c),f=o.translate([m-.205*d,p+.212*d]).clipExtent([[m-.214*d+G,p+.166*d+G],[m-.115*d-G,p+.234*d-G]]).stream(c),h()},s.fitExtent=function(l,d){return Kf(s,l,d)},s.fitSize=function(l,d){return uh(s,l,d)},s.fitWidth=function(l,d){return ch(s,l,d)},s.fitHeight=function(l,d){return sh(s,l,d)};function h(){return t=n=null,s}return s.scale(1070)}function dh(t){return function(n,e){var r=j(n),i=j(e),a=t(r*i);return a===1/0?[2,0]:[a*i*X(n),a*X(e)]}}function Cr(t){return function(n,e){var r=At(n*n+e*e),i=t(r),a=X(i),o=j(i);return[vn(n*a,r*o),zt(r&&e*a/r)]}}var mh=dh(function(t){return At(2/(1+t))});mh.invert=Cr(function(t){return 2*zt(t/2)});function Ty(){return Rn(mh).scale(124.75).clipAngle(180-.001)}var ph=dh(function(t){return(t=Wl(t))&&t/X(t)});ph.invert=Cr(function(t){return t});function Sy(){return Rn(ph).scale(79.4188).clipAngle(180-.001)}function ga(t,n){return[t,Di(Xf((ct+n)/2))]}ga.invert=function(t,n){return[t,2*Oe(Hl(n))-ct]};function Ay(){return gh(ga).scale(961/Nt)}function gh(t){var n=Rn(t),e=n.center,r=n.scale,i=n.translate,a=n.clipExtent,o=null,f,u,c;n.scale=function(h){return arguments.length?(r(h),s()):r()},n.translate=function(h){return arguments.length?(i(h),s()):i()},n.center=function(h){return arguments.length?(e(h),s()):e()},n.clipExtent=function(h){return arguments.length?(h==null?o=f=u=c=null:(o=+h[0][0],f=+h[0][1],u=+h[1][0],c=+h[1][1]),s()):o==null?null:[[o,f],[u,c]]};function s(){var h=Q*r(),l=n(Xb(n.rotate()).invert([0,0]));return a(o==null?[[l[0]-h,l[1]-h],[l[0]+h,l[1]+h]]:t===ga?[[Math.max(l[0]-h,o),f],[Math.min(l[0]+h,u),c]]:[[o,Math.max(l[1]-h,f)],[u,Math.min(l[1]+h,c)]])}return s()}function ii(t){return Xf((ct+t)/2)}function Cy(t,n){var e=j(t),r=t===n?X(t):Di(e/j(n))/Di(ii(n)/ii(t)),i=e*Za(ii(t),r)/r;if(!r)return ga;function a(o,f){i>0?f<-ct+G&&(f=-ct+G):f>ct-G&&(f=ct-G);var u=i/Za(ii(f),r);return[u*X(r*o),i-u*j(r*o)]}return a.invert=function(o,f){var u=i-f,c=Rt(r)*At(o*o+u*u),s=vn(o,rt(u))*Rt(u);return u*r<0&&(s-=Q*Rt(o)*Rt(u)),[s/r,2*Oe(Za(i/c,1/r))-ct]},a}function Ey(){return jf(Cy).scale(109.5).parallels([30,30])}function Wi(t,n){return[t,n]}Wi.invert=Wi;function ky(){return Rn(Wi).scale(152.63)}function Ny(t,n){var e=j(t),r=t===n?X(t):(e-j(n))/(n-t),i=e/r+t;if(rt(r)<G)return Wi;function a(o,f){var u=i-f,c=r*o;return[u*X(c),i-u*j(c)]}return a.invert=function(o,f){var u=i-f,c=vn(o,rt(u))*Rt(u);return u*r<0&&(c-=Q*Rt(o)*Rt(u)),[c/r,i-Rt(r)*At(o*o+u*u)]},a}function Ly(){return jf(Ny).scale(131.154).center([0,13.9389])}var ar=1.340264,or=-.081106,fr=893e-6,ur=.003796,Vi=At(3)/2,Iy=12;function bh(t,n){var e=zt(Vi*X(n)),r=e*e,i=r*r*r;return[t*j(e)/(Vi*(ar+3*or*r+i*(7*fr+9*ur*r))),e*(ar+or*r+i*(fr+ur*r))]}bh.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,a=0,o,f,u;a<Iy&&(f=e*(ar+or*r+i*(fr+ur*r))-n,u=ar+3*or*r+i*(7*fr+9*ur*r),e-=o=f/u,r=e*e,i=r*r*r,!(rt(o)<Yl));++a);return[Vi*t*(ar+3*or*r+i*(7*fr+9*ur*r))/j(e),zt(X(e)/Vi)]};function Dy(){return Rn(bh).scale(177.158)}function yh(t,n){var e=j(n),r=j(t)*e;return[e*X(t)/r,X(n)/r]}yh.invert=Cr(Oe);function Ry(){return Rn(yh).scale(144.049).clipAngle(60)}function wh(t,n){return[j(n)*X(t),X(n)]}wh.invert=Cr(zt);function Py(){return Rn(wh).scale(249.5).clipAngle(90+G)}function _h(t,n){var e=j(n),r=1+j(t)*e;return[e*X(t)/r,X(n)/r]}_h.invert=Cr(function(t){return 2*Oe(t)});function Fy(){return Rn(_h).scale(250).clipAngle(142)}function vh(t,n){return[Di(Xf((ct+n)/2)),-t]}vh.invert=function(t,n){return[-n,2*Oe(Hl(t))-ct]};function Oy(){var t=gh(vh),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function zy(t,n){return t.parent===n.parent?1:2}function Uy(t){return t.reduce(qy,0)/t.length}function qy(t,n){return t+n.x}function By(t){return 1+t.reduce(Yy,0)}function Yy(t,n){return Math.max(t,n.y)}function Hy(t){for(var n;n=t.children;)t=n[0];return t}function Wy(t){for(var n;n=t.children;)t=n[n.length-1];return t}function xh(){var t=zy,n=1,e=1,r=!1;function i(a){var o,f=0;a.eachAfter(function(l){var d=l.children;d?(l.x=Uy(d),l.y=By(d)):(l.x=o?f+=t(l,o):0,l.y=0,o=l)});var u=Hy(a),c=Wy(a),s=u.x-t(u,c)/2,h=c.x+t(c,u)/2;return a.eachAfter(r?function(l){l.x=(l.x-a.x)*n,l.y=(a.y-l.y)*e}:function(l){l.x=(l.x-s)/(h-s)*n,l.y=(1-(a.y?l.y/a.y:1))*e})}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,n=+a[0],e=+a[1],i):r?null:[n,e]},i.nodeSize=function(a){return arguments.length?(r=!0,n=+a[0],e=+a[1],i):r?[n,e]:null},i}function Vy(t){var n=0,e=t.children,r=e&&e.length;if(!r)n=1;else for(;--r>=0;)n+=e[r].value;t.value=n}function Xy(){return this.eachAfter(Vy)}function Gy(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this}function Zy(t,n){for(var e=this,r=[e],i,a,o=-1;e=r.pop();)if(t.call(n,e,++o,this),i=e.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function Ky(t,n){for(var e=this,r=[e],i=[],a,o,f,u=-1;e=r.pop();)if(i.push(e),a=e.children)for(o=0,f=a.length;o<f;++o)r.push(a[o]);for(;e=i.pop();)t.call(n,e,++u,this);return this}function jy(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r}function Qy(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})}function Jy(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})}function tw(t){for(var n=this,e=nw(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r}function nw(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}function ew(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n}function rw(){return Array.from(this)}function iw(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t}function aw(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n}function*ow(){var t=this,n,e=[t],r,i,a;do for(n=e.reverse(),e=[];t=n.pop();)if(yield t,r=t.children)for(i=0,a=r.length;i<a;++i)e.push(r[i]);while(e.length)}function Mh(t,n){t instanceof Map?(t=[void 0,t],n===void 0&&(n=cw)):n===void 0&&(n=uw);for(var e=new Ce(t),r,i=[e],a,o,f,u;r=i.pop();)if((o=n(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,f=u-1;f>=0;--f)i.push(a=o[f]=new Ce(o[f])),a.parent=r,a.depth=r.depth+1;return e.eachBefore($h)}function fw(){return Mh(this).eachBefore(sw)}function uw(t){return t.children}function cw(t){return Array.isArray(t)?t[1]:null}function sw(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function $h(t){var n=0;do t.height=n;while((t=t.parent)&&t.height<++n)}function Ce(t){this.data=t,this.depth=this.height=0,this.parent=null}Ce.prototype=Mh.prototype={constructor:Ce,count:Xy,each:Gy,eachAfter:Ky,eachBefore:Zy,find:jy,sum:Qy,sort:Jy,path:tw,ancestors:ew,descendants:rw,leaves:iw,links:aw,copy:fw,[Symbol.iterator]:ow};function to(t){return t==null?null:lw(t)}function lw(t){if(typeof t!="function")throw new Error;return t}var hw={depth:-1},Nc={},no={};function dw(t){return t.id}function mw(t){return t.parentId}function Th(){var t=dw,n=mw,e;function r(i){var a=Array.from(i),o=t,f=n,u,c,s,h,l,d,m,p,b=new Map;if(e!=null){const w=a.map((y,v)=>pw(e(y,v,i))),g=w.map(Lc),x=new Set(w).add("");for(const y of g)x.has(y)||(x.add(y),w.push(y),g.push(Lc(y)),a.push(no));o=(y,v)=>w[v],f=(y,v)=>g[v]}for(s=0,u=a.length;s<u;++s)c=a[s],d=a[s]=new Ce(c),(m=o(c,s,i))!=null&&(m+="")&&(p=d.id=m,b.set(p,b.has(p)?Nc:d)),(m=f(c,s,i))!=null&&(m+="")&&(d.parent=m);for(s=0;s<u;++s)if(d=a[s],m=d.parent){if(l=b.get(m),!l)throw new Error("missing: "+m);if(l===Nc)throw new Error("ambiguous: "+m);l.children?l.children.push(d):l.children=[d],d.parent=l}else{if(h)throw new Error("multiple roots");h=d}if(!h)throw new Error("no root");if(e!=null){for(;h.data===no&&h.children.length===1;)h=h.children[0],--u;for(let w=a.length-1;w>=0&&(d=a[w],d.data===no);--w)d.data=null}if(h.parent=hw,h.eachBefore(function(w){w.depth=w.parent.depth+1,--u}).eachBefore($h),h.parent=null,u>0)throw new Error("cycle");return h}return r.id=function(i){return arguments.length?(t=to(i),r):t},r.parentId=function(i){return arguments.length?(n=to(i),r):n},r.path=function(i){return arguments.length?(e=to(i),r):e},r}function pw(t){t=`${t}`;let n=t.length;return uf(t,n-1)&&!uf(t,n-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function Lc(t){let n=t.length;if(n<2)return"";for(;--n>1&&!uf(t,n););return t.slice(0,n)}function uf(t,n){if(t[n]==="/"){let e=0;for(;n>0&&t[--n]==="\\";)++e;if(!(e&1))return!0}return!1}function gw(t,n){return t.parent===n.parent?1:2}function eo(t){var n=t.children;return n?n[0]:t.t}function ro(t){var n=t.children;return n?n[n.length-1]:t.t}function bw(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function yw(t){for(var n=0,e=0,r=t.children,i=r.length,a;--i>=0;)a=r[i],a.z+=n,a.m+=n,n+=a.s+(e+=a.c)}function ww(t,n,e){return t.a.parent===n.parent?t.a:e}function wi(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}wi.prototype=Object.create(Ce.prototype);function _w(t){for(var n=new wi(t,0),e,r=[n],i,a,o,f;e=r.pop();)if(a=e._.children)for(e.children=new Array(f=a.length),o=f-1;o>=0;--o)r.push(i=e.children[o]=new wi(a[o],o)),i.parent=e;return(n.parent=new wi(null,0)).children=[n],n}function Xi(){var t=gw,n=1,e=1,r=null;function i(c){var s=_w(c);if(s.eachAfter(a),s.parent.m=-s.z,s.eachBefore(o),r)c.eachBefore(u);else{var h=c,l=c,d=c;c.eachBefore(function(g){g.x<h.x&&(h=g),g.x>l.x&&(l=g),g.depth>d.depth&&(d=g)});var m=h===l?1:t(h,l)/2,p=m-h.x,b=n/(l.x+m+p),w=e/(d.depth||1);c.eachBefore(function(g){g.x=(g.x+p)*b,g.y=g.depth*w})}return c}function a(c){var s=c.children,h=c.parent.children,l=c.i?h[c.i-1]:null;if(s){yw(c);var d=(s[0].z+s[s.length-1].z)/2;l?(c.z=l.z+t(c._,l._),c.m=c.z-d):c.z=d}else l&&(c.z=l.z+t(c._,l._));c.parent.A=f(c,l,c.parent.A||h[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function f(c,s,h){if(s){for(var l=c,d=c,m=s,p=l.parent.children[0],b=l.m,w=d.m,g=m.m,x=p.m,y;m=ro(m),l=eo(l),m&&l;)p=eo(p),d=ro(d),d.a=c,y=m.z+g-l.z-b+t(m._,l._),y>0&&(bw(ww(m,c,h),c,y),b+=y,w+=y),g+=m.m,b+=l.m,x+=p.m,w+=d.m;m&&!ro(d)&&(d.t=m,d.m+=g-w),l&&!eo(p)&&(p.t=l,p.m+=b-x,h=c)}return h}function u(c){c.x*=n,c.y=c.depth*e}return i.separation=function(c){return arguments.length?(t=c,i):t},i.size=function(c){return arguments.length?(r=!1,n=+c[0],e=+c[1],i):r?null:[n,e]},i.nodeSize=function(c){return arguments.length?(r=!0,n=+c[0],e=+c[1],i):r?[n,e]:null},i}function sn(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function ba(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const cf=Symbol("implicit");function Qf(){var t=new cr,n=[],e=[],r=cf;function i(a){let o=t.get(a);if(o===void 0){if(r!==cf)return r;t.set(a,o=n.push(a)-1)}return e[o%e.length]}return i.domain=function(a){if(!arguments.length)return n.slice();n=[],t=new cr;for(const o of a)t.has(o)||t.set(o,n.push(o)-1);return i},i.range=function(a){return arguments.length?(e=Array.from(a),i):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Qf(n,e).unknown(r)},sn.apply(i,arguments),i}function ya(){var t=Qf().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,a,o,f=!1,u=0,c=0,s=.5;delete t.unknown;function h(){var l=n().length,d=i<r,m=d?i:r,p=d?r:i;a=(p-m)/Math.max(1,l-u+c*2),f&&(a=Math.floor(a)),m+=(p-m-a*(l-u))*s,o=a*(1-u),f&&(m=Math.round(m),o=Math.round(o));var b=Lo(l).map(function(w){return m+a*w});return e(d?b.reverse():b)}return t.domain=function(l){return arguments.length?(n(l),h()):n()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(l){return arguments.length?(f=!!l,h()):f},t.padding=function(l){return arguments.length?(u=Math.min(1,c=+l),h()):u},t.paddingInner=function(l){return arguments.length?(u=Math.min(1,l),h()):u},t.paddingOuter=function(l){return arguments.length?(c=+l,h()):c},t.align=function(l){return arguments.length?(s=Math.max(0,Math.min(1,l)),h()):s},t.copy=function(){return ya(n(),[r,i]).round(f).paddingInner(u).paddingOuter(c).align(s)},sn.apply(h(),arguments)}function Sh(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Sh(n())},t}function vw(){return Sh(ya.apply(null,arguments).paddingInner(1))}function xw(t){return function(){return t}}function sf(t){return+t}var Ic=[0,1];function Ft(t){return t}function lf(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:xw(isNaN(n)?NaN:.5)}function Mw(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function $w(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=lf(i,r),a=e(o,a)):(r=lf(r,i),a=e(a,o)),function(f){return a(r(f))}}function Tw(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=lf(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(f){var u=If(t,f,1,r)-1;return a[u](i[u](f))}}function Er(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function wa(){var t=Ic,n=Ic,e=Ar,r,i,a,o=Ft,f,u,c;function s(){var l=Math.min(t.length,n.length);return o!==Ft&&(o=Mw(t[0],t[l-1])),f=l>2?Tw:$w,u=c=null,h}function h(l){return l==null||isNaN(l=+l)?a:(u||(u=f(t.map(r),n,e)))(r(o(l)))}return h.invert=function(l){return o(i((c||(c=f(n,t.map(r),yt)))(l)))},h.domain=function(l){return arguments.length?(t=Array.from(l,sf),s()):t.slice()},h.range=function(l){return arguments.length?(n=Array.from(l),s()):n.slice()},h.rangeRound=function(l){return n=Array.from(l),e=qf,s()},h.clamp=function(l){return arguments.length?(o=l?!0:Ft,s()):o!==Ft},h.interpolate=function(l){return arguments.length?(e=l,s()):e},h.unknown=function(l){return arguments.length?(a=l,h):a},function(l,d){return r=l,i=d,s()}}function Ah(){return wa()(Ft,Ft)}function Sw(t,n,e,r){var i=ko(t,n,e),a;switch(r=mr(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(a=Wb(i,o))&&(r.precision=a),Bl(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Vb(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Hb(i))&&(r.precision=a-(r.type==="%")*2);break}}return Fe(r)}function kr(t){var n=t.domain;return t.ticks=function(e){var r=n();return $i(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return Sw(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,a=r.length-1,o=r[i],f=r[a],u,c,s=10;for(f<o&&(c=o,o=f,f=c,c=i,i=a,a=c);s-- >0;){if(c=Eo(o,f,e),c===u)return r[i]=o,r[a]=f,n(r);if(c>0)o=Math.floor(o/c)*c,f=Math.ceil(f/c)*c;else if(c<0)o=Math.ceil(o*c)/c,f=Math.floor(f*c)/c;else break;u=c}return t},t}function Jf(){var t=Ah();return t.copy=function(){return Er(t,Jf())},sn.apply(t,arguments),kr(t)}function Ch(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,sf),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return Ch(t).unknown(n)},t=arguments.length?Array.from(t,sf):[0,1],kr(e)}function Eh(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],a=t[r],o;return a<i&&(o=e,e=r,r=o,o=i,i=a,a=o),t[e]=n.floor(i),t[r]=n.ceil(a),t}function Dc(t){return Math.log(t)}function Rc(t){return Math.exp(t)}function Aw(t){return-Math.log(-t)}function Cw(t){return-Math.exp(-t)}function Ew(t){return isFinite(t)?+("1e"+t):t<0?0:t}function kw(t){return t===10?Ew:t===Math.E?Math.exp:n=>Math.pow(t,n)}function Nw(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function Pc(t){return(n,e)=>-t(-n,e)}function kh(t){const n=t(Dc,Rc),e=n.domain;let r=10,i,a;function o(){return i=Nw(r),a=kw(r),e()[0]<0?(i=Pc(i),a=Pc(a),t(Aw,Cw)):t(Dc,Rc),n}return n.base=function(f){return arguments.length?(r=+f,o()):r},n.domain=function(f){return arguments.length?(e(f),o()):e()},n.ticks=f=>{const u=e();let c=u[0],s=u[u.length-1];const h=s<c;h&&([c,s]=[s,c]);let l=i(c),d=i(s),m,p;const b=f==null?10:+f;let w=[];if(!(r%1)&&d-l<b){if(l=Math.floor(l),d=Math.ceil(d),c>0){for(;l<=d;++l)for(m=1;m<r;++m)if(p=l<0?m/a(-l):m*a(l),!(p<c)){if(p>s)break;w.push(p)}}else for(;l<=d;++l)for(m=r-1;m>=1;--m)if(p=l>0?m/a(-l):m*a(l),!(p<c)){if(p>s)break;w.push(p)}w.length*2<b&&(w=$i(c,s,b))}else w=$i(l,d,Math.min(d-l,b)).map(a);return h?w.reverse():w},n.tickFormat=(f,u)=>{if(f==null&&(f=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=mr(u)).precision==null&&(u.trim=!0),u=Fe(u)),f===1/0)return u;const c=Math.max(1,r*f/n.ticks().length);return s=>{let h=s/a(Math.round(i(s)));return h*r<r-.5&&(h*=r),h<=c?u(s):""}},n.nice=()=>e(Eh(e(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),n}function Nh(){const t=kh(wa()).domain([1,10]);return t.copy=()=>Er(t,Nh()).base(t.base()),sn.apply(t,arguments),t}function Fc(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function Oc(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function Lh(t){var n=1,e=t(Fc(n),Oc(n));return e.constant=function(r){return arguments.length?t(Fc(n=+r),Oc(n)):n},kr(e)}function Ih(){var t=Lh(wa());return t.copy=function(){return Er(t,Ih()).constant(t.constant())},sn.apply(t,arguments)}function zc(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Lw(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Iw(t){return t<0?-t*t:t*t}function Dh(t){var n=t(Ft,Ft),e=1;function r(){return e===1?t(Ft,Ft):e===.5?t(Lw,Iw):t(zc(e),zc(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},kr(n)}function Rh(){var t=Dh(wa());return t.copy=function(){return Er(t,Rh()).exponent(t.exponent())},sn.apply(t,arguments),t}function Ph(){var t=[],n=[],e=[],r;function i(){var o=0,f=Math.max(1,n.length);for(e=new Array(f-1);++o<f;)e[o-1]=Ym(t,o/f);return a}function a(o){return o==null||isNaN(o=+o)?r:n[If(e,o)]}return a.invertExtent=function(o){var f=n.indexOf(o);return f<0?[NaN,NaN]:[f>0?e[f-1]:t[0],f<e.length?e[f]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let f of o)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(kn),i()},a.range=function(o){return arguments.length?(n=Array.from(o),i()):n.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return e.slice()},a.copy=function(){return Ph().domain(t).range(n).unknown(r)},sn.apply(a,arguments)}function Fh(){var t=[.5],n=[0,1],e,r=1;function i(a){return a!=null&&a<=a?n[If(t,a,0,r)]:e}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(a){return arguments.length?(n=Array.from(a),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(a){var o=n.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(e=a,i):e},i.copy=function(){return Fh().domain(t).range(n).unknown(e)},sn.apply(i,arguments)}const io=new Date,ao=new Date;function ht(t,n,e,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),n(a,1),t(a),a),i.round=a=>{const o=i(a),f=i.ceil(a);return a-o<f-a?o:f},i.offset=(a,o)=>(n(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,f)=>{const u=[];if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<o)||!(f>0))return u;let c;do u.push(c=new Date(+a)),n(a,f),t(a);while(c<a&&a<o);return u},i.filter=a=>ht(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,f)=>{if(o>=o)if(f<0)for(;++f<=0;)for(;n(o,-1),!a(o););else for(;--f>=0;)for(;n(o,1),!a(o););}),e&&(i.count=(a,o)=>(io.setTime(+a),ao.setTime(+o),t(io),t(ao),Math.floor(e(io,ao))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Gi=ht(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);Gi.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ht(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):Gi);Gi.range;const yn=1e3,Ot=yn*60,wn=Ot*60,xn=wn*24,tu=xn*7,Uc=xn*30,oo=xn*365,Ht=ht(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*yn)},(t,n)=>(n-t)/yn,t=>t.getUTCSeconds());Ht.range;const Nr=ht(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yn)},(t,n)=>{t.setTime(+t+n*Ot)},(t,n)=>(n-t)/Ot,t=>t.getMinutes());Nr.range;const Lr=ht(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Ot)},(t,n)=>(n-t)/Ot,t=>t.getUTCMinutes());Lr.range;const Ir=ht(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yn-t.getMinutes()*Ot)},(t,n)=>{t.setTime(+t+n*wn)},(t,n)=>(n-t)/wn,t=>t.getHours());Ir.range;const Dr=ht(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*wn)},(t,n)=>(n-t)/wn,t=>t.getUTCHours());Dr.range;const ae=ht(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ot)/xn,t=>t.getDate()-1);ae.range;const _a=ht(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/xn,t=>t.getUTCDate()-1);_a.range;const va=ht(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/xn,t=>Math.floor(t/xn));va.range;function oe(t){return ht(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Ot)/tu)}const Ee=oe(0),gr=oe(1),Oh=oe(2),zh=oe(3),ne=oe(4),Uh=oe(5),qh=oe(6);Ee.range;gr.range;Oh.range;zh.range;ne.range;Uh.range;qh.range;function fe(t){return ht(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/tu)}const ke=fe(0),br=fe(1),Bh=fe(2),Yh=fe(3),ee=fe(4),Hh=fe(5),Wh=fe(6);ke.range;br.range;Bh.range;Yh.range;ee.range;Hh.range;Wh.range;const Rr=ht(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Rr.range;const Pr=ht(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Pr.range;const Vt=ht(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());Vt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ht(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});Vt.range;const Xt=ht(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Xt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ht(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});Xt.range;function Vh(t,n,e,r,i,a){const o=[[Ht,1,yn],[Ht,5,5*yn],[Ht,15,15*yn],[Ht,30,30*yn],[a,1,Ot],[a,5,5*Ot],[a,15,15*Ot],[a,30,30*Ot],[i,1,wn],[i,3,3*wn],[i,6,6*wn],[i,12,12*wn],[r,1,xn],[r,2,2*xn],[e,1,tu],[n,1,Uc],[n,3,3*Uc],[t,1,oo]];function f(c,s,h){const l=s<c;l&&([c,s]=[s,c]);const d=h&&typeof h.range=="function"?h:u(c,s,h),m=d?d.range(c,+s+1):[];return l?m.reverse():m}function u(c,s,h){const l=Math.abs(s-c)/h,d=oa(([,,b])=>b).right(o,l);if(d===o.length)return t.every(ko(c/oo,s/oo,h));if(d===0)return Gi.every(Math.max(ko(c,s,h),1));const[m,p]=o[l/o[d-1][2]<o[d][2]/l?d-1:d];return m.every(p)}return[f,u]}const[Dw,Rw]=Vh(Xt,Pr,ke,va,Dr,Lr),[Pw,Fw]=Vh(Vt,Rr,Ee,ae,Ir,Nr);function fo(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function uo(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function He(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function Ow(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,f=t.months,u=t.shortMonths,c=We(i),s=Ve(i),h=We(a),l=Ve(a),d=We(o),m=Ve(o),p=We(f),b=Ve(f),w=We(u),g=Ve(u),x={a:Y,A:q,b:H,B:L,c:null,d:Vc,e:Vc,f:f_,g:b_,G:w_,H:i_,I:a_,j:o_,L:Xh,m:u_,M:c_,p:D,q:R,Q:Zc,s:Kc,S:s_,u:l_,U:h_,V:d_,w:m_,W:p_,x:null,X:null,y:g_,Y:y_,Z:__,"%":Gc},y={a:O,A:J,b:tt,B:K,c:null,d:Xc,e:Xc,f:$_,g:D_,G:P_,H:v_,I:x_,j:M_,L:Zh,m:T_,M:S_,p:U,q:W,Q:Zc,s:Kc,S:A_,u:C_,U:E_,V:k_,w:N_,W:L_,x:null,X:null,y:I_,Y:R_,Z:F_,"%":Gc},v={a:k,A:$,b:N,B:I,c:P,d:Hc,e:Hc,f:t_,g:Yc,G:Bc,H:Wc,I:Wc,j:Kw,L:Jw,m:Zw,M:jw,p:S,q:Gw,Q:e_,s:r_,S:Qw,u:Yw,U:Hw,V:Ww,w:Bw,W:Vw,x:T,X:F,y:Yc,Y:Bc,Z:Xw,"%":n_};x.x=_(e,x),x.X=_(r,x),x.c=_(n,x),y.x=_(e,y),y.X=_(r,y),y.c=_(n,y);function _(E,z){return function(B){var A=[],at=-1,V=0,ft=E.length,lt,Ct,le;for(B instanceof Date||(B=new Date(+B));++at<ft;)E.charCodeAt(at)===37&&(A.push(E.slice(V,at)),(Ct=qc[lt=E.charAt(++at)])!=null?lt=E.charAt(++at):Ct=lt==="e"?" ":"0",(le=z[lt])&&(lt=le(B,Ct)),A.push(lt),V=at+1);return A.push(E.slice(V,at)),A.join("")}}function M(E,z){return function(B){var A=He(1900,void 0,1),at=C(A,E,B+="",0),V,ft;if(at!=B.length)return null;if("Q"in A)return new Date(A.Q);if("s"in A)return new Date(A.s*1e3+("L"in A?A.L:0));if(z&&!("Z"in A)&&(A.Z=0),"p"in A&&(A.H=A.H%12+A.p*12),A.m===void 0&&(A.m="q"in A?A.q:0),"V"in A){if(A.V<1||A.V>53)return null;"w"in A||(A.w=1),"Z"in A?(V=uo(He(A.y,0,1)),ft=V.getUTCDay(),V=ft>4||ft===0?br.ceil(V):br(V),V=_a.offset(V,(A.V-1)*7),A.y=V.getUTCFullYear(),A.m=V.getUTCMonth(),A.d=V.getUTCDate()+(A.w+6)%7):(V=fo(He(A.y,0,1)),ft=V.getDay(),V=ft>4||ft===0?gr.ceil(V):gr(V),V=ae.offset(V,(A.V-1)*7),A.y=V.getFullYear(),A.m=V.getMonth(),A.d=V.getDate()+(A.w+6)%7)}else("W"in A||"U"in A)&&("w"in A||(A.w="u"in A?A.u%7:"W"in A?1:0),ft="Z"in A?uo(He(A.y,0,1)).getUTCDay():fo(He(A.y,0,1)).getDay(),A.m=0,A.d="W"in A?(A.w+6)%7+A.W*7-(ft+5)%7:A.w+A.U*7-(ft+6)%7);return"Z"in A?(A.H+=A.Z/100|0,A.M+=A.Z%100,uo(A)):fo(A)}}function C(E,z,B,A){for(var at=0,V=z.length,ft=B.length,lt,Ct;at<V;){if(A>=ft)return-1;if(lt=z.charCodeAt(at++),lt===37){if(lt=z.charAt(at++),Ct=v[lt in qc?z.charAt(at++):lt],!Ct||(A=Ct(E,B,A))<0)return-1}else if(lt!=B.charCodeAt(A++))return-1}return A}function S(E,z,B){var A=c.exec(z.slice(B));return A?(E.p=s.get(A[0].toLowerCase()),B+A[0].length):-1}function k(E,z,B){var A=d.exec(z.slice(B));return A?(E.w=m.get(A[0].toLowerCase()),B+A[0].length):-1}function $(E,z,B){var A=h.exec(z.slice(B));return A?(E.w=l.get(A[0].toLowerCase()),B+A[0].length):-1}function N(E,z,B){var A=w.exec(z.slice(B));return A?(E.m=g.get(A[0].toLowerCase()),B+A[0].length):-1}function I(E,z,B){var A=p.exec(z.slice(B));return A?(E.m=b.get(A[0].toLowerCase()),B+A[0].length):-1}function P(E,z,B){return C(E,n,z,B)}function T(E,z,B){return C(E,e,z,B)}function F(E,z,B){return C(E,r,z,B)}function Y(E){return o[E.getDay()]}function q(E){return a[E.getDay()]}function H(E){return u[E.getMonth()]}function L(E){return f[E.getMonth()]}function D(E){return i[+(E.getHours()>=12)]}function R(E){return 1+~~(E.getMonth()/3)}function O(E){return o[E.getUTCDay()]}function J(E){return a[E.getUTCDay()]}function tt(E){return u[E.getUTCMonth()]}function K(E){return f[E.getUTCMonth()]}function U(E){return i[+(E.getUTCHours()>=12)]}function W(E){return 1+~~(E.getUTCMonth()/3)}return{format:function(E){var z=_(E+="",x);return z.toString=function(){return E},z},parse:function(E){var z=M(E+="",!1);return z.toString=function(){return E},z},utcFormat:function(E){var z=_(E+="",y);return z.toString=function(){return E},z},utcParse:function(E){var z=M(E+="",!0);return z.toString=function(){return E},z}}}var qc={"-":"",_:" ",0:"0"},bt=/^\s*\d+/,zw=/^%/,Uw=/[\\^$*+?|[\]().{}]/g;function et(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(n)+i:i)}function qw(t){return t.replace(Uw,"\\$&")}function We(t){return new RegExp("^(?:"+t.map(qw).join("|")+")","i")}function Ve(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function Bw(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Yw(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Hw(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Ww(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Vw(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Bc(t,n,e){var r=bt.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Yc(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Xw(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Gw(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function Zw(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Hc(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Kw(t,n,e){var r=bt.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Wc(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function jw(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Qw(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Jw(t,n,e){var r=bt.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function t_(t,n,e){var r=bt.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function n_(t,n,e){var r=zw.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function e_(t,n,e){var r=bt.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function r_(t,n,e){var r=bt.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Vc(t,n){return et(t.getDate(),n,2)}function i_(t,n){return et(t.getHours(),n,2)}function a_(t,n){return et(t.getHours()%12||12,n,2)}function o_(t,n){return et(1+ae.count(Vt(t),t),n,3)}function Xh(t,n){return et(t.getMilliseconds(),n,3)}function f_(t,n){return Xh(t,n)+"000"}function u_(t,n){return et(t.getMonth()+1,n,2)}function c_(t,n){return et(t.getMinutes(),n,2)}function s_(t,n){return et(t.getSeconds(),n,2)}function l_(t){var n=t.getDay();return n===0?7:n}function h_(t,n){return et(Ee.count(Vt(t)-1,t),n,2)}function Gh(t){var n=t.getDay();return n>=4||n===0?ne(t):ne.ceil(t)}function d_(t,n){return t=Gh(t),et(ne.count(Vt(t),t)+(Vt(t).getDay()===4),n,2)}function m_(t){return t.getDay()}function p_(t,n){return et(gr.count(Vt(t)-1,t),n,2)}function g_(t,n){return et(t.getFullYear()%100,n,2)}function b_(t,n){return t=Gh(t),et(t.getFullYear()%100,n,2)}function y_(t,n){return et(t.getFullYear()%1e4,n,4)}function w_(t,n){var e=t.getDay();return t=e>=4||e===0?ne(t):ne.ceil(t),et(t.getFullYear()%1e4,n,4)}function __(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+et(n/60|0,"0",2)+et(n%60,"0",2)}function Xc(t,n){return et(t.getUTCDate(),n,2)}function v_(t,n){return et(t.getUTCHours(),n,2)}function x_(t,n){return et(t.getUTCHours()%12||12,n,2)}function M_(t,n){return et(1+_a.count(Xt(t),t),n,3)}function Zh(t,n){return et(t.getUTCMilliseconds(),n,3)}function $_(t,n){return Zh(t,n)+"000"}function T_(t,n){return et(t.getUTCMonth()+1,n,2)}function S_(t,n){return et(t.getUTCMinutes(),n,2)}function A_(t,n){return et(t.getUTCSeconds(),n,2)}function C_(t){var n=t.getUTCDay();return n===0?7:n}function E_(t,n){return et(ke.count(Xt(t)-1,t),n,2)}function Kh(t){var n=t.getUTCDay();return n>=4||n===0?ee(t):ee.ceil(t)}function k_(t,n){return t=Kh(t),et(ee.count(Xt(t),t)+(Xt(t).getUTCDay()===4),n,2)}function N_(t){return t.getUTCDay()}function L_(t,n){return et(br.count(Xt(t)-1,t),n,2)}function I_(t,n){return et(t.getUTCFullYear()%100,n,2)}function D_(t,n){return t=Kh(t),et(t.getUTCFullYear()%100,n,2)}function R_(t,n){return et(t.getUTCFullYear()%1e4,n,4)}function P_(t,n){var e=t.getUTCDay();return t=e>=4||e===0?ee(t):ee.ceil(t),et(t.getUTCFullYear()%1e4,n,4)}function F_(){return"+0000"}function Gc(){return"%"}function Zc(t){return+t}function Kc(t){return Math.floor(+t/1e3)}var he,nu,Fr;O_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function O_(t){return he=Ow(t),nu=he.format,he.parse,Fr=he.utcFormat,he.utcParse,he}function z_(t){return new Date(t)}function U_(t){return t instanceof Date?+t:+new Date(+t)}function eu(t,n,e,r,i,a,o,f,u,c){var s=Ah(),h=s.invert,l=s.domain,d=c(".%L"),m=c(":%S"),p=c("%I:%M"),b=c("%I %p"),w=c("%a %d"),g=c("%b %d"),x=c("%B"),y=c("%Y");function v(_){return(u(_)<_?d:f(_)<_?m:o(_)<_?p:a(_)<_?b:r(_)<_?i(_)<_?w:g:e(_)<_?x:y)(_)}return s.invert=function(_){return new Date(h(_))},s.domain=function(_){return arguments.length?l(Array.from(_,U_)):l().map(z_)},s.ticks=function(_){var M=l();return t(M[0],M[M.length-1],_??10)},s.tickFormat=function(_,M){return M==null?v:c(M)},s.nice=function(_){var M=l();return(!_||typeof _.range!="function")&&(_=n(M[0],M[M.length-1],_??10)),_?l(Eh(M,_)):s},s.copy=function(){return Er(s,eu(t,n,e,r,i,a,o,f,u,c))},s}function q_(){return sn.apply(eu(Pw,Fw,Vt,Rr,Ee,ae,Ir,Nr,Ht,nu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function B_(){return sn.apply(eu(Dw,Rw,Xt,Pr,ke,_a,Dr,Lr,Ht,Fr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xa(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ma(){var t=0,n=.5,e=1,r=1,i,a,o,f,u,c=Ft,s,h=!1,l;function d(p){return isNaN(p=+p)?l:(p=.5+((p=+s(p))-a)*(r*p<r*a?f:u),c(h?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,n,e]=p,i=s(t=+t),a=s(n=+n),o=s(e=+e),f=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,d):[t,n,e]},d.clamp=function(p){return arguments.length?(h=!!p,d):h},d.interpolator=function(p){return arguments.length?(c=p,d):c};function m(p){return function(b){var w,g,x;return arguments.length?([w,g,x]=b,c=ha(p,[w,g,x]),d):[c(0),c(.5),c(1)]}}return d.range=m(Ar),d.rangeRound=m(qf),d.unknown=function(p){return arguments.length?(l=p,d):l},function(p){return s=p,i=p(t),a=p(n),o=p(e),f=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,d}}function jh(){var t=kr(Ma()(Ft));return t.copy=function(){return xa(t,jh())},ba.apply(t,arguments)}function Qh(){var t=kh(Ma()).domain([.1,1,10]);return t.copy=function(){return xa(t,Qh()).base(t.base())},ba.apply(t,arguments)}function Jh(){var t=Lh(Ma());return t.copy=function(){return xa(t,Jh()).constant(t.constant())},ba.apply(t,arguments)}function td(){var t=Dh(Ma());return t.copy=function(){return xa(t,td()).exponent(t.exponent())},ba.apply(t,arguments)}function Z(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const Y_=Z("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),H_=Z("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),W_=Z("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),V_=Z("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),X_=Z("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),G_=Z("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Z_=Z("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),K_=Z("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),j_=Z("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Q_=Z("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ot=t=>i2(t[t.length-1]);var nd=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Z);const ed=ot(nd);var rd=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Z);const id=ot(rd);var ad=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Z);const od=ot(ad);var fd=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Z);const ud=ot(fd);var hf=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Z);const Zi=ot(hf);var cd=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Z);const sd=ot(cd);var df=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Z);const Ki=ot(df);var ld=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Z);const hd=ot(ld);var dd=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Z);const md=ot(dd);var pd=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Z);const gd=ot(pd);var bd=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Z);const yd=ot(bd);var wd=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Z);const _d=ot(wd);var vd=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Z);const xd=ot(vd);var Md=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Z);const $d=ot(Md);var Td=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Z);const Sd=ot(Td);var Ad=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Z);const Cd=ot(Ad);var Ed=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Z);const kd=ot(Ed);var Nd=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Z);const Ld=ot(Nd);var Id=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Z);const Dd=ot(Id);var Rd=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Z);const Pd=ot(Rd);var Fd=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Z);const Od=ot(Fd);var zd=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Z);const Ud=ot(zd);var qd=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Z);const Bd=ot(qd);var Yd=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Z);const Hd=ot(Yd);var Wd=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Z);const Vd=ot(Wd);var Xd=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Z);const Gd=ot(Xd);var Zd=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Z);const Kd=ot(Zd);function jd(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const Qd=Bf(an(300,.5,0),an(-240,.5,1));var Jd=Bf(an(-100,.75,.35),an(80,1.5,.8)),t0=Bf(an(260,.75,.35),an(80,1.5,.8)),ai=an();function n0(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return ai.h=360*t-100,ai.s=1.5-1.5*n,ai.l=.8-.9*n,ai+""}var oi=Ln(),J_=Math.PI/3,t6=Math.PI*2/3;function e0(t){var n;return t=(.5-t)*Math.PI,oi.r=255*(n=Math.sin(t))*n,oi.g=255*(n=Math.sin(t+J_))*n,oi.b=255*(n=Math.sin(t+t6))*n,oi+""}function r0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function $a(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const i0=$a(Z("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var a0=$a(Z("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),o0=$a(Z("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),f0=$a(Z("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const u0=Math.cos,ru=Math.min,ji=Math.sin,dt=Math.sqrt,jc=1e-12,Qi=Math.PI,Ta=2*Qi;function c0(t){this._context=t}c0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function iu(t){return new c0(t)}class s0{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}function n6(t){return new s0(t,!0)}function e6(t){return new s0(t,!1)}const r6=dt(3),l0={draw(t,n){const e=dt(n+ru(n/28,.75))*.59436,r=e/2,i=r*r6;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},yr={draw(t,n){const e=dt(n/Qi);t.moveTo(e,0),t.arc(0,0,e,0,Ta)}},h0={draw(t,n){const e=dt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},d0=dt(1/3),i6=d0*2,m0={draw(t,n){const e=dt(n/i6),r=e*d0;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},p0={draw(t,n){const e=dt(n)*.62625;t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},g0={draw(t,n){const e=dt(n-ru(n/7,2))*.87559;t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},b0={draw(t,n){const e=dt(n),r=-e/2;t.rect(r,r,e,e)}},y0={draw(t,n){const e=dt(n)*.4431;t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},a6=.8908130915292852,w0=ji(Qi/10)/ji(7*Qi/10),o6=ji(Ta/10)*w0,f6=-u0(Ta/10)*w0,_0={draw(t,n){const e=dt(n*a6),r=o6*e,i=f6*e;t.moveTo(0,-e),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Ta*a/5,f=u0(o),u=ji(o);t.lineTo(u*e,-f*e),t.lineTo(f*r-u*i,u*r+f*i)}t.closePath()}},co=dt(3),v0={draw(t,n){const e=-dt(n/(co*3));t.moveTo(0,e*2),t.lineTo(-co*e,-e),t.lineTo(co*e,-e),t.closePath()}},u6=dt(3),x0={draw(t,n){const e=dt(n)*.6824,r=e/2,i=e*u6/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},It=-.5,Dt=dt(3)/2,mf=1/dt(12),c6=(mf/2+1)*3,M0={draw(t,n){const e=dt(n/c6),r=e/2,i=e*mf,a=r,o=e*mf+e,f=-a,u=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(f,u),t.lineTo(It*r-Dt*i,Dt*r+It*i),t.lineTo(It*a-Dt*o,Dt*a+It*o),t.lineTo(It*f-Dt*u,Dt*f+It*u),t.lineTo(It*r+Dt*i,It*i-Dt*r),t.lineTo(It*a+Dt*o,It*o-Dt*a),t.lineTo(It*f+Dt*u,It*u-Dt*f),t.closePath()}},$0={draw(t,n){const e=dt(n-ru(n/6,1.7))*.6189;t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},s6=[yr,h0,m0,b0,_0,v0,M0],l6=[yr,g0,$0,x0,l0,y0,p0];function In(){}function Ji(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Sa(t){this._context=t}Sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ji(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ji(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function h6(t){return new Sa(t)}function T0(t){this._context=t}T0.prototype={areaStart:In,areaEnd:In,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Ji(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function d6(t){return new T0(t)}function S0(t){this._context=t}S0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Ji(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function m6(t){return new S0(t)}function A0(t,n){this._basis=new Sa(t),this._beta=n}A0.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r=t[0],i=n[0],a=t[e]-r,o=n[e]-i,f=-1,u;++f<=e;)u=f/e,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+u*a),this._beta*n[f]+(1-this._beta)*(i+u*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const p6=function t(n){function e(r){return n===1?new Sa(r):new A0(r,n)}return e.beta=function(r){return t(+r)},e}(.85);function ta(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function au(t,n){this._context=t,this._k=(1-n)/6}au.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ta(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:ta(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const g6=function t(n){function e(r){return new au(r,n)}return e.tension=function(r){return t(+r)},e}(0);function ou(t,n){this._context=t,this._k=(1-n)/6}ou.prototype={areaStart:In,areaEnd:In,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:ta(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const b6=function t(n){function e(r){return new ou(r,n)}return e.tension=function(r){return t(+r)},e}(0);function fu(t,n){this._context=t,this._k=(1-n)/6}fu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ta(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const y6=function t(n){function e(r){return new fu(r,n)}return e.tension=function(r){return t(+r)},e}(0);function uu(t,n,e){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>jc){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>jc){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-n*t._l12_2a)/s,o=(o*c+t._y1*t._l23_2a-e*t._l12_2a)/s}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function C0(t,n){this._context=t,this._alpha=n}C0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:uu(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const w6=function t(n){function e(r){return n?new C0(r,n):new au(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function E0(t,n){this._context=t,this._alpha=n}E0.prototype={areaStart:In,areaEnd:In,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:uu(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const _6=function t(n){function e(r){return n?new E0(r,n):new ou(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function k0(t,n){this._context=t,this._alpha=n}k0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:uu(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const v6=function t(n){function e(r){return n?new k0(r,n):new fu(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function N0(t){this._context=t}N0.prototype={areaStart:In,areaEnd:In,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function x6(t){return new N0(t)}function Qc(t){return t<0?-1:1}function Jc(t,n,e){var r=t._x1-t._x0,i=n-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(e-t._y1)/(i||r<0&&-0),f=(a*i+o*r)/(r+i);return(Qc(a)+Qc(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(f))||0}function ts(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function so(t,n,e){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,f=(a-r)/3;t._context.bezierCurveTo(r+f,i+f*n,a-f,o-f*e,a,o)}function na(t){this._context=t}na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:so(this,this._t0,ts(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,so(this,ts(this,e=Jc(this,t,n)),e);break;default:so(this,this._t0,e=Jc(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};function L0(t){this._context=new I0(t)}(L0.prototype=Object.create(na.prototype)).point=function(t,n){na.prototype.point.call(this,n,t)};function I0(t){this._context=t}I0.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,a){this._context.bezierCurveTo(n,t,r,e,a,i)}};function M6(t){return new na(t)}function $6(t){return new L0(t)}function D0(t){this._context=t}D0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),e===2)this._context.lineTo(t[1],n[1]);else for(var r=ns(t),i=ns(n),a=0,o=1;o<e;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],n[o]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function ns(t){var n,e=t.length-1,r,i=new Array(e),a=new Array(e),o=new Array(e);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],n=1;n<e-1;++n)i[n]=1,a[n]=4,o[n]=4*t[n]+2*t[n+1];for(i[e-1]=2,a[e-1]=7,o[e-1]=8*t[e-1]+t[e],n=1;n<e;++n)r=i[n]/a[n-1],a[n]-=r,o[n]-=r*o[n-1];for(i[e-1]=o[e-1]/a[e-1],n=e-2;n>=0;--n)i[n]=(o[n]-i[n+1])/a[n];for(a[e-1]=(t[e]+i[e-1])/2,n=0;n<e-1;++n)a[n]=2*t[n+1]-i[n+1];return[i,a]}function T6(t){return new D0(t)}function Aa(t,n){this._context=t,this._t=n}Aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}}this._x=t,this._y=n}};function S6(t){return new Aa(t,.5)}function A6(t){return new Aa(t,0)}function C6(t){return new Aa(t,1)}function er(t,n,e){this.k=t,this.x=n,this.y=e}er.prototype={constructor:er,scale:function(t){return t===1?this:new er(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new er(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};er.prototype;function re(t){return t!=null&&!Number.isNaN(t)}function ie(t,n){return+re(n)-+re(t)||kn(t,n)}function pf(t,n){return+re(n)-+re(t)||$r(t,n)}function R0(t){return t!=null&&`${t}`!=""}function P0(t){return isFinite(t)?t:NaN}function Ca(t){return t>0&&isFinite(t)?t:NaN}function cu(t){return t<0&&isFinite(t)?t:NaN}function E6(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof n=="function"?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${k6(t.getUTCFullYear())}-${gn(t.getUTCMonth()+1,2)}-${gn(t.getUTCDate(),2)}${e||r||i||a?`T${gn(e,2)}:${gn(r,2)}${i||a?`:${gn(i,2)}${a?`.${gn(a,3)}`:""}`:""}Z`:""}`}function k6(t){return t<0?`-${gn(-t,6)}`:t>9999?`+${gn(t,6)}`:gn(t,4)}function gn(t,n){return`${t}`.padStart(n,"0")}const N6=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function F0(t,n){return N6.test(t+="")?new Date(t):typeof n=="function"?n(t):n}const ge=1e3,Cn=ge*60,En=Cn*60,on=En*24,jt=on*7,Xn=on*30,Tn=on*365,lo=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",ge],["5 seconds",5*ge],["15 seconds",15*ge],["30 seconds",30*ge],["minute",Cn],["5 minutes",5*Cn],["15 minutes",15*Cn],["30 minutes",30*Cn],["hour",En],["3 hours",3*En],["6 hours",6*En],["12 hours",12*En],["day",on],["2 days",2*on],["week",jt],["2 weeks",2*jt],["month",Xn],["3 months",3*Xn],["6 months",6*Xn],["year",Tn],["2 years",2*Tn],["5 years",5*Tn],["10 years",10*Tn],["20 years",20*Tn],["50 years",50*Tn],["100 years",100*Tn]],su=new Map([["second",ge],["minute",Cn],["hour",En],["day",on],["monday",jt],["tuesday",jt],["wednesday",jt],["thursday",jt],["friday",jt],["saturday",jt],["sunday",jt],["week",jt],["month",Xn],["year",Tn]]),O0=new Map([["second",Ht],["minute",Nr],["hour",Ir],["day",ae],["monday",gr],["tuesday",Oh],["wednesday",zh],["thursday",ne],["friday",Uh],["saturday",qh],["sunday",Ee],["week",Ee],["month",Rr],["year",Vt]]),lu=new Map([["second",Ht],["minute",Lr],["hour",Dr],["day",va],["monday",br],["tuesday",Bh],["wednesday",Yh],["thursday",ee],["friday",Hh],["saturday",Wh],["sunday",ke],["week",ke],["month",Pr],["year",Xt]]),Or=Symbol("intervalDuration"),Ea=Symbol("intervalType");for(const[t,n]of O0)n[Or]=su.get(t),n[Ea]="time";for(const[t,n]of lu)n[Or]=su.get(t),n[Ea]="utc";const rr=[["year",Xt,"utc"],["month",Pr,"utc"],["day",va,"utc",6*Xn],["hour",Dr,"utc",3*on],["minute",Lr,"utc",6*En],["second",Ht,"utc",30*Cn]],_i=[["year",Vt,"time"],["month",Rr,"time"],["day",ae,"time",6*Xn],["hour",Ir,"time",3*on],["minute",Nr,"time",6*En],["second",Ht,"time",30*Cn]],L6=[rr[0],_i[0],rr[1],_i[1],rr[2],_i[2],...rr.slice(3)];function z0(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6;break}let i=lu.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function U0(t){return B0(z0(t),"time")}function q0(t){return B0(z0(t),"utc")}function B0([t,n],e){let r=(e==="time"?O0:lu).get(t);return n>1&&(r=r.every(n),r[Or]=su.get(t)*n,r[Ea]=e),r}function es(t,n){if(!(n>1))return;const e=t[Or];if(!lo.some(([,i])=>i===e)||e%on===0&&on<e&&e<Xn)return;const[r]=lo[oa(([,i])=>Math.log(i)).center(lo,Math.log(e*n))];return(t[Ea]==="time"?U0:q0)(r)}function rs(t,n,e){const r=n==="time"?nu:Fr;if(e==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=I6(e);switch(t){case"millisecond":return de(r(".%L"),r(":%M:%S"),i);case"second":return de(r(":%S"),r("%-I:%M"),i);case"minute":return de(r("%-I:%M"),r("%p"),i);case"hour":return de(r("%-I %p"),r("%b %-d"),i);case"day":return de(r("%-d"),r("%b"),i);case"month":return de(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function I6(t){return t==="left"||t==="right"?(n,e)=>`
${n}
${e}`:t==="top"?(n,e)=>`${e}
${n}`:(n,e)=>`${n}
${e}`}function D6(t){return t==="time"?_i:t==="utc"?rr:L6}function R6(t,n,e){const r=rn(Xm(n,(i,a)=>Math.abs(a-i)));if(r<1e3)return rs("millisecond","utc",e);for(const[i,a,o,f]of D6(t)){if(r>f||i==="hour"&&!r)break;if(n.every(u=>a.floor(u)>=u))return rs(i,o,e)}}function de(t,n,e){return(r,i,a)=>{const o=t(r,i),f=n(r,i),u=i-Le(a);return i!==u&&a[u]!==void 0&&f===n(a[u],u)?o:e(o,f)}}const wr=Object.getPrototypeOf(Uint8Array),P6=Object.prototype.toString,F6=Symbol("reindex");function fn(t,n,e){const r=typeof n;return r==="string"?is(t,U6(n),e):r==="function"?is(t,n,e):r==="number"||n instanceof Date||r==="boolean"?St(t,zr(n),e):typeof(n==null?void 0:n.transform)=="function"?as(n.transform(t),e):O6(as(n,e),t==null?void 0:t[F6])}function O6(t,n){return n?mu(t,n):t}function is(t,n,e){return St(t,(e==null?void 0:e.prototype)instanceof wr?z6(n):n,e)}function as(t,n){return n===void 0?Lt(t):t instanceof n?t:n.prototype instanceof wr&&!(t instanceof wr)?n.from(t,hu):n.from(t)}function z6(t){return(n,e)=>hu(t(n,e))}const vi=[null],U6=t=>n=>n[t],q6={transform:Ur},Zt={transform:t=>t},Y0=()=>1,B6=()=>!0,$t=t=>t==null?t:`${t}`,pt=t=>t==null?t:+t,H0=t=>t?t[0]:void 0,Y6=t=>t?t[1]:void 0,zr=t=>()=>t;function H6(t){const n=+`${t}`.slice(1)/100;return(e,r)=>Ti(e,n,r)}function be(t){return t instanceof wr?t:St(t,hu,Float64Array)}function hu(t){return t==null?NaN:Number(t)}function W6(t){return St(t,V6)}function V6(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?F0(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function _r(t,n){return t===void 0&&(t=n),t===null?[void 0,"none"]:La(t)?[void 0,t]:[t,void 0]}function Tt(t,n){return t===void 0&&(t=n),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function W0(t,n,e){if(t!=null)return Ut(t,n,e)}function Ut(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function Lt(t){return t==null||t instanceof Array||t instanceof wr?t:Array.from(t)}function St(t,n,e=Array){return t==null?t:t instanceof e?t.map(n):e.from(t,n)}function gf(t,n=Array){return t instanceof n?t.slice():n.from(t)}function Mn(t){return(t==null?void 0:t.toString)===P6}function bf(t){return Mn(t)&&(t.type!==void 0||t.domain!==void 0)}function ka(t){return Mn(t)&&typeof t.transform!="function"}function Ne(t){return ka(t)&&t.value===void 0&&t.channel===void 0}function du(t,n){return t===void 0&&n===void 0?[H0,Y6]:[t,n]}function Ur(t){const n=t.length,e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function mu(t,n){return St(n,e=>t[e],t.constructor)}function X6(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function fi(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Hn(t){let n;return[{transform:()=>n,label:qr(t)},e=>n=e]}function qr(t,n){return typeof t=="string"?t:t&&t.label!==void 0?t.label:n}function G6(t,n){const e=pu(t,n);return e&&(r=>re(r)?e.floor(r):r)}function pu(t,n){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:r=>Math.floor(r*e)/e,offset:r=>(r*e+1)/e,range:(r,i)=>Lo(Math.ceil(r*e),i*e).map(a=>a/e)}:{floor:r=>Math.floor(r/e)*e,offset:r=>r+e,range:(r,i)=>Lo(Math.ceil(r/e),i/e).map(a=>a*e)}}if(typeof t=="string")return(n==="time"?U0:q0)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Br(t,n){if(t=pu(t,n),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function Z6(t,n){if(t=Br(t,n),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function K6(t){return typeof(t==null?void 0:t.range)=="function"}function Na(t){return t===void 0||ka(t)?t:{value:t}}function j6(t){return t==null?null:{transform:n=>fn(n,t,Float64Array),label:qr(t)}}function ue(t){return t&&typeof t[Symbol.iterator]=="function"}function V0(t){for(const n of t)if(n!=null)return typeof n!="object"||n instanceof Date}function os(t){for(const n of t){if(n==null)continue;const e=typeof n;return e==="string"||e==="boolean"}}function un(t){for(const n of t)if(n!=null)return n instanceof Date}function Q6(t){for(const n of t)if(n!=null)return typeof n=="string"&&isNaN(n)&&F0(n)}function J6(t){for(const n of t)if(n!=null){if(typeof n!="string")return!1;if(n.trim())return!isNaN(n)}}function t3(t){for(const n of t)if(n!=null)return typeof n=="number"}function ho(t,n){let e;for(const r of t)if(r!=null){if(!n(r))return!1;e=!0}return e}const n3=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function La(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||n3.has(t))}function e3(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function wt(t){return t==null||vr(t)}function vr(t){return/^\s*none\s*$/i.test(t)}function r3(t){return/^\s*round\s*$/i.test(t)}function yf(t,n){return W0(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Ia(t="middle"){return yf(t,"frameAnchor")}function Le(t){if(t==null)return;const n=t[0],e=t[t.length-1];return $r(n,e)}function i3(t={},...n){let e=t;for(const r of n)for(const i in r)if(e[i]===void 0){const a=r[i];e===t?e={...e,[i]:a}:e[i]=a}return e}function a3(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,e=>{const{name:r}=e;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(n.has(i))throw new Error(`duplicate name: ${i}`);return n.add(i),[r,e]}))}function X0(t){return ue(t)?a3(t):t}const tn=Symbol("position"),$n=Symbol("color"),Yr=Symbol("radius"),Hr=Symbol("length"),Wr=Symbol("opacity"),Da=Symbol("symbol"),G0=Symbol("projection"),st=new Map([["x",tn],["y",tn],["fx",tn],["fy",tn],["r",Yr],["color",$n],["opacity",Wr],["symbol",Da],["length",Hr],["projection",G0]]);function o3(t){return t===tn||t===G0}function f3(t){return t===tn||t===Yr||t===Hr||t===Wr}const u3=Math.sqrt(3),c3=2/u3,s3={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*c3,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},gu=new Map([["asterisk",l0],["circle",yr],["cross",h0],["diamond",m0],["diamond2",p0],["hexagon",s3],["plus",g0],["square",b0],["square2",y0],["star",_0],["times",$0],["triangle",v0],["triangle2",x0],["wye",M0]]);function bu(t){return t&&typeof t.draw=="function"}function l3(t){return bu(t)?!0:typeof t!="string"?!1:gu.has(t.toLowerCase())}function yu(t){if(t==null||bu(t))return t;const n=gu.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function h3(t){if(t==null||bu(t))return[void 0,t];if(typeof t=="string"){const n=gu.get(`${t}`.toLowerCase());if(n)return[void 0,n]}return[t,void 0]}function Ra({filter:t,sort:n,reverse:e,transform:r,initializer:i,...a}={},o){if(r===void 0&&(t!=null&&(r=Z0(t)),n!=null&&!Ne(n)&&(r=mo(r,wu(n))),e&&(r=mo(r,K0))),o!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(n===null||Ne(n))&&{sort:n},transform:mo(r,o)}}function Ie({filter:t,sort:n,reverse:e,initializer:r,...i}={},a){return r===void 0&&(t!=null&&(r=Z0(t)),n!=null&&!Ne(n)&&(r=po(r,wu(n))),e&&(r=po(r,K0))),{...i,...(n===null||Ne(n))&&{sort:n},initializer:po(r,a)}}function mo(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i){return{data:e,facets:r}=t.call(this,e,r,i),n.call(this,Lt(e),r,i)}}function po(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i,...a){let o,f,u,c,s,h;return{data:f=e,facets:u=r,channels:o}=t.call(this,e,r,i,...a),{data:s=f,facets:h=u,channels:c}=n.call(this,f,u,{...i,...o},...a),{data:s,facets:h,channels:{...o,...c}}}}function d3(t,n){return(t.initializer!=null?Ie:Ra)(t,n)}function Z0(t){return(n,e)=>{const r=fn(n,t);return{data:n,facets:e.map(i=>i.filter(a=>r[a]))}}}function K0(t,n){return{data:t,facets:n.map(e=>e.slice().reverse())}}function m3(t,{sort:n,...e}={}){return{...(ka(t)&&t.channel!==void 0?Ie:d3)(e,wu(t)),sort:Ne(n)?n:null}}function wu(t){return(typeof t=="function"&&t.length!==1?p3:g3)(t)}function p3(t){return(n,e)=>{const r=(i,a)=>t(n[i],n[a]);return{data:n,facets:e.map(i=>i.slice().sort(r))}}}function g3(t){let n,e;({channel:n,value:t,order:e}={...Na(t)});const r=n==null?void 0:n.startsWith("-");if(r&&(n=n.slice(1)),e===void 0&&(e=r?pf:ie),typeof e!="function")switch(`${e}`.toLowerCase()){case"ascending":e=ie;break;case"descending":e=pf;break;default:throw new Error(`invalid order: ${e}`)}return(i,a,o)=>{let f;if(n===void 0)f=fn(i,t);else{if(o===void 0)throw new Error("channel sort requires an initializer");if(f=o[n],!f)return{};f=f.value}const u=(c,s)=>e(f[c],f[s]);return{data:i,facets:a.map(c=>c.slice().sort(u))}}}function b3(t,n,e=y3){if(t==null)return e(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&Mn(t))return w3(t);if(typeof t=="function")return _3(t);if(/^p\d{2}$/i.test(t))return pn(H6(t));switch(`${t}`.toLowerCase()){case"first":return x3;case"last":return M3;case"identity":return v3;case"count":return us;case"distinct":return $3;case"sum":return n==null?us:T3;case"proportion":return cs(n,"data");case"proportion-facet":return cs(n,"facet");case"deviation":return pn(Im);case"min":return pn(sr);case"min-index":return pn(Bm);case"max":return pn(rn);case"max-index":return pn(qm);case"mean":return fs(Hm);case"median":return fs(No);case"variance":return pn(js);case"mode":return pn(Vm)}return e(t)}function y3(t){throw new Error(`invalid reduce: ${t}`)}function w3(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function _3(t){return{reduceIndex(n,e,r){return t(mu(e,n),r)}}}function pn(t){return{reduceIndex(n,e){return t(n,r=>e[r])}}}function fs(t){return{reduceIndex(n,e){const r=t(n,i=>e[i]);return un(e)?new Date(r):r}}}const v3={reduceIndex(t,n){return mu(n,t)}},x3={reduceIndex(t,n){return n[t[0]]}},M3={reduceIndex(t,n){return n[t[t.length-1]]}},us={label:"Frequency",reduceIndex(t){return t.length}},$3={label:"Distinct",reduceIndex(t,n){const e=new fa;for(const r of t)e.add(n[r]);return e.size}},T3=pn(Df);function cs(t,n){return t==null?{scope:n,label:"Frequency",reduceIndex:(e,r,i=1)=>e.length/i}:{scope:n,reduceIndex:(e,r,i=1)=>Df(e,a=>r[a])/i}}function xr(t,{scale:n,type:e,value:r,filter:i,hint:a,label:o=qr(r)},f){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),j0(f,{scale:n,type:e,value:fn(t,r),label:o,filter:i,hint:a})}function S3(t,n){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,xr(n,r,e)]))}function A3(t,n){const e=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:a}])=>{const o=i==null?null:n[i];return[r,o==null?a:St(a,o)]}));return e.channels=t,e}function j0(t,n){const{scale:e,value:r}=n;if(e===!0||e==="auto")switch(t){case"fill":case"stroke":case"color":n.scale=e!==!0&&ho(r,La)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=e!==!0&&ho(r,e3)?null:"opacity";break;case"symbol":e!==!0&&ho(r,l3)?(n.scale=null,n.value=St(r,yu)):n.scale="symbol";break;default:n.scale=st.has(t)?t:null;break}else if(e===!1)n.scale=null;else if(e!=null&&!st.has(e))throw new Error(`unknown scale: ${e}`);return n}function C3(t,n,e,r,i){const{order:a,reverse:o,reduce:f=!0,limit:u}=i;for(const c in i){if(!st.has(c))continue;let{value:s,order:h=a,reverse:l=o,reduce:d=f,limit:m=u}=Na(i[c]);const p=s==null?void 0:s.startsWith("-");if(p&&(s=s.slice(1)),h=h===void 0?p!==(s==="width"||s==="height")?J0:Q0:N3(h),d==null||d===!1)continue;const b=c==="fx"||c==="fy"?k3(n,r[c]):E3(e,c);if(!b)throw new Error(`missing channel for scale: ${c}`);const w=b.value,[g=0,x=1/0]=ue(m)?m:m<0?[m]:[0,m];if(s==null)b.domain=()=>{let y=Array.from(new fa(w));return l&&(y=y.reverse()),(g!==0||x!==1/0)&&(y=y.slice(g,x)),y};else{const y=s==="data"?t:s==="height"?ss(e,"y1","y2"):s==="width"?ss(e,"x1","x2"):wf(e,s,s==="y"?"y2":s==="x"?"x2":void 0),v=b3(d===!0?"max":d,y);b.domain=()=>{let _=Rm(Ur(w),M=>v.reduceIndex(M,y),M=>w[M]);return h&&_.sort(h),l&&_.reverse(),(g!==0||x!==1/0)&&(_=_.slice(g,x)),_.map(H0)}}}}function E3(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function k3(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let a=0;a<e.length;++a){const o=r[e[a][0]];for(const f of t[a])i[f]=o}return n}function ss(t,n,e){const r=wf(t,n),i=wf(t,e);return St(i,(a,o)=>Math.abs(a-r[o]),Float64Array)}function wf(t,n,e){let r=t[n];if(!r&&e!==void 0&&(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function N3(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return Q0;case"descending":return J0}throw new Error(`invalid order: ${t}`)}function Q0([t,n],[e,r]){return ie(n,r)||ie(t,e)}function J0([t,n],[e,r]){return pf(n,r)||ie(t,e)}function ls(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return e.source===null?null:e}}function L3(t){let n,e;return(...r)=>(((e==null?void 0:e.length)!==r.length||e.some((i,a)=>i!==r[a]))&&(e=r,n=t(...r)),n)}const I3=L3(t=>new Intl.NumberFormat(t));function D3(t="en-US"){const n=I3(t);return e=>e!=null&&!isNaN(e)?n.format(e):void 0}function R3(t){return E6(t,"Invalid Date")}function P3(t="en-US"){const n=D3(t);return e=>(e instanceof Date?R3:typeof e=="number"?n:$t)(e)}const De=P3();let _f=0,vf;function F3(){const t=_f;return _f=0,vf=void 0,t}function Gn(t){t!==vf&&(vf=t,console.warn(t),++_f)}const Et=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let O3=0;function hs(){return`plot-clip-${++O3}`}function z3(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:o,fill:f,fillOpacity:u,stroke:c,strokeWidth:s,strokeOpacity:h,strokeLinejoin:l,strokeLinecap:d,strokeMiterlimit:m,strokeDasharray:p,strokeDashoffset:b,opacity:w,mixBlendMode:g,imageFilter:x,paintOrder:y,pointerEvents:v,shapeRendering:_,channels:M},{ariaLabel:C,fill:S="currentColor",fillOpacity:k,stroke:$="none",strokeOpacity:N,strokeWidth:I,strokeLinecap:P,strokeLinejoin:T,strokeMiterlimit:F,paintOrder:Y}){S===null&&(f=null,u=null),$===null&&(c=null,h=null),wt(S)?!wt($)&&(!wt(f)||M!=null&&M.fill)&&($="none"):wt($)&&(!wt(c)||M!=null&&M.stroke)&&(S="none");const[q,H]=_r(f,S),[L,D]=Tt(u,k),[R,O]=_r(c,$),[J,tt]=Tt(h,N),[K,U]=Tt(w);vr(O)||(s===void 0&&(s=I),d===void 0&&(d=P),l===void 0&&(l=T),m===void 0&&!r3(l)&&(m=F),!vr(H)&&y===void 0&&(y=Y));const[W,E]=Tt(s);return S!==null&&(t.fill=xt(H,"currentColor"),t.fillOpacity=Xe(D,1)),$!==null&&(t.stroke=xt(O,"none"),t.strokeWidth=Xe(E,1),t.strokeOpacity=Xe(tt,1),t.strokeLinejoin=xt(l,"miter"),t.strokeLinecap=xt(d,"butt"),t.strokeMiterlimit=Xe(m,4),t.strokeDasharray=xt(p,"none"),t.strokeDashoffset=xt(b,"0")),t.target=$t(o),t.ariaLabel=$t(C),t.ariaDescription=$t(i),t.ariaHidden=$t(a),t.opacity=Xe(U,1),t.mixBlendMode=xt(g,"normal"),t.imageFilter=xt(x,"none"),t.paintOrder=xt(y,"normal"),t.pointerEvents=xt(v,"auto"),t.shapeRendering=xt(_,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:q,scale:"auto",optional:!0},fillOpacity:{value:L,scale:"auto",optional:!0},stroke:{value:R,scale:"auto",optional:!0},strokeOpacity:{value:J,scale:"auto",optional:!0},strokeWidth:{value:W,optional:!0},opacity:{value:K,scale:"auto",optional:!0}}}function U3(t,n){n&&t.filter(e=>R0(n[e])).append("title").call(q3,n)}function q3(t,n){n&&t.text(e=>De(n[e]))}function ce(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:a,fillOpacity:o,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:s,href:h}){r&&nt(t,"aria-label",l=>r[l]),a&&nt(t,"fill",l=>a[l]),o&&nt(t,"fill-opacity",l=>o[l]),f&&nt(t,"stroke",l=>f[l]),u&&nt(t,"stroke-opacity",l=>u[l]),c&&nt(t,"stroke-width",l=>c[l]),s&&nt(t,"opacity",l=>s[l]),h&&Y3(t,l=>h[l],n),e||U3(t,i)}function t1(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=Ut(t,"clip",["frame","sphere"])),t}function B3(t,n,e,r){let i;const{clip:a=r.clip}=n;switch(a){case"frame":{const{width:o,height:f,marginLeft:u,marginRight:c,marginTop:s,marginBottom:h}=e,l=hs();i=`url(#${l})`,t=vt("svg:g",r).call(d=>d.append("svg:clipPath").attr("id",l).append("rect").attr("x",u).attr("y",s).attr("width",o-c-u).attr("height",f-s-h)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:o}=r;if(!o)throw new Error('the "sphere" clip option requires a projection');const f=hs();i=`url(#${f})`,t.append("clipPath").attr("id",f).append("path").attr("d",Gf(o)({type:"Sphere"}));break}}nt(t,"aria-label",n.ariaLabel),nt(t,"aria-description",n.ariaDescription),nt(t,"aria-hidden",n.ariaHidden),nt(t,"clip-path",i)}function Pn(t,n,e,r){B3(t,n,e,r),nt(t,"fill",n.fill),nt(t,"fill-opacity",n.fillOpacity),nt(t,"stroke",n.stroke),nt(t,"stroke-width",n.strokeWidth),nt(t,"stroke-opacity",n.strokeOpacity),nt(t,"stroke-linejoin",n.strokeLinejoin),nt(t,"stroke-linecap",n.strokeLinecap),nt(t,"stroke-miterlimit",n.strokeMiterlimit),nt(t,"stroke-dasharray",n.strokeDasharray),nt(t,"stroke-dashoffset",n.strokeDashoffset),nt(t,"shape-rendering",n.shapeRendering),nt(t,"filter",n.imageFilter),nt(t,"paint-order",n.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=n;nt(t,"pointer-events",i)}function Fn(t,n){H3(t,"mix-blend-mode",n.mixBlendMode),nt(t,"opacity",n.opacity)}function Y3(t,n,e){t.each(function(r){const i=n(r);if(i!=null){const a=this.ownerDocument.createElementNS(ve.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(ve.xlink,"href",i),e!=null&&a.setAttribute("target",e),this.parentNode.insertBefore(a,this).appendChild(this)}})}function nt(t,n,e){e!=null&&t.attr(n,e)}function H3(t,n,e){e!=null&&t.style(n,e)}function On(t,n,{x:e,y:r},i=Et,a=Et){i+=n.dx,a+=n.dy,e!=null&&e.bandwidth&&(i+=e.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&t.attr("transform",`translate(${i},${a})`)}function xt(t,n){if((t=$t(t))!==n)return t}function Xe(t,n){if((t=pt(t))!==n)return t}const W3=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function _u(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!W3.test(t))throw new Error(`invalid class name: ${t}`);return t}function vu(t,n){if(typeof n=="string")t.property("style",n);else if(n!=null)for(const e of t)Object.assign(e.style,n)}function Vr({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:a,marginLeft:o}){return[/left$/.test(t)?o:/right$/.test(t)?n-i:(o+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-a:(r+e-a)/2]}function xu(t={}){const{document:n=typeof window<"u"?window.document:void 0,clip:e}=t;return{document:n,clip:t1(e)}}function vt(t,{document:n}){return ir(ca(t).call(n.documentElement))}const n1=Math.PI,hn=2*n1,ds=.618;function V3({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:a=n}={},o){if(t==null)return;if(typeof t.stream=="function")return t;let f,u,c="frame";if(Mn(t)){let v;if({type:t,domain:u,inset:v,insetTop:e=v!==void 0?v:e,insetRight:r=v!==void 0?v:r,insetBottom:i=v!==void 0?v:i,insetLeft:a=v!==void 0?v:a,clip:c=c,...f}=t,t==null)return}typeof t!="function"&&({type:t}=e1(t));const{width:s,height:h,marginLeft:l,marginRight:d,marginTop:m,marginBottom:p}=o,b=s-l-d-a-r,w=h-m-p-e-i;if(t=t==null?void 0:t({width:b,height:w,clip:c,...f}),t==null)return;c=X3(c,l,m,s-d,h-p);let g=l+a,x=m+e,y;if(u!=null){const[[v,_],[M,C]]=Gf(t).bounds(u),S=Math.min(b/(M-v),w/(C-_));S>0?(g-=(S*(v+M)-b)/2,x-=(S*(_+C)-w)/2,y=of({point(k,$){this.stream.point(k*S+g,$*S+x)}})):Gn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??(y=g===0&&x===0?r1():of({point(v,_){this.stream.point(v+g,_+x)}})),{stream:v=>t.stream(y.stream(c(v)))}}function e1(t){switch(`${t}`.toLowerCase()){case"albers-usa":return qt($y,.7463,.4673);case"albers":return ui(hh,.7463,.4673);case"azimuthal-equal-area":return qt(Ty,4,4);case"azimuthal-equidistant":return qt(Sy,hn,hn);case"conic-conformal":return ui(Ey,hn,hn);case"conic-equal-area":return ui(Hi,6.1702,2.9781);case"conic-equidistant":return ui(Ly,7.312,3.6282);case"equal-earth":return qt(Dy,5.4133,2.6347);case"equirectangular":return qt(ky,hn,n1);case"gnomonic":return qt(Ry,3.4641,3.4641);case"identity":return{type:r1};case"reflect-y":return{type:G3};case"mercator":return qt(Ay,hn,hn);case"orthographic":return qt(Py,2,2);case"stereographic":return qt(Fy,2,2);case"transverse-mercator":return qt(Oy,hn,hn);default:throw new Error(`unknown projection type: ${t}`)}}function X3(t,n,e,r,i){if(t===!1||t==null||typeof t=="number")return a=>a;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return Kl(n,e,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function qt(t,n,e){return{type:({width:r,height:i,rotate:a,precision:o=.15,clip:f})=>{var c,s,h;const u=t();return o!=null&&((c=u.precision)==null||c.call(u,o)),a!=null&&((s=u.rotate)==null||s.call(u,a)),typeof f=="number"&&((h=u.clipAngle)==null||h.call(u,f)),u.scale(Math.min(r/n,i/e)),u.translate([r/2,i/2]),u},aspectRatio:e/n}}function ui(t,n,e){const{type:r,aspectRatio:i}=qt(t,n,e);return{type:a=>{const{parallels:o,domain:f,width:u,height:c}=a,s=r(a);return o!=null&&(s.parallels(o),f===void 0&&s.fitSize([u,c],{type:"Sphere"})),s},aspectRatio:i}}const r1=zr({stream:t=>t}),G3=zr(of({point(t,n){this.stream.point(t,-n)}}));function Z3(t,n,e,r){const i=e[t],a=e[n],o=i.length,f=e[t]=new Float64Array(o).fill(NaN),u=e[n]=new Float64Array(o).fill(NaN);let c;const s=r.stream({point(h,l){f[c]=h,u[c]=l}});for(c=0;c<o;++c)s.point(i[c],a[c])}function K3({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(Mn(t)&&(t=t.type),t!=null)}function j3(t){if(typeof(t==null?void 0:t.stream)=="function")return ds;if(Mn(t)&&(t=t.type),t!=null){if(typeof t!="function"){const{aspectRatio:n}=e1(t);if(n)return n}return ds}}function Q3(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},a={point(o,f){n.push(o),e.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const o of t.value)Bn(o,a);return[r,i]}const J3=["#4269d0","#efb118","#ff725c","#6cc5b0","#3ca951","#ff8ab7","#a463f2","#97bbf5","#9c6b4e","#9498a0"],i1=new Map([["accent",H_],["category10",Y_],["dark2",W_],["observable10",J3],["paired",V_],["pastel1",X_],["pastel2",G_],["set1",Z_],["set2",K_],["set3",j_],["tableau10",Q_]]);function t5(t){return t!=null&&i1.has(`${t}`.toLowerCase())}const ms=new Map([...i1,["brbg",dn(nd,ed)],["prgn",dn(rd,id)],["piyg",dn(ad,od)],["puor",dn(fd,ud)],["rdbu",dn(hf,Zi)],["rdgy",dn(cd,sd)],["rdylbu",dn(df,Ki)],["rdylgn",dn(ld,hd)],["spectral",dn(dd,md)],["burd",ps(hf,Zi)],["buylrd",ps(df,Ki)],["blues",mt(zd,Ud)],["greens",mt(qd,Bd)],["greys",mt(Yd,Hd)],["oranges",mt(Zd,Kd)],["purples",mt(Wd,Vd)],["reds",mt(Xd,Gd)],["turbo",mn(r0)],["viridis",mn(i0)],["magma",mn(a0)],["inferno",mn(o0)],["plasma",mn(f0)],["cividis",mn(jd)],["cubehelix",mn(Qd)],["warm",mn(Jd)],["cool",mn(t0)],["bugn",mt(pd,gd)],["bupu",mt(bd,yd)],["gnbu",mt(wd,_d)],["orrd",mt(vd,xd)],["pubu",mt(Td,Sd)],["pubugn",mt(Md,$d)],["purd",mt(Ad,Cd)],["rdpu",mt(Ed,kd)],["ylgn",mt(Id,Dd)],["ylgnbu",mt(Nd,Ld)],["ylorbr",mt(Rd,Pd)],["ylorrd",mt(Fd,Od)],["rainbow",gs(n0)],["sinebow",gs(e0)]]);function mt(t,n){return({length:e})=>e===1?[t[3][1]]:e===2?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>9?Wt(n,e):t[e])}function dn(t,n){return({length:e})=>e===2?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>11?Wt(n,e):t[e])}function ps(t,n){return({length:e})=>e===2?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)),e>11?Wt(r=>n(1-r),e):t[e].slice().reverse())}function mn(t){return({length:n})=>Wt(t,Math.max(2,Math.floor(n)))}function gs(t){return({length:n})=>Wt(t,Math.floor(n)+1).slice(0,-1)}function a1(t){const n=`${t}`.toLowerCase();if(!ms.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return ms.get(n)}function Pa(t,n){const e=a1(t),r=typeof e=="function"?e({length:n}):e;return r.length!==n?r.slice(0,n):r}function n5(t,n="greys"){const e=new Set,[r,i]=Pa(n,2);for(const a of t)if(a!=null)if(a===!0)e.add(i);else if(a===!1)e.add(r);else return;return[...e]}const bs=new Map([["brbg",ed],["prgn",id],["piyg",od],["puor",ud],["rdbu",Zi],["rdgy",sd],["rdylbu",Ki],["rdylgn",hd],["spectral",md],["burd",t=>Zi(1-t)],["buylrd",t=>Ki(1-t)],["blues",Ud],["greens",Bd],["greys",Hd],["purples",Vd],["reds",Gd],["oranges",Kd],["turbo",r0],["viridis",i0],["magma",a0],["inferno",o0],["plasma",f0],["cividis",jd],["cubehelix",Qd],["warm",Jd],["cool",t0],["bugn",gd],["bupu",yd],["gnbu",_d],["orrd",xd],["pubugn",$d],["pubu",Sd],["purd",Cd],["rdpu",kd],["ylgnbu",Ld],["ylgn",Dd],["ylorbr",Pd],["ylorrd",Od],["rainbow",n0],["sinebow",e0]]);function Mu(t){const n=`${t}`.toLowerCase();if(!bs.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return bs.get(n)}const e5=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function r5(t){return t!=null&&e5.has(`${t}`.toLowerCase())}const o1=t=>n=>t(1-n),go=[0,1],ys=new Map([["number",yt],["rgb",Qn],["hsl",b2],["hcl",_2],["lab",y2]]);function f1(t){const n=`${t}`.toLowerCase();if(!ys.has(n))throw new Error(`unknown interpolator: ${n}`);return ys.get(n)}function Xr(t,n,e,{type:r,nice:i,clamp:a,zero:o,domain:f=c1(t,e),unknown:u,round:c,scheme:s,interval:h,range:l=st.get(t)===Yr?m5(e,f):st.get(t)===Hr?p5(e,f):st.get(t)===Wr?go:void 0,interpolate:d=st.get(t)===$n?s==null&&l!==void 0?Qn:Mu(s!==void 0?s:r==="cyclical"?"rainbow":"turbo"):c?qf:yt,reverse:m}){if(h=Br(h,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=f1(d)),m=!!m,l!==void 0){const p=(f=Lt(f)).length,b=(l=Lt(l)).length;if(p!==b){if(d.length===1)throw new Error("invalid piecewise interpolator");d=ha(d,l),l=void 0}}if(d.length===1?(m&&(d=o1(d),m=!1),l===void 0&&(l=Float64Array.from(f,(p,b)=>b/(f.length-1)),l.length===2&&(l=go)),n.interpolate((l===go?zr:Tu)(d))):n.interpolate(d),o){const[p,b]=Nn(f);(p>0||b<0)&&(f=gf(f),Le(f)!==Math.sign(p)?f[f.length-1]=0:f[0]=0)}return m&&(f=Si(f)),n.domain(f).unknown(u),i&&(n.nice(i5(i,r)),f=n.domain()),l!==void 0&&n.range(l),a&&n.clamp(a),{type:r,domain:f,range:l,scale:n,interpolate:d,interval:h}}function i5(t,n){return t===!0?void 0:typeof t=="number"?t:Z6(t,n)}function a5(t,n,e){return Xr(t,Jf(),n,e)}function o5(t,n,e){return u1(t,n,{...e,exponent:.5})}function u1(t,n,{exponent:e=1,...r}){return Xr(t,Rh().exponent(e),n,{...r,type:"pow"})}function f5(t,n,{base:e=10,domain:r=g5(n),...i}){return Xr(t,Nh().base(e),n,{...i,domain:r})}function u5(t,n,{constant:e=1,...r}){return Xr(t,Ih().constant(e),n,r)}function c5(t,n,{range:e,quantiles:r=e===void 0?5:(e=[...e]).length,n:i=r,scheme:a="rdylbu",domain:o=b5(n),unknown:f,interpolate:u,reverse:c}){return e===void 0&&(e=u!==void 0?Wt(u,i):st.get(t)===$n?Pa(a,i):void 0),o.length>0&&(o=Ph(o,e===void 0?{length:i}:e).quantiles()),$u(t,n,{domain:o,range:e,reverse:c,unknown:f})}function s5(t,n,{range:e,n:r=e===void 0?5:(e=[...e]).length,scheme:i="rdylbu",domain:a=c1(t,n),unknown:o,interpolate:f,reverse:u}){const[c,s]=Nn(a);let h;return e===void 0?(h=$i(c,s,r),h[0]<=c&&h.splice(0,1),h[h.length-1]>=s&&h.pop(),r=h.length+1,e=f!==void 0?Wt(f,r):st.get(t)===$n?Pa(i,r):void 0):(h=Wt(yt(c,s),r+1).slice(1,-1),c instanceof Date&&(h=h.map(l=>new Date(l)))),Le(Lt(a))<0&&h.reverse(),$u(t,n,{domain:h,range:e,reverse:u,unknown:o})}function $u(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:o=a!==void 0?Wt(a,e.length+1):st.get(t)===$n?Pa(i,e.length+1):void 0,reverse:f}){e=Lt(e);const u=Le(e);if(!isNaN(u)&&!l5(e,u))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(o=Si(o)),{type:"threshold",scale:Fh(u<0?Si(e):e,o===void 0?[]:o).unknown(r),domain:e,range:o}}function l5(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const a=$r(i,i=t[e]);if(a!==0&&a!==n)return!1}return!0}function h5(t){return{type:"identity",scale:f3(st.get(t))?Ch():n=>n}}function Mr(t,n=P0){return t.length?[sr(t,({value:e})=>e===void 0?e:sr(e,n)),rn(t,({value:e})=>e===void 0?e:rn(e,n))]:[0,1]}function c1(t,n){const e=st.get(t);return(e===Yr||e===Wr||e===Hr?d5:Mr)(n)}function d5(t){return[0,t.length?rn(t,({value:n})=>n===void 0?n:rn(n,P0)):1]}function m5(t,n){const e=t.find(({radius:o})=>o!==void 0);if(e!==void 0)return[0,e.radius];const r=Ti(t,.5,({value:o})=>o===void 0?NaN:Ti(o,.25,Ca)),i=n.map(o=>3*Math.sqrt(o/r)),a=30/rn(i);return a<1?i.map(o=>o*a):i}function p5(t,n){const e=No(t,({value:a})=>a===void 0?NaN:No(a,Math.abs)),r=n.map(a=>12*a/e),i=60/rn(r);return i<1?r.map(a=>a*i):r}function g5(t){for(const{value:n}of t)if(n!==void 0)for(let e of n){if(e>0)return Mr(t,Ca);if(e<0)return Mr(t,cu)}return[1,10]}function b5(t){const n=[];for(const{value:e}of t)if(e!==void 0)for(const r of e)n.push(r);return n}function Tu(t){return(n,e)=>r=>t(n+r*(e-n))}function Fa(t,n,e,r,{type:i,nice:a,clamp:o,domain:f=Mr(r),unknown:u,pivot:c=0,scheme:s,range:h,symmetric:l=!0,interpolate:d=st.get(t)===$n?s==null&&h!==void 0?Qn:Mu(s!==void 0?s:"rdbu"):yt,reverse:m}){c=+c,f=Lt(f);let[p,b]=f;if(f.length>2&&Gn(`Warning: the diverging ${t} scale domain contains extra elements.`),$r(p,b)<0&&([p,b]=[b,p],m=!m),p=Math.min(p,c),b=Math.max(b,c),typeof d!="function"&&(d=f1(d)),h!==void 0&&(d=d.length===1?Tu(d)(...h):ha(d,h)),m&&(d=o1(d)),l){const w=e.apply(c),g=w-e.apply(p),x=e.apply(b)-w;g<x?p=e.invert(w-x):g>x&&(b=e.invert(w+g))}return n.domain([p,c,b]).unknown(u).interpolator(d),o&&n.clamp(o),a&&n.nice(a),{type:i,domain:[p,b],pivot:c,interpolate:d,scale:n}}function y5(t,n,e){return Fa(t,jh(),x5,n,e)}function w5(t,n,e){return s1(t,n,{...e,exponent:.5})}function s1(t,n,{exponent:e=1,...r}){return Fa(t,td().exponent(e=+e),T5(e),n,{...r,type:"diverging-pow"})}function _5(t,n,{base:e=10,pivot:r=1,domain:i=Mr(n,r<0?cu:Ca),...a}){return Fa(t,Qh().base(e=+e),M5,n,{domain:i,pivot:r,...a})}function v5(t,n,{constant:e=1,...r}){return Fa(t,Jh().constant(e=+e),S5(e),n,r)}const x5={apply(t){return t},invert(t){return t}},M5={apply:Math.log,invert:Math.exp},$5={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function T5(t){return t===.5?$5:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}function S5(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}function l1(t,n,e,r){return Xr(t,n,e,r)}function A5(t,n,e){return l1(t,q_(),n,e)}function C5(t,n,e){return l1(t,B_(),n,e)}const Gr=Symbol("ordinal");function h1(t,n,e,{type:r,interval:i,domain:a,range:o,reverse:f,hint:u}){return i=Br(i,r),a===void 0&&(a=m1(e,i,t)),(r==="categorical"||r===Gr)&&(r="ordinal"),f&&(a=Si(a)),a=n.domain(a).domain(),o!==void 0&&(typeof o=="function"&&(o=o(a)),n.range(o)),{type:r,domain:a,range:o,scale:n,hint:u,interval:i}}function E5(t,n,{type:e,interval:r,domain:i,range:a,scheme:o,unknown:f,...u}){r=Br(r,e),i===void 0&&(i=m1(n,r,t));let c;if(st.get(t)===Da)c=L5(n),a=a===void 0?I5(c):St(a,yu);else if(st.get(t)===$n&&(a===void 0&&(e==="ordinal"||e===Gr)&&(a=n5(i,o),a!==void 0&&(o=void 0)),o===void 0&&a===void 0&&(o=e==="ordinal"?"turbo":"observable10"),o!==void 0))if(a!==void 0){const s=Mu(o),h=a[0],l=a[1]-a[0];a=({length:d})=>Wt(m=>s(h+l*m),d)}else a=a1(o);if(f===cf)throw new Error(`implicit unknown on ${t} scale is not supported`);return h1(t,Qf().unknown(f),n,{...u,type:e,domain:i,range:a,hint:c})}function k5(t,n,{align:e=.5,padding:r=.5,...i}){return d1(vw().align(e).padding(r),n,i,t)}function N5(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=t==="fx"||t==="fy"?0:r,...o}){return d1(ya().align(e).paddingInner(i).paddingOuter(a),n,o,t)}function d1(t,n,e,r){let{round:i}=e;return i!==void 0&&t.round(i=!!i),t=h1(r,t,n,e),t.round=i,t}function m1(t,n,e){const r=new fa;for(const{value:i,domain:a}of t){if(a!==void 0)return a();if(i!==void 0)for(const o of i)r.add(o)}if(n!==void 0){const[i,a]=Nn(r).map(n.floor,n);return n.range(i,n.offset(a))}if(r.size>1e4&&st.get(e)===tn)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return Fm(r,ie)}function ws(t,n){let e;for(const{hint:r}of t){const i=r==null?void 0:r[n];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}function L5(t){return{fill:ws(t,"fill"),stroke:ws(t,"stroke")}}function I5(t){return wt(t.fill)?l6:s6}function xf(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:a=e,insetLeft:o=e,round:f,nice:u,clamp:c,zero:s,align:h,padding:l,projection:d,facet:{label:m=n}={},...p}={}){const b={};for(const[w,g]of t){const x=p[w],y=O5(w,g,{round:st.get(w)===tn?f:void 0,nice:u,clamp:c,zero:s,align:h,padding:l,projection:d,...x});if(y){let{label:v=w==="fx"||w==="fy"?m:n,percent:_,transform:M,inset:C,insetTop:S=C!==void 0?C:w==="y"?r:0,insetRight:k=C!==void 0?C:w==="x"?i:0,insetBottom:$=C!==void 0?C:w==="y"?a:0,insetLeft:N=C!==void 0?C:w==="x"?o:0}=x||{};if(M==null)M=void 0;else if(typeof M!="function")throw new Error("invalid scale transform; not a function");y.percent=!!_,y.label=v===void 0?R5(g,y):v,y.transform=M,w==="x"||w==="fx"?(y.insetLeft=+N,y.insetRight=+k):(w==="y"||w==="fy")&&(y.insetTop=+S,y.insetBottom=+$),b[w]=y}}return b}function _s(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:a,type:o,interval:f,label:u}=i;n[r]=Y5(i),e[r]=a,a.type=o,f!=null&&(a.interval=f),u!=null&&(a.label=u)}return e}function D5(t,n){const{x:e,y:r,fx:i,fy:a}=t,o=i||a?Su(n):n;i&&vs(i,o),a&&xs(a,o);const f=i||a?p1(t,n):n;e&&vs(e,f),r&&xs(r,f)}function R5(t=[],n){let e;for(const{label:r}of t)if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}if(e!==void 0)return!se(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function P5(t){return Math.sign(Le(t.domain()))*Math.sign(Le(t.range()))}function Su(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:a,height:o,facet:{marginTop:f,marginRight:u,marginBottom:c,marginLeft:s}}=t;return{marginTop:Math.max(n,f),marginRight:Math.max(e,u),marginBottom:Math.max(r,c),marginLeft:Math.max(i,s),width:a,height:o}}function p1({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:f,height:u}=Su(e);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:t?t.scale.bandwidth()+o+i:f,height:n?n.scale.bandwidth()+r+a:u,facet:{width:f,height:u}}}function vs(t,n){if(t.range===void 0){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:a=0,marginRight:o=0}=n,f=a+e,u=i-o-r;t.range=[f,Math.max(f,u)],se(t)||(t.range=b1(t)),t.scale.range(t.range)}g1(t)}function xs(t,n){if(t.range===void 0){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:a=0,marginBottom:o=0}=n,f=a+e,u=i-o-r;t.range=[Math.max(f,u),f],se(t)?t.range.reverse():t.range=b1(t),t.scale.range(t.range)}g1(t)}function g1(t){t.round===void 0&&U5(t)&&F5(t)<=30&&t.scale.round(!0)}function F5({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),o=n-i,f=Math.abs(r-e)/Math.max(1,o+a*2);return(f-Math.floor(f))*o}function b1(t){const n=t.scale.domain().length+y1(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},(i,a)=>e+a/(n-1)*(r-e))}function O5(t,n=[],e={}){const r=z5(t,n,e);if(e.type===void 0&&e.domain===void 0&&e.range===void 0&&e.interval==null&&t!=="fx"&&t!=="fy"&&se({type:r})){const i=n.map(({value:a})=>a).filter(a=>a!==void 0);i.some(un)?Gn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${me(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${me(r)}".`):i.some(Q6)?Gn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${me(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${me(r)}".`):i.some(J6)&&Gn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${me(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${me(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=ci(n,e,be);break;case"identity":switch(st.get(t)){case tn:e=ci(n,e,be);break;case Da:e=ci(n,e,q5);break}break;case"utc":case"time":e=ci(n,e,W6);break}switch(r){case"diverging":return y5(t,n,e);case"diverging-sqrt":return w5(t,n,e);case"diverging-pow":return s1(t,n,e);case"diverging-log":return _5(t,n,e);case"diverging-symlog":return v5(t,n,e);case"categorical":case"ordinal":case Gr:return E5(t,n,e);case"cyclical":case"sequential":case"linear":return a5(t,n,e);case"sqrt":return o5(t,n,e);case"threshold":return $u(t,n,e);case"quantile":return c5(t,n,e);case"quantize":return s5(t,n,e);case"pow":return u1(t,n,e);case"log":return f5(t,n,e);case"symlog":return u5(t,n,e);case"utc":return C5(t,n,e);case"time":return A5(t,n,e);case"point":return k5(t,n,e);case"band":return N5(t,n,e);case"identity":return h5(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function me(t){return typeof t=="symbol"?t.description:t}function Ms(t){return typeof t=="string"?`${t}`.toLowerCase():t}const $s={toString:()=>"projection"};function z5(t,n,{type:e,domain:r,range:i,scheme:a,pivot:o,projection:f}){if(e=Ms(e),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(e=$s);for(const c of n){const s=Ms(c.type);if(s!==void 0){if(e===void 0)e=s;else if(e!==s)throw new Error(`scale incompatible with channel: ${e} !== ${s}`)}}if(e===$s)return;if(e!==void 0)return e;if(r===void 0&&!n.some(({value:c})=>c!==void 0))return;const u=st.get(t);if(u===Yr)return"sqrt";if(u===Wr||u===Hr)return"linear";if(u===Da)return"ordinal";if((r||i||[]).length>2)return bo(u);if(r!==void 0){if(os(r))return bo(u);if(un(r))return"utc"}else{const c=n.map(({value:s})=>s).filter(s=>s!==void 0);if(c.some(os))return bo(u);if(c.some(un))return"utc"}if(u===$n){if(o!=null||r5(a))return"diverging";if(t5(a))return"categorical"}return"linear"}function bo(t){switch(t){case tn:return"point";case $n:return Gr;default:return"ordinal"}}function se({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===Gr}function y1({type:t}){return t==="threshold"}function U5({type:t}){return t==="point"||t==="band"}function ea(t){if(t===void 0)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function ci(t,{domain:n,...e},r){var i;for(const a of t)a.value!==void 0&&(n===void 0&&(n=(i=a.value)==null?void 0:i.domain),a.value=r(a.value));return{domain:n===void 0?n:r(n),...e}}function q5(t){return St(t,yu)}function B5(t){return n=>{if(!st.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}function Y5({scale:t,type:n,domain:e,range:r,interpolate:i,interval:a,transform:o,percent:f,pivot:u}){if(n==="identity")return{type:"identity",apply:s=>s,invert:s=>s};const c=t.unknown?t.unknown():void 0;return{type:n,domain:gf(e),...r!==void 0&&{range:gf(r)},...o!==void 0&&{transform:o},...f&&{percent:f},...c!==void 0&&{unknown:c},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:s=>t(s),...t.invert&&{invert:s=>t.invert(s)}}}function H5(t,n,e={}){let r=.5-Et,i=.5+Et,a=.5+Et,o=.5-Et;for(const{marginTop:p,marginRight:b,marginBottom:w,marginLeft:g}of n)p>r&&(r=p),b>i&&(i=b),w>a&&(a=w),g>o&&(o=g);let{margin:f,marginTop:u=f!==void 0?f:r,marginRight:c=f!==void 0?f:i,marginBottom:s=f!==void 0?f:a,marginLeft:h=f!==void 0?f:o}=e;u=+u,c=+c,s=+s,h=+h;let{width:l=640,height:d=W5(t,e,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:o})+Math.max(0,u-r+s-a)}=e;l=+l,d=+d;const m={width:l,height:d,marginTop:u,marginRight:c,marginBottom:s,marginLeft:h};if(t.fx||t.fy){let{margin:p,marginTop:b=p!==void 0?p:u,marginRight:w=p!==void 0?p:c,marginBottom:g=p!==void 0?p:s,marginLeft:x=p!==void 0?p:h}=e.facet??{};b=+b,w=+w,g=+g,x=+x,m.facet={marginTop:b,marginRight:w,marginBottom:g,marginLeft:x}}return m}function W5({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:a},{width:o,marginTopDefault:f,marginRightDefault:u,marginBottomDefault:c,marginLeftDefault:s}){const h=e?e.scale.domain().length:1,l=j3(i);if(l){const m=r?r.scale.domain().length:1,p=(1.1*h-.1)/(1.1*m-.1)*l,b=Math.max(.1,Math.min(10,p));return Math.round((o-s-u)*b+f+c)}const d=n?se(n)?n.scale.domain().length:Math.max(7,17/h):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const m=Ts("y",n)/(Ts("x",t)*a),p=r?r.scale.bandwidth():1,b=e?e.scale.bandwidth():1,w=p*(o-s-u)-t.insetLeft-t.insetRight;return(m*w+n.insetTop+n.insetBottom)/b+f+c}return!!(n||e)*Math.max(1,Math.min(60,d*h))*20+!!r*30+60}function Ts(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=n.scale.exponent();i=u=>Math.pow(u,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[a,o]=Nn(r);return Math.abs(i(o)-i(a))}function V5(t,n){const{fx:e,fy:r}=xf(t,n),i=e==null?void 0:e.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?Lm(i,a).map(([o,f],u)=>({x:o,y:f,i:u})):i?i.map((o,f)=>({x:o,i:f})):a?a.map((o,f)=>({y:o,i:f})):void 0}function X5(t,{x:n,y:e}){return n&&(n=Mf(n)),e&&(e=Mf(e)),t.filter(n&&e?r=>n.has(r.x)&&e.has(r.y):n?r=>n.has(r.x):r=>e.has(r.y)).sort(n&&e?(r,i)=>n.get(r.x)-n.get(i.x)||e.get(r.y)-e.get(i.y):n?(r,i)=>n.get(r.x)-n.get(i.x):(r,i)=>e.get(r.y)-e.get(i.y))}function Au(t,{fx:n,fy:e}){const r=Ur(t),i=n==null?void 0:n.value,a=e==null?void 0:e.value;return n&&e?Ua(r,o=>(o.fx=i[o[0]],o.fy=a[o[0]],o),o=>i[o],o=>a[o]):n?Ua(r,o=>(o.fx=i[o[0]],o),o=>i[o]):Ua(r,o=>(o.fy=a[o[0]],o),o=>a[o])}function G5(t,n,{marginTop:e,marginLeft:r}){return t&&n?({x:i,y:a})=>`translate(${t(i)-r},${n(a)-e})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${n(i)-e})`}function Z5(t){const n=[],e=new Uint32Array(Df(t,r=>r.length));for(const r of t){let i=0;for(const a of t)r!==a&&(e.set(a,i),i+=a.length);n.push(e.slice(0,i))}return n}const K5=new Map([["top",yo],["right",vo],["bottom",wo],["left",_o],["top-left",si(yo,_o)],["top-right",si(yo,vo)],["bottom-left",si(wo,_o)],["bottom-right",si(wo,vo)],["top-empty",J5],["right-empty",e8],["bottom-empty",t8],["left-empty",n8],["empty",r8]]);function j5(t){if(t==null)return null;const n=K5.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}const Ss=new WeakMap;function Mf(t){let n=Ss.get(t);return n||Ss.set(t,n=new cr(St(t,(e,r)=>[e,r]))),n}function zn(t,n){return Mf(t).get(n)}function Q5(t,n,e){return n=fi(n),e=fi(e),t.find(r=>Object.is(fi(r.x),n)&&Object.is(fi(r.y),e))}function Oa(t,n,e){var r;return(r=Q5(t,n,e))==null?void 0:r.empty}function yo(t,{y:n},{y:e}){return n?zn(n,e)===0:!0}function wo(t,{y:n},{y:e}){return n?zn(n,e)===n.length-1:!0}function _o(t,{x:n},{x:e}){return n?zn(n,e)===0:!0}function vo(t,{x:n},{x:e}){return n?zn(n,e)===n.length-1:!0}function J5(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=zn(n,r);if(a>0)return Oa(t,e,n[a-1])}function t8(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=zn(n,r);if(a<n.length-1)return Oa(t,e,n[a+1])}function n8(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=zn(n,e);if(a>0)return Oa(t,n[a-1],r)}function e8(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=zn(n,e);if(a<n.length-1)return Oa(t,n[a+1],r)}function r8(t,n,{empty:e}){return e}function si(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function xo(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map(({x:i,y:a})=>{var o;return((o=r.get(i))==null?void 0:o.get(a))??[]}):n?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}class Kt{constructor(n,e={},r={},i){const{facet:a="auto",facetAnchor:o,fx:f,fy:u,sort:c,dx:s=0,dy:h=0,margin:l=0,marginTop:d=l,marginRight:m=l,marginBottom:p=l,marginLeft:b=l,clip:w=i==null?void 0:i.clip,channels:g,tip:x,render:y}=r;if(this.data=n,this.sort=Ne(c)?c:null,this.initializer=Ie(r).initializer,this.transform=this.initializer?r.transform:Ra(r).transform,a===null||a===!1?this.facet=null:(this.facet=Ut(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=n===vi&&typeof f=="string"?[f]:f,this.fy=n===vi&&typeof u=="string"?[u]:u),this.facetAnchor=j5(o),e=X0(e),g!==void 0&&(e={...i8(g),...e}),i!==void 0&&(e={...z3(this,r,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([v,_])=>{if(ka(_.value)){const{value:M,label:C=_.label,scale:S=_.scale}=_.value;_={..._,label:C,scale:S,value:M}}if(n===vi&&typeof _.value=="string"){const{value:M}=_;_={..._,value:[M]}}return[v,_]}).filter(([v,{value:_,optional:M}])=>{if(_!=null)return!0;if(M)return!1;throw new Error(`missing channel value: ${v}`)})),this.dx=+s,this.dy=+h,this.marginTop=+d,this.marginRight=+m,this.marginBottom=+p,this.marginLeft=+b,this.clip=t1(w),this.tip=a8(x),this.facet==="super"){if(f||u)throw new Error("super-faceting cannot use fx or fy");for(const v in this.channels){const{scale:_}=e[v];if(!(_!=="x"&&_!=="y"))throw new Error("super-faceting cannot use x or y")}}y!=null&&(this.render=w1(y,this.render))}initialize(n,e,r){let i=Lt(this.data);n===void 0&&i!=null&&(n=[Ur(i)]);const a=n;this.transform!=null&&({facets:n,data:i}=this.transform(i,n,r),i=Lt(i)),n!==void 0&&(n.original=a);const o=S3(this.channels,i);return this.sort!=null&&C3(i,n,o,e,this.sort),{data:i,facets:n,channels:o}}filter(n,e,r){for(const i in e){const{filter:a=re}=e[i];if(a!==null){const o=r[i];n=n.filter(f=>a(o[f]))}}return n}project(n,e,r){for(const i in n)if(n[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in n&&n[a].scale==="y"&&Z3(i,a,e,r.projection)}}scale(n,e,r){const i=A3(n,e);return r.projection&&this.project(n,i,r),i}}function Cu(...t){return t.plot=Kt.prototype.plot,t}function w1(t,n){if(t==null)return n===null?void 0:n;if(n==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,a,o,f){return t.call(this,e,r,i,a,o,(u,c,s,h,l)=>n.call(this,u,c,s,h,l,f))}}function i8(t){return Object.fromEntries(Object.entries(X0(t)).map(([n,e])=>(e=typeof e=="string"?{value:e,label:n}:Na(e),e.filter===void 0&&e.scale==null&&(e={...e,filter:null}),[n,e])))}function a8(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?Ut(t,"tip",["x","y","xy"]):t}function _1(t,n){return(t==null?void 0:t.tip)===!0?{...t,tip:n}:Mn(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:n}}:t}const As=new WeakMap;function Eu(t,n,{x:e,y:r,px:i,py:a,maxRadius:o=40,channels:f,render:u,...c}={}){return o=+o,i!=null&&(e??(e=null),f={...f,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),f={...f,py:{value:a,scale:"y"}}),{x:e,y:r,channels:f,...c,render:w1(function(s,h,l,d,m,p){m={...m,pointerSticky:!1};const b=m.ownerSVGElement,{data:w}=m.getMarkState(this);let g=As.get(b);g||As.set(b,g={sticky:!1,roots:[],renders:[]});let x=g.renders.push(O)-1;const{x:y,y:v,fx:_,fy:M}=h;let C=_?_(s.fx)-d.marginLeft:0,S=M?M(s.fy)-d.marginTop:0;y!=null&&y.bandwidth&&(C+=y.bandwidth()/2),v!=null&&v.bandwidth&&(S+=v.bandwidth()/2);const k=s.fi!=null;let $;if(k){let U=g.facetStates;U||(g.facetStates=U=new Map),$=U.get(this),$||U.set(this,$=new Map)}const[N,I]=Vr(this,d),{px:P,py:T}=l,F=P?U=>P[U]:v1(l,N),Y=T?U=>T[U]:x1(l,I);let q,H,L,D;function R(U,W){if(k)if(D&&(D=cancelAnimationFrame(D)),U==null)$.delete(s.fi);else{$.set(s.fi,W),D=requestAnimationFrame(()=>{D=null;for(const[E,z]of $)if(z<W||z===W&&E<s.fi){U=null;break}O(U)});return}O(U)}function O(U){if(q===U&&L===g.sticky)return;q=U,L=m.pointerSticky=g.sticky;const W=q==null?[]:[q];k&&(W.fx=s.fx,W.fy=s.fy,W.fi=s.fi);const E=p(W,h,l,d,m);if(H){if(k){const z=H.parentNode,B=H.getAttribute("transform"),A=E.getAttribute("transform");B?E.setAttribute("transform",B):E.removeAttribute("transform"),A?z.setAttribute("transform",A):z.removeAttribute("transform"),E.removeAttribute("aria-label"),E.removeAttribute("aria-description"),E.removeAttribute("aria-hidden")}H.replaceWith(E)}return g.roots[x]=H=E,q==null&&($==null?void 0:$.size)>1||m.dispatchValue(q==null?null:w[q]),E}function J(U){if(g.sticky||U.pointerType==="mouse"&&U.buttons===1)return;let[W,E]=zg(U);W-=C,E-=S;const z=W<d.marginLeft||W>d.width-d.marginRight?1:t,B=E<d.marginTop||E>d.height-d.marginBottom?1:n;let A=null,at=o*o;for(const V of s){const ft=z*(F(V)-W),lt=B*(Y(V)-E),Ct=ft*ft+lt*lt;Ct<=at&&(A=V,at=Ct)}if(A!=null&&(t!==1||n!==1)){const V=F(A)-W,ft=Y(A)-E;at=V*V+ft*ft}R(A,at)}function tt(U){U.pointerType==="mouse"&&q!=null&&(g.sticky&&g.roots.some(W=>W==null?void 0:W.contains(U.target))||(g.sticky?(g.sticky=!1,g.renders.forEach(W=>W(null))):(g.sticky=!0,O(q)),U.stopImmediatePropagation()))}function K(U){U.pointerType==="mouse"&&(g.sticky||R(null))}return b.addEventListener("pointerenter",J),b.addEventListener("pointermove",J),b.addEventListener("pointerdown",tt),b.addEventListener("pointerleave",K),O(null)},u)}}function o8(t){return Eu(1,1,t)}function f8(t){return Eu(1,.01,t)}function Cs(t){return Eu(.01,1,t)}function v1({x1:t,x2:n,x:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function x1({y1:t,y2:n,y:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function M1(t){return se(t)&&t.interval===void 0?void 0:"tabular-nums"}function u8(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:o=18,marginRight:f=0,marginBottom:u=16+r,marginLeft:c=0,style:s,ticks:h=(i-c-f)/64,tickFormat:l,fontVariant:d=M1(t),round:m=!0,opacity:p,className:b}=n;const w=xu(n);b=_u(b),p=Tt(p)[1],l===null&&(l=()=>null);const g=vt("svg",w).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(N=>N.append("style").text(`:where(.${b}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${b}-ramp text) {
  white-space: pre;
}`)).call(vu,s);let x=N=>N.selectAll(".tick line").attr("y1",o+u-a),y;const v=m?(N,I)=>N.rangeRound(I):(N,I)=>N.range(I),{type:_,domain:M,range:C,interpolate:S,scale:k,pivot:$}=t;if(S){const N=C===void 0?S:ha(S.length===1?Tu(S):S,C);y=v(k.copy(),Wt(yt(c,i-f),Math.min(M.length+($!==void 0),C===void 0?1/0:C.length)));const I=256,P=w.document.createElement("canvas");P.width=I,P.height=1;const T=P.getContext("2d");for(let F=0,Y=I-1;F<I;++F)T.fillStyle=N(F/Y),T.fillRect(F,0,1,1);g.append("image").attr("opacity",p).attr("x",c).attr("y",o).attr("width",i-c-f).attr("height",a-o-u).attr("preserveAspectRatio","none").attr("xlink:href",P.toDataURL())}else if(_==="threshold"){const N=M,I=l===void 0?P=>P:typeof l=="string"?Fe(l):l;y=v(Jf().domain([-1,C.length-1]),[c,i-f]),g.append("g").attr("fill-opacity",p).selectAll().data(C).enter().append("rect").attr("x",(P,T)=>y(T-1)).attr("y",o).attr("width",(P,T)=>y(T)-y(T-1)).attr("height",a-o-u).attr("fill",P=>P),h=St(N,(P,T)=>T),l=P=>I(N[P],P)}else y=v(ya().domain(M),[c,i-f]),g.append("g").attr("fill-opacity",p).selectAll().data(M).enter().append("rect").attr("x",y).attr("y",o).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",a-o-u).attr("fill",k),x=()=>{};return g.append("g").attr("transform",`translate(0,${a-u})`).call(ep(y).ticks(Array.isArray(h)?null:h,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(h)?h:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",xt(d,"normal")).call(x).call(N=>N.select(".domain").remove()),e!==void 0&&g.append("text").attr("x",c).attr("y",o-6).attr("fill","currentColor").attr("font-weight","bold").text(e),g.node()}const $1=Math.PI/180;function ku(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=Mo(e),t.markerMid=Mo(r),t.markerEnd=Mo(i)}function Mo(t){if(t==null||t===!1)return null;if(t===!0)return ks;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Es("auto");case"arrow-reverse":return Es("auto-start-reverse");case"dot":return c8;case"circle":case"circle-fill":return ks;case"circle-stroke":return s8;case"tick":return $o("auto");case"tick-x":return $o(90);case"tick-y":return $o(0)}throw new Error(`invalid marker: ${t}`)}function Es(t){return(n,e)=>vt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function c8(t,n){return vt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(e=>e.append("circle").attr("r",2.5)).node()}function ks(t,n){return vt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function s8(t,n){return vt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function $o(t){return(n,e)=>vt("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let l8=0;function Nu(t,n,{stroke:e},r){return h8(t,n,e&&(i=>e[i]),r)}function h8(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},a=()=>i,o){const f=new Map;function u(c){return function(s){const h=a(s);let l=f.get(c);l||f.set(c,l=new Map);let d=l.get(h);if(!d){const m=this.parentNode.insertBefore(c(h,o),this),p=`plot-marker-${++l8}`;m.setAttribute("id",p),l.set(h,d=`url(#${p})`)}return d}}n&&t.attr("marker-start",u(n)),e&&t.attr("marker-mid",u(e)),r&&t.attr("marker-end",u(r))}function T1({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=A1(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function S1({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=A1(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function A1(t,n,e){return t===void 0&&n===void 0&&e===void 0?Et?[1,0]:[.5,.5]:[n,e]}function C1(t,{interval:n}){return t={...Na(t)},t.interval=pu(t.interval===void 0?n:t.interval),t}function E1(t,n,e,r){const{[t]:i,[`${t}1`]:a,[`${t}2`]:o}=e,{value:f,interval:u}=C1(i,e);if(f==null||u==null&&!r)return e;const c=qr(i);if(u==null){let d;const m={transform:p=>d||(d=fn(p,f)),label:c};return{...e,[t]:void 0,[`${t}1`]:a===void 0?m:a,[`${t}2`]:o===void 0&&!(a===o&&r)?m:o}}let s,h;function l(d){return h!==void 0&&d===s?h:h=St(fn(s=d,f),m=>u.floor(m))}return n({...e,[t]:void 0,[`${t}1`]:a===void 0?{transform:l,label:c}:a,[`${t}2`]:o===void 0?{transform:d=>l(d).map(m=>u.offset(m)),label:c}:o})}function k1(t,n,e){const{[t]:r}=e,{value:i,interval:a}=C1(r,e);return i==null||a==null?e:n({...e,[t]:{label:qr(r),transform:o=>{const f=St(fn(o,i),c=>a.floor(c)),u=f.map(c=>a.offset(c));return f.map(un(f)?(c,s)=>c==null||isNaN(c=+c)||(s=u[s],s==null)||isNaN(s=+s)?void 0:new Date((c+s)/2):(c,s)=>c==null||(s=u[s],s==null)?NaN:(+c+ +s)/2)}}})}function d8(t={}){return E1("x",T1,t)}function m8(t={}){return E1("y",S1,t)}function p8(t={}){return k1("x",T1,t)}function g8(t={}){return k1("y",S1,t)}const N1={ariaLabel:"rule",fill:null,stroke:"currentColor"};class b8 extends Kt{constructor(n,e={}){const{x:r,y1:i,y2:a,inset:o=0,insetTop:f=o,insetBottom:u=o}=e;super(n,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},_1(e,"x"),N1),this.insetTop=pt(f),this.insetBottom=pt(u),ku(this,e)}render(n,e,r,i,a){const{x:o,y:f}=e,{x:u,y1:c,y2:s}=r,{width:h,height:l,marginTop:d,marginRight:m,marginLeft:p,marginBottom:b}=i,{insetTop:w,insetBottom:g}=this;return vt("svg:g",a).call(Pn,this,i,a).call(On,this,{x:u&&o},Et,0).call(x=>x.selectAll().data(n).enter().append("line").call(Fn,this).attr("x1",u?y=>u[y]:(p+h-m)/2).attr("x2",u?y=>u[y]:(p+h-m)/2).attr("y1",c&&!ea(f)?y=>c[y]+w:d+w).attr("y2",s&&!ea(f)?f.bandwidth?y=>s[y]+f.bandwidth()-g:y=>s[y]-g:l-b-g).call(ce,this,r).call(Nu,this,r,a)).node()}}class y8 extends Kt{constructor(n,e={}){const{x1:r,x2:i,y:a,inset:o=0,insetRight:f=o,insetLeft:u=o}=e;super(n,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},_1(e,"y"),N1),this.insetRight=pt(f),this.insetLeft=pt(u),ku(this,e)}render(n,e,r,i,a){const{x:o,y:f}=e,{y:u,x1:c,x2:s}=r,{width:h,height:l,marginTop:d,marginRight:m,marginLeft:p,marginBottom:b}=i,{insetLeft:w,insetRight:g}=this;return vt("svg:g",a).call(Pn,this,i,a).call(On,this,{y:u&&f},0,Et).call(x=>x.selectAll().data(n).enter().append("line").call(Fn,this).attr("x1",c&&!ea(o)?y=>c[y]+w:p+w).attr("x2",s&&!ea(o)?o.bandwidth?y=>s[y]+o.bandwidth()-g:y=>s[y]-g:h-m-g).attr("y1",u?y=>u[y]:(d+l-b)/2).attr("y2",u?y=>u[y]:(d+l-b)/2).call(ce,this,r).call(Nu,this,r,a)).node()}}function w8(t,n){let{x:e=Zt,y:r,y1:i,y2:a,...o}=m8(n);return[i,a]=L1(r,i,a),new b8(t,{...o,x:e,y1:i,y2:a})}function _8(t,n){let{y:e=Zt,x:r,x1:i,x2:a,...o}=d8(n);return[i,a]=L1(r,i,a),new y8(t,{...o,y:e,x1:i,x2:a})}function L1(t,n,e){if(t==null){if(n===void 0){if(e!==void 0)return[0,e]}else if(e===void 0)return[0,n]}else{if(n===void 0)return e===void 0?[0,t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}function Lu(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)typeof n[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let a=0;a<e;++a)i+=n[a](r)+t[a+1];return i}}const v8={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},I1="­";class Iu extends Kt{constructor(n,e={}){const{x:r,y:i,text:a=ue(n)&&V0(n)?Zt:q6,frameAnchor:o,textAnchor:f=/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle",lineAnchor:u=/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle",lineHeight:c=1,lineWidth:s=1/0,textOverflow:h,monospace:l,fontFamily:d=l?"ui-monospace, monospace":void 0,fontSize:m,fontStyle:p,fontVariant:b,fontWeight:w,rotate:g}=e,[x,y]=Tt(g,0),[v,_]=A8(m);if(super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:v,optional:!0},rotate:{value:j6(x),optional:!0},text:{value:a,filter:R0,optional:!0}},e,v8),this.rotate=y,this.textAnchor=xt(f,"middle"),this.lineAnchor=Ut(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+s,this.textOverflow=D1(h),this.monospace=!!l,this.fontFamily=$t(d),this.fontSize=_,this.fontStyle=$t(p),this.fontVariant=$t(b),this.fontWeight=$t(w),this.frameAnchor=Ia(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${s}`);this.splitLines=P1(this),this.clipLine=F1(this)}render(n,e,r,i,a){const{x:o,y:f}=e,{x:u,y:c,rotate:s,text:h,title:l,fontSize:d}=r,{rotate:m}=this,[p,b]=Vr(this,i);return vt("svg:g",a).call(Pn,this,i,a).call(R1,this,h,i).call(On,this,{x:u&&o,y:c&&f}).call(w=>w.selectAll().data(n).enter().append("text").call(Fn,this).call(x8,this,h,l).attr("transform",Lu`translate(${u?g=>u[g]:p},${c?g=>c[g]:b})${s?g=>` rotate(${s[g]})`:m?` rotate(${m})`:""}`).call(nt,"font-size",d&&(g=>d[g])).call(ce,this,r)).node()}}function D1(t){return t==null?null:Ut(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function x8(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:a,textOverflow:o,splitLines:f,clipLine:u}=n;t.each(function(c){const s=f(De(e[c])??"").map(u),h=s.length,l=i==="top"?.71:i==="bottom"?1-h:(164-h*100)/200;if(h>1){let d=0;for(let m=0;m<h;++m){if(++d,!s[m])continue;const p=this.ownerDocument.createElementNS(ve.svg,"tspan");p.setAttribute("x",0),m===d-1?p.setAttribute("y",`${(l+m)*a}em`):p.setAttribute("dy",`${d*a}em`),p.textContent=s[m],this.appendChild(p),d=0}}else l&&this.setAttribute("y",`${l*a}em`),this.textContent=s[0];if(o&&!r&&s[0]!==e[c]){const d=this.ownerDocument.createElementNS(ve.svg,"title");d.textContent=e[c],this.appendChild(d)}})}function Du(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=du(n,e)),new Iu(t,{...r,x:n,y:e})}function M8(t,{x:n=Zt,...e}={}){return new Iu(t,g8({...e,x:n}))}function $8(t,{y:n=Zt,...e}={}){return new Iu(t,p8({...e,y:n}))}function R1(t,n,e){nt(t,"text-anchor",n.textAnchor),nt(t,"font-family",n.fontFamily),nt(t,"font-size",n.fontSize),nt(t,"font-style",n.fontStyle),nt(t,"font-variant",n.fontVariant===void 0?T8(e):n.fontVariant),nt(t,"font-weight",n.fontWeight)}function T8(t){return t&&(t3(t)||un(t))?"tabular-nums":void 0}const S8=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function A8(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),S8.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function C8(t,n,e){const r=[];let i,a=0;for(const[o,f,u]of E8(t)){if(i===void 0&&(i=o),a>i&&e(t,i,f)>n&&(r.push(t.slice(i,a)+(t[a-1]===I1?"-":"")),i=o),u){r.push(t.slice(i,f)),i=void 0;continue}a=f}return r}function*E8(t){let n=0,e=0;const r=t.length;for(;e<r;){let i=1;switch(t[e]){case I1:case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];t[++e]===" ";);n=e;break;case"\r":t[e+1]===`
`&&++i;case`
`:yield[n,e,!0],e+=i,n=e;break;default:++e;break}}yield[n,e,!0]}const Ns={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function Ru(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=ze(t,i))r+=Ns[t[i]]??(z1(t,i)?120:Ns.e);return r}function Pu(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=ze(t,i))r+=z1(t,i)?126:63;return r}function P1({monospace:t,lineWidth:n,textOverflow:e}){if(e!=null||n==1/0)return a=>a.split(/\r\n?|\n/g);const r=t?Pu:Ru,i=n*100;return a=>C8(a,i,r)}function F1({monospace:t,lineWidth:n,textOverflow:e}){if(e==null||n==1/0)return a=>a;const r=t?Pu:Ru,i=n*100;switch(e){case"clip-start":return a=>Is(a,i,r,"");case"clip-end":return a=>Ls(a,i,r,"");case"ellipsis-start":return a=>Is(a,i,r,_e);case"ellipsis-middle":return a=>k8(a,i,r,_e);case"ellipsis-end":return a=>Ls(a,i,r,_e)}}const _e="…";function Re(t,n,e,r){const i=[];let a=0;for(let o=0,f=0,u=t.length;o<u;o=f){f=ze(t,o);const c=e(t,o,f);if(a+c>n){for(a+=r;a>n&&o>0;)f=o,o=i.pop(),a-=e(t,o,f);return[o,n-a]}a+=c,i.push(o)}return[-1,0]}function Ls(t,n,e,r){t=t.trim();const i=e(r),[a]=Re(t,n,e,i);return a<0?t:t.slice(0,a).trimEnd()+r}function k8(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const a=e(r)/2,[o,f]=Re(t,n/2,e,a),[u]=Re(t,i-n/2-f+a,e,-a);return u<0?r:t.slice(0,o).trimEnd()+r+t.slice(ze(t,u)).trimStart()}function Is(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const a=e(r),[o]=Re(t,i-n+a,e,-a);return o<0?r:r+t.slice(ze(t,o)).trimStart()}const $f=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Ds=new RegExp("\\p{Extended_Pictographic}","uy");function ze(t,n){return n+=N8(t,n)?2:1,I8(t,n)&&(n=$f.lastIndex),L8(t,n)?ze(t,n+1):n}function O1(t,n){return t.charCodeAt(n)<128}function N8(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const r=t.charCodeAt(n+1);return r>=56320&&r<57344}return!1}function L8(t,n){return t.charCodeAt(n)===8205}function I8(t,n){return O1(t,n)?!1:($f.lastIndex=n,$f.test(t))}function z1(t,n){return O1(t,n)?!1:(Ds.lastIndex=n,Ds.test(t))}const D8={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},U1=3.5,R8=U1*5,q1={draw(t,n,e){const r=n*e/R8;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},P8={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},F8=new Map([["arrow",q1],["spike",P8]]);function O8(t){return t&&typeof t.draw=="function"}function z8(t){if(O8(t))return t;const n=F8.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}class B1 extends Kt{constructor(n,e={}){const{x:r,y:i,r:a=U1,length:o,rotate:f,shape:u=q1,anchor:c="middle",frameAnchor:s}=e,[h,l]=Tt(o,12),[d,m]=Tt(f,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:h,scale:"length",optional:!0},rotate:{value:d,optional:!0}},e,D8),this.r=+a,this.length=l,this.rotate=m,this.shape=z8(u),this.anchor=Ut(c,"anchor",["start","middle","end"]),this.frameAnchor=Ia(s)}render(n,e,r,i,a){const{x:o,y:f}=e,{x:u,y:c,length:s,rotate:h}=r,{length:l,rotate:d,anchor:m,shape:p,r:b}=this,[w,g]=Vr(this,i);return vt("svg:g",a).call(Pn,this,i,a).call(On,this,{x:u&&o,y:c&&f}).call(x=>x.selectAll().data(n).enter().append("path").call(Fn,this).attr("transform",Lu`translate(${u?y=>u[y]:w},${c?y=>c[y]:g})${h?y=>` rotate(${h[y]})`:d?` rotate(${d})`:""}${m==="start"?"":m==="end"?s?y=>` translate(0,${s[y]})`:` translate(0,${l})`:s?y=>` translate(0,${s[y]/2})`:` translate(0,${l/2})`}`).attr("d",s?y=>{const v=An();return p.draw(v,s[y],b),v}:(()=>{const y=An();return p.draw(y,l,b),y})()).call(ce,this,r)).node()}}function U8(t,n={}){const{x:e=Zt,...r}=n;return new B1(t,{...r,x:e})}function q8(t,n={}){const{y:e=Zt,...r}=n;return new B1(t,{...r,y:e})}function Un(t,n){return arguments.length<2&&!ue(t)&&(n=t,t=null),n===void 0&&(n={}),[t,n]}function za({anchor:t}={},n){return t===void 0?n[0]:Ut(t,"anchor",n)}function Y1(t){return za(t,["left","right"])}function H1(t){return za(t,["right","left"])}function W1(t){return za(t,["bottom","top"])}function V1(t){return za(t,["top","bottom"])}function X1(){const[t,n]=Un(...arguments);return Z1("y",Y1(n),t,n)}function B8(){const[t,n]=Un(...arguments);return Z1("fy",H1(n),t,n)}function G1(){const[t,n]=Un(...arguments);return K1("x",W1(n),t,n)}function Y8(){const[t,n]=Un(...arguments);return K1("fx",V1(n),t,n)}function Z1(t,n,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:f=1,fill:u=r,fillOpacity:c=i,textAnchor:s,textStroke:h,textStrokeOpacity:l,textStrokeWidth:d,tickSize:m=t==="y"?6:0,tickPadding:p,tickRotate:b,x:w,margin:g,marginTop:x=g===void 0?20:g,marginRight:y=g===void 0?n==="right"?40:0:g,marginBottom:v=g===void 0?20:g,marginLeft:_=g===void 0?n==="left"?40:0:g,label:M,labelAnchor:C,labelArrow:S,labelOffset:k,...$}){return m=pt(m),p=pt(p),b=pt(b),C!==void 0&&(C=Ut(C,"labelAnchor",["center","top","bottom"])),S=im(S),Cu(m&&!wt(a)?H8(t,n,e,{stroke:a,strokeOpacity:o,strokeWidth:f,tickSize:m,tickPadding:p,tickRotate:b,x:w,...$}):null,wt(u)?null:V8(t,n,e,{fill:u,fillOpacity:c,stroke:h,strokeOpacity:l,strokeWidth:d,textAnchor:s,tickSize:m,tickPadding:p,tickRotate:b,x:w,marginTop:x,marginRight:y,marginBottom:v,marginLeft:_,...$}),!wt(u)&&M!==null?Du([],tm({fill:u,fillOpacity:c,...$},function(N,I,P,T,F){const Y=T[t],{marginTop:q,marginRight:H,marginBottom:L,marginLeft:D}=t==="y"&&F.inset||F,R=C??(Y.bandwidth?"center":"top"),O=k??(n==="right"?H:D)-3;return R==="center"?(this.textAnchor=void 0,this.lineAnchor=n==="right"?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor=n==="right"?"end":"start",this.lineAnchor=R,this.frameAnchor=`${R}-${n}`,this.rotate=0),this.dy=R==="top"?3-q:R==="bottom"?L-3:0,this.dx=n==="right"?O:-O,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[rm(t,Y,{anchor:n,label:M,labelAnchor:R,labelArrow:S})]}}}})):null)}function K1(t,n,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:f=1,fill:u=r,fillOpacity:c=i,textAnchor:s,textStroke:h,textStrokeOpacity:l,textStrokeWidth:d,tickSize:m=t==="x"?6:0,tickPadding:p,tickRotate:b,y:w,margin:g,marginTop:x=g===void 0?n==="top"?30:0:g,marginRight:y=g===void 0?20:g,marginBottom:v=g===void 0?n==="bottom"?30:0:g,marginLeft:_=g===void 0?20:g,label:M,labelAnchor:C,labelArrow:S,labelOffset:k,...$}){return m=pt(m),p=pt(p),b=pt(b),C!==void 0&&(C=Ut(C,"labelAnchor",["center","left","right"])),S=im(S),Cu(m&&!wt(a)?W8(t,n,e,{stroke:a,strokeOpacity:o,strokeWidth:f,tickSize:m,tickPadding:p,tickRotate:b,y:w,...$}):null,wt(u)?null:X8(t,n,e,{fill:u,fillOpacity:c,stroke:h,strokeOpacity:l,strokeWidth:d,textAnchor:s,tickSize:m,tickPadding:p,tickRotate:b,y:w,marginTop:x,marginRight:y,marginBottom:v,marginLeft:_,...$}),!wt(u)&&M!==null?Du([],tm({fill:u,fillOpacity:c,...$},function(N,I,P,T,F){const Y=T[t],{marginTop:q,marginRight:H,marginBottom:L,marginLeft:D}=t==="x"&&F.inset||F,R=C??(Y.bandwidth?"center":"right"),O=k??(n==="top"?q:L)-3;return R==="center"?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${R}`,this.textAnchor=R==="right"?"end":"start"),this.lineAnchor=n,this.dy=n==="top"?-O:O,this.dx=R==="right"?H-3:R==="left"?3-D:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[rm(t,Y,{anchor:n,label:M,labelAnchor:R,labelArrow:S})]}}}})):null)}function H8(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=n+(t==="y"?"-empty":""),frameAnchor:f=n,tickSize:u,inset:c=0,insetLeft:s=c,insetRight:h=c,dx:l=0,y:d=t==="y"?void 0:null,...m}){return Ue(q8,t,n,`${t}-axis tick`,e,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:o,frameAnchor:f,y:d,...m,dx:n==="left"?+l-Et+ +s:+l+Et-h,anchor:"start",length:u,shape:n==="left"?n4:e4})}function W8(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=n+(t==="x"?"-empty":""),frameAnchor:f=n,tickSize:u,inset:c=0,insetTop:s=c,insetBottom:h=c,dy:l=0,x:d=t==="x"?void 0:null,...m}){return Ue(U8,t,n,`${t}-axis tick`,e,{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:o,frameAnchor:f,x:d,...m,dy:n==="bottom"?+l-Et-h:+l+Et+ +s,anchor:"start",length:u,shape:n==="bottom"?J8:t4})}function V8(t,n,e,{facetAnchor:r=n+(t==="y"?"-empty":""),frameAnchor:i=n,tickSize:a,tickRotate:o=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(o)>60?4*Math.cos(o*$1):0),text:u,textAnchor:c=Math.abs(o)>60?"middle":n==="left"?"end":"start",lineAnchor:s=o>60?"top":o<-60?"bottom":"middle",fontVariant:h,inset:l=0,insetLeft:d=l,insetRight:m=l,dx:p=0,y:b=t==="y"?void 0:null,...w}){return Ue($8,t,n,`${t}-axis tick label`,e,{facetAnchor:r,frameAnchor:i,text:u,textAnchor:c,lineAnchor:s,fontVariant:h,rotate:o,y:b,...w,dx:n==="left"?+p-a-f+ +d:+p+ +a+ +f-m},function(g,x,y,v,_){h===void 0&&(this.fontVariant=em(g)),u===void 0&&(_.text=nm(g,x,y,v,n))})}function X8(t,n,e,{facetAnchor:r=n+(t==="x"?"-empty":""),frameAnchor:i=n,tickSize:a,tickRotate:o=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(o)>=10?4*Math.cos(o*$1):0),text:u,textAnchor:c=Math.abs(o)>=10?o<0^n==="bottom"?"start":"end":"middle",lineAnchor:s=Math.abs(o)>=10?"middle":n==="bottom"?"top":"bottom",fontVariant:h,inset:l=0,insetTop:d=l,insetBottom:m=l,dy:p=0,x:b=t==="x"?void 0:null,...w}){return Ue(M8,t,n,`${t}-axis tick label`,e,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:c,lineAnchor:s,fontVariant:h,rotate:o,x:b,...w,dy:n==="bottom"?+p+ +a+ +f-m:+p-a-f+ +d},function(g,x,y,v,_){h===void 0&&(this.fontVariant=em(g)),u===void 0&&(_.text=nm(g,x,y,v,n))})}function G8(){const[t,n]=Un(...arguments);return j1("y",Y1(n),t,n)}function Z8(){const[t,n]=Un(...arguments);return j1("fy",H1(n),t,n)}function K8(){const[t,n]=Un(...arguments);return Q1("x",W1(n),t,n)}function j8(){const[t,n]=Un(...arguments);return Q1("fx",V1(n),t,n)}function j1(t,n,e,{y:r=t==="y"?void 0:null,x:i=null,x1:a=n==="left"?i:null,x2:o=n==="right"?i:null,...f}){return Ue(_8,t,n,`${t}-grid`,e,{y:r,x1:a,x2:o,...J1(f)})}function Q1(t,n,e,{x:r=t==="x"?void 0:null,y:i=null,y1:a=n==="top"?i:null,y2:o=n==="bottom"?i:null,...f}){return Ue(w8,t,n,`${t}-grid`,e,{x:r,y1:a,y2:o,...J1(f)})}function J1({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...a}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...a}}function tm({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:f,pointerEvents:u,shapeRendering:c,clip:s=!1},h){return[,t]=_r(t),[,n]=Tt(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:f,pointerEvents:u,shapeRendering:c,clip:s,initializer:h}}function Ue(t,n,e,r,i,a,o){let f;function u(h,l,d,m,p,b){const w=h==null&&(n==="fx"||n==="fy"),{[n]:g}=m;if(!g)throw new Error(`missing scale: ${n}`);const x=g.domain();let{interval:y,ticks:v,tickFormat:_,tickSpacing:M=n==="x"?80:35}=a;if(typeof v=="string"&&am(g)&&(y=v,v=void 0),v===void 0&&(v=Br(y,g.type)??Q8(g,M)),h==null){if(ue(v))h=Lt(v);else if(K6(v))h=To(v,...Nn(x));else if(g.interval){let S=g.interval;if(g.ticks){const[k,$]=Nn(x),N=($-k)/S[Or];S=es(S,N/v)??S,h=To(S,k,$)}else{h=x;const k=h.length;S=es(S,k/v)??S,S!==g.interval&&(h=To(S,...Nn(h)))}if(S===g.interval){const k=Math.round(h.length/v);k>1&&(h=h.filter(($,N)=>N%k===0))}}else g.ticks?h=g.ticks(v):h=x;if(!g.ticks&&h.length&&h!==x){const S=new fa(x);h=h.filter(k=>S.has(k)),h.length||Gn(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}n==="y"||n==="x"?l=[Ur(h)]:f[n]={scale:n,value:Zt}}o==null||o.call(this,g,h,v,_,f);const C=Object.fromEntries(Object.entries(f).map(([S,k])=>[S,{...k,value:fn(h,k.value)}]));return w&&(l=b.filterFacets(h,C)),{data:h,facets:l,channels:C}}const c=Ie(a).initializer,s=t(i,Ie({...a,initializer:u},c));return i==null?(f=s.channels,s.channels={}):f={},s.ariaLabel=r,s.clip===void 0&&(s.clip=!1),s}function Q8(t,n){const[e,r]=Nn(t.range());return(r-e)/n}function nm(t,n,e,r,i){return{value:Fu(t,n,e,r,i)}}function Fu(t,n,e,r,i){return typeof r=="function"?r:r===void 0&&n&&un(n)?R6(t.type,n,i)??De:t.tickFormat?t.tickFormat(typeof e=="number"?e:null,r):r===void 0?De:typeof r=="string"?(un(t.domain())?Fr:Fe)(r):zr(r)}function To(t,n,e){return t.range(n,t.offset(t.floor(e)))}const J8={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},t4={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},n4={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},e4={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function em(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function rm(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&am(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!n.bandwidth||n.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(a===!0){const o=P5(n);o&&(a=/x$/.test(t)||i==="center"?/x$/.test(t)===o<0?"left":"right":o<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return e==="right"?`${r} ↑`:`↑ ${r}`;case"down":return e==="right"?`${r} ↓`:`↓ ${r}`}return r}}function im(t="auto"){return wt(t)?!1:typeof t=="boolean"?t:Ut(t,"labelArrow",["auto","up","right","down","left"])}function am(t){return un(t.domain())}function Rs(t,n){if(n==null)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function r4(t,{opacity:n,...e}={}){if(!se(t)&&!y1(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return om(t,e,(r,i,a,o)=>r.append("svg").attr("width",a).attr("height",o).attr("fill",i.scale).attr("fill-opacity",Tt(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}function i4(t,{fill:n=(c=>(c=t.hint)==null?void 0:c.fill)()!==void 0?t.hint.fill:"none",fillOpacity:e=1,stroke:r=(s=>(s=t.hint)==null?void 0:s.stroke)()!==void 0?t.hint.stroke:wt(n)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:o=4.5,...f}={},u){const[h,l]=_r(n),[d,m]=_r(r),p=Rs(u,h),b=Rs(u,d),w=o*o*Math.PI;return e=Tt(e)[1],i=Tt(i)[1],a=Tt(a)[1],om(t,f,(g,x,y,v)=>g.append("svg").attr("viewBox","-8 -8 16 16").attr("width",y).attr("height",v).attr("fill",h==="color"?_=>p.scale(_):l).attr("fill-opacity",e).attr("stroke",d==="color"?_=>b.scale(_):m).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",_=>{const M=An();return t.scale(_).draw(M,w),M}))}function om(t,n={},e){let{columns:r,tickFormat:i,fontVariant:a=M1(t),swatchSize:o=15,swatchWidth:f=o,swatchHeight:u=o,marginLeft:c=0,className:s,style:h,width:l}=n;const d=xu(n);s=_u(s),i=Fu(t.scale,t.domain,void 0,i);const m=vt("div",d).attr("class",`${s}-swatches ${s}-swatches-${r!=null?"columns":"wrap"}`);let p;return r!=null?(p=`:where(.${s}-swatches-columns .${s}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${s}-swatches-columns .${s}-swatch::before) {
  flex-shrink: 0;
}
:where(.${s}-swatches-columns .${s}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,m.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${s}-swatch`).call(e,t,f,u).call(b=>b.append("div").attr("class",`${s}-swatch-label`).attr("title",i).text(i))):(p=`:where(.${s}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${s}-swatches-wrap .${s}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,m.selectAll().data(t.domain).enter().append("span").attr("class",`${s}-swatch`).call(e,t,f,u).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),m.call(b=>b.insert("style","*").text(`:where(.${s}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${s}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${p}`)).style("margin-left",c?`${+c}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",xt(a,"normal")).call(vu,h).node()}const Tf=new Map([["symbol",i4],["color",um],["opacity",o4]]);function a4(t,n,e={}){return(r,i)=>{if(!Tf.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return Tf.get(r)(t[r],fm(n,e[r],i),a=>t[a])}}function fm({className:t,...n},{label:e,ticks:r,tickFormat:i}={},a){return i3(a,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function um(t,{legend:n=!0,...e}){if(n===!0&&(n=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${n}`.toLowerCase()){case"swatches":return r4(t,e);case"ramp":return u8(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function o4({type:t,interpolate:n,...e},{legend:r=!0,color:i=Ln(0,0,0),...a}){if(!n)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return um({type:t,...e,interpolate:f4(i)},{legend:r,...a})}function f4(t){const{r:n,g:e,b:r}=Ln(t)||Ln(0,0,0);return i=>`rgba(${n},${e},${r},${i})`}function u4(t,n,e){const r=[];for(const[i,a]of Tf){const o=e[i];if(o!=null&&o.legend&&i in t){const f=a(t[i],fm(n,t[i],o),u=>t[u]);f!=null&&r.push(f)}}return r}const c4={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},s4={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class l4 extends Kt{constructor(n={}){const{anchor:e=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:o=r,insetLeft:f=r,rx:u,ry:c}=n;super(vi,void 0,n,e==null?c4:s4),this.anchor=W0(e,"anchor",["top","right","bottom","left"]),this.insetTop=pt(i),this.insetRight=pt(a),this.insetBottom=pt(o),this.insetLeft=pt(f),this.rx=pt(u),this.ry=pt(c)}render(n,e,r,i,a){const{marginTop:o,marginRight:f,marginBottom:u,marginLeft:c,width:s,height:h}=i,{anchor:l,insetTop:d,insetRight:m,insetBottom:p,insetLeft:b,rx:w,ry:g}=this,x=c+b,y=s-f-m,v=o+d,_=h-u-p;return vt(l?"svg:line":"svg:rect",a).datum(0).call(Pn,this,i,a).call(Fn,this).call(ce,this,r).call(On,this,{}).call(l==="left"?M=>M.attr("x1",x).attr("x2",x).attr("y1",v).attr("y2",_):l==="right"?M=>M.attr("x1",y).attr("x2",y).attr("y1",v).attr("y2",_):l==="top"?M=>M.attr("x1",x).attr("x2",y).attr("y1",v).attr("y2",v):l==="bottom"?M=>M.attr("x1",x).attr("x2",y).attr("y1",_).attr("y2",_):M=>M.attr("x",x).attr("y",v).attr("width",y-x).attr("height",_-v).attr("rx",w).attr("ry",g)).node()}}function h4(t){return new l4(t)}const So={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},d4=new Set(["geometry","href","src","ariaLabel","scales"]);class m4 extends Kt{constructor(n,e={}){e.tip&&(e={...e,tip:!1}),e.title===void 0&&ue(n)&&V0(n)&&(e={...e,title:Zt});const{x:r,y:i,x1:a,x2:o,y1:f,y2:u,anchor:c,preferredAnchor:s="bottom",monospace:h,fontFamily:l=h?"ui-monospace, monospace":void 0,fontSize:d,fontStyle:m,fontVariant:p,fontWeight:b,lineHeight:w=1,lineWidth:g=20,frameAnchor:x,format:y,textAnchor:v="start",textOverflow:_,textPadding:M=8,title:C,pointerSize:S=12,pathFilter:k="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(n,{x:{value:a!=null&&o!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&u!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:o==null},y1:{value:f,scale:"y",optional:u==null},x2:{value:o,scale:"x",optional:a==null},y2:{value:u,scale:"y",optional:f==null},title:{value:C,optional:!0}},e,So),this.anchor=yf(c,"anchor"),this.preferredAnchor=yf(s,"preferredAnchor"),this.frameAnchor=Ia(x),this.textAnchor=xt(v,"middle"),this.textPadding=+M,this.pointerSize=+S,this.pathFilter=$t(k),this.lineHeight=+w,this.lineWidth=+g,this.textOverflow=D1(_),this.monospace=!!h,this.fontFamily=$t(l),this.fontSize=pt(d),this.fontStyle=$t(m),this.fontVariant=$t(p),this.fontWeight=$t(b);for(const $ in So)$ in this.channels&&(this[$]=So[$]);this.splitLines=P1(this),this.clipLine=F1(this),this.format={...y}}render(n,e,r,i,a){const o=this,{x:f,y:u,fx:c,fy:s}=e,{ownerSVGElement:h,document:l}=a,{anchor:d,monospace:m,lineHeight:p,lineWidth:b}=this,{textPadding:w,pointerSize:g,pathFilter:x}=this,{marginTop:y,marginLeft:v}=i,{x1:_,y1:M,x2:C,y2:S,x:k=_??C,y:$=M??S}=r,N=c?c(n.fx)-v:0,I=s?s(n.fy)-y:0,[P,T]=Vr(this,i),F=v1(r,P),Y=x1(r,T),q=m?Pu:Ru,H=q(_e);let L,D;"title"in r?(L=r.channels,D=_4):(L=w4.call(this,r,e),D=v4);const R=vt("svg:g",a).call(Pn,this,i,a).call(R1,this).call(On,this,{x:k&&f,y:$&&u}).call(tt=>tt.selectAll().data(n).enter().append("g").attr("transform",K=>`translate(${Math.round(F(K))},${Math.round(Y(K))})`).call(Fn,this).call(K=>K.append("path").attr("filter",x)).call(K=>K.append("text").each(function(U){const W=ir(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const E=D.call(o,U,n,L,e,r);if(typeof E=="string")for(const z of o.splitLines(E))O(W,{value:o.clipLine(z)});else{const z=new Set;for(const B of E){const{label:A=""}=B;A&&z.has(A)||(z.add(A),O(W,B))}}})));function O(tt,{label:K,value:U,color:W,opacity:E}){K??(K=""),U??(U="");const z=W!=null||E!=null;let B,A=b*100;const[at]=Re(K,A,q,H);if(at>=0)K=K.slice(0,at).trimEnd()+_e,B=U.trim(),U="";else{(K||!U&&!z)&&(U=" "+U);const[ft]=Re(U,A-q(K),q,H);ft>=0&&(B=U.trim(),U=U.slice(0,ft).trimEnd()+_e)}const V=tt.append("tspan").attr("x",0).attr("dy",`${p}em`).text("​");K&&V.append("tspan").attr("font-weight","bold").text(K),U&&V.append(()=>l.createTextNode(U)),z&&V.append("tspan").text(" ■").attr("fill",W).attr("fill-opacity",E).style("user-select","none"),B&&V.append("title").text(B)}function J(){const{width:tt,height:K}=i.facet??i;R.selectChildren().each(function(U){let{x:W,width:E,height:z}=this.getBBox();E=Math.round(E),z=Math.round(z);let B=d;if(B===void 0){const V=F(U)+N,ft=Y(U)+I,lt=V+E+g+w*2<tt,Ct=V-E-g-w*2>0,le=ft+z+g+w*2<K,qe=ft-z-g-w*2>0;B=lt&&Ct?le&&qe?o.preferredAnchor:qe?"bottom":"top":le&&qe?lt?"left":"right":(lt||Ct)&&(le||qe)?`${qe?"bottom":"top"}-${lt?"left":"right"}`:o.preferredAnchor}const A=this.firstChild,at=this.lastChild;if(A.setAttribute("d",y4(B,g,w,E,z)),W)for(const V of at.childNodes)V.setAttribute("x",-W);at.setAttribute("y",`${+g4(B,at.childNodes.length,p).toFixed(6)}em`),at.setAttribute("transform",`translate(${b4(B,g,w,E,z)})`)}),R.attr("visibility",null)}return n.length&&(R.attr("visibility","hidden"),h.isConnected?Promise.resolve().then(J):typeof requestAnimationFrame<"u"&&requestAnimationFrame(J)),R.node()}}function p4(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=du(n,e)),new m4(t,{...r,x:n,y:e})}function g4(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}function b4(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}function y4(t,n,e,r,i){const a=r+e*2,o=i+e*2;switch(t){case"middle":return`M${-a/2},${-o/2}h${a}v${o}h${-a}z`;case"top-left":return`M0,0l${n},${n}h${a-n}v${o}h${-a}z`;case"top":return`M0,0l${n/2},${n/2}h${(a-n)/2}v${o}h${-a}v${-o}h${(a-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-a}v${o}h${a}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-o/2}h${-a}v${o}h${a}v${n/2-o/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${a-n}v${-o}h${-a}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(a-n)/2}v${-o}h${-a}v${o}h${(a-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-a}v${-o}h${a}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-o/2}h${a}v${o}h${-a}v${n/2-o/2}z`}}function w4({channels:t},n){var i,a;const e={};let r=this.format;r=Ps(r,t,"x"),r=Ps(r,t,"y"),this.format=r;for(const o in r){const f=r[o];if(!(f===null||f===!1))if(o==="fx"||o==="fy")e[o]=!0;else{const u=ls(t,o);u&&(e[o]=u)}}for(const o in t){if(o in e||o in r||d4.has(o))continue;const f=ls(t,o);f&&(e[o]=f)}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const o in e){const f=this.format[o];if(typeof f=="string"){const u=((i=e[o])==null?void 0:i.value)??((a=n[o])==null?void 0:a.domain())??[];this.format[o]=(un(u)?Fr:Fe)(f)}else if(f===void 0||f===!0){const u=n[o];this.format[o]=u!=null&&u.bandwidth?Fu(u,u.domain()):De}}return e}function Ps(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if((r in t||!(r in n))&&(i in t||!(i in n)))return t;const a=Object.entries(t),o=t[e];return a.splice(a.findIndex(([f])=>f===e)+1,0,[r,o],[i,o]),Object.fromEntries(a)}function _4(t,n,{title:e}){return De(e.value[t],t)}function*v4(t,n,e,r,i){for(const a in e){if(a==="fx"||a==="fy"){yield{label:ra(r,e,a),value:this.format[a](n[a],t)};continue}if(a==="x1"&&"x2"in e||a==="y1"&&"y2"in e)continue;const o=e[a];if(a==="x2"&&"x1"in e)yield{label:Os(r,e,"x"),value:Fs(this.format.x2,e.x1,o,t)};else if(a==="y2"&&"y1"in e)yield{label:Os(r,e,"y"),value:Fs(this.format.y2,e.y1,o,t)};else{const f=o.value[t],u=o.scale;if(!re(f)&&u==null)continue;yield{label:ra(r,e,a),value:this.format[a](f,t),color:u==="color"?i[a][t]:null,opacity:u==="opacity"?i[a][t]:null}}}}function Fs(t,n,e,r){var i;return(i=e.hint)!=null&&i.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}–${t(e.value[r],r)}`}function Os(t,n,e){const r=ra(t,n,`${e}1`,e),i=ra(t,n,`${e}2`,e);return r===i?r:`${r}–${i}`}function ra(t,n,e,r=e){const i=n[e],a=t[(i==null?void 0:i.scale)??e];return String((a==null?void 0:a.label)??(i==null?void 0:i.label)??r)}function cm(t={}){var H;const{facet:n,style:e,title:r,subtitle:i,caption:a,ariaLabel:o,ariaDescription:f}=t,u=_u(t.className),c=t.marks===void 0?[]:Us(t.marks);c.push(...E4(c));const s=A4(n,t),h=new Map;for(const L of c){const D=qs(L,s,t);D&&h.set(L,D)}const l=new Map;s&&Ge(l,[s],t),Ge(l,h,t);const d=Us(k4(c,l,t));for(const L of d){const D=qs(L,s,t);D&&h.set(L,D)}c.unshift(...d);let m=V5(l,t);if(m!==void 0){const L=s?xo(m,s):void 0;for(const R of c){if(R.facet===null||R.facet==="super")continue;const O=h.get(R);O!==void 0&&(O.facetsIndex=R.fx!=null||R.fy!=null?xo(m,O):L)}const D=new Set;for(const{facetsIndex:R}of h.values())R==null||R.forEach((O,J)=>{(O==null?void 0:O.length)>0&&D.add(J)});m.forEach(0<D.size&&D.size<m.length?(R,O)=>R.empty=!D.has(O):R=>R.empty=!1);for(const R of c)if(R.facet==="exclude"){const O=h.get(R);O!==void 0&&(O.facetsIndex=Z5(O.facetsIndex))}}for(const L of st.keys())bf(t[L])&&L!=="fx"&&L!=="fy"&&l.set(L,[]);const p=new Map;for(const L of c){if(p.has(L))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:D,channels:R}=h.get(L)??{},{data:O,facets:J,channels:tt}=L.initialize(D,R,t);Ou(tt,t),p.set(L,{data:O,facets:J,channels:tt})}const b=xf(Ge(l,p,t),t),w=H5(b,c,t);D5(b,w);const g=_s(b),{fx:x,fy:y}=g,v=x||y?p1(b,w):w,_=x||y?F4(g,w):w,M=xu(t),C=M.document,S=ca("svg").call(C.documentElement);let k=S;M.ownerSVGElement=S,M.className=u,M.projection=V3(t,v),M.filterFacets=(L,D)=>xo(m,{channels:D,groups:Au(L,D)}),M.getMarkState=L=>{const D=p.get(L),R=h.get(L);return{...D,channels:{...D.channels,...R==null?void 0:R.channels}}},M.dispatchValue=L=>{k.value!==L&&(k.value=L,k.dispatchEvent(new Event("input",{bubbles:!0})))};const $=new Set;for(const[L,D]of p)if(L.initializer!=null){const R=L.facet==="super"?_:v,O=L.initializer(D.data,D.facets,D.channels,g,R,M);if(O.data!==void 0&&(D.data=O.data),O.facets!==void 0&&(D.facets=O.facets),O.channels!==void 0){const{fx:J,fy:tt,...K}=O.channels;S4(K),Object.assign(D.channels,K);for(const U of Object.values(K)){const{scale:W}=U;W!=null&&!o3(st.get(W))&&(sm(U,t),$.add(W))}(J!=null||tt!=null)&&h.set(L,!0)}}if($.size){const L=new Map;Ge(L,p,t,J=>$.has(J)),Ge(l,p,t,J=>$.has(J));const D=P4(xf(L,t),b),{scales:R,...O}=_s(D);Object.assign(b,D),Object.assign(g,O),Object.assign(g.scales,R)}let N,I;m!==void 0&&(N={x:x==null?void 0:x.domain(),y:y==null?void 0:y.domain()},m=X5(m,N),I=G5(x,y,w));for(const[L,D]of p)D.values=L.scale(D.channels,g,M);const{width:P,height:T}=w;ir(S).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",P).attr("height",T).attr("viewBox",`0 0 ${P} ${T}`).attr("aria-label",o).attr("aria-description",f).call(L=>L.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(vu,e);for(const L of c){const{channels:D,values:R,facets:O}=p.get(L);if(m===void 0||L.facet==="super"){let J=null;if(O&&(J=O[0],J=L.filter(J,D,R),J.length===0))continue;const tt=L.render(J,g,R,_,M);if(tt==null)continue;S.appendChild(tt)}else{let J;for(const tt of m){if(!(((H=L.facetAnchor)==null?void 0:H.call(L,m,N,tt))??!tt.empty))continue;let K=null;if(O){const W=h.has(L);if(K=O[W?tt.i:0],K=L.filter(K,D,R),K.length===0)continue;!W&&K===O[0]&&(K=X6(K)),K.fx=tt.x,K.fy=tt.y,K.fi=tt.i}const U=L.render(K,g,R,v,M);if(U!=null){(J??(J=ir(S).append("g"))).append(()=>U).datum(tt);for(const W of["aria-label","aria-description","aria-hidden","transform"])U.hasAttribute(W)&&(J.attr(W,U.getAttribute(W)),U.removeAttribute(W))}}J==null||J.selectChildren().attr("transform",I)}}const F=u4(b,M,t),{figure:Y=r!=null||i!=null||a!=null||F.length>0}=t;Y&&(k=C.createElement("figure"),k.className=`${u}-figure`,k.style.maxWidth="initial",r!=null&&k.append(zs(C,r,"h2")),i!=null&&k.append(zs(C,i,"h3")),k.append(...F,S),a!=null&&k.append(x4(C,a))),k.scale=B5(g.scales),k.legend=a4(b,M,t);const q=F3();return q>0&&ir(S).append("text").attr("x",P).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${q.toLocaleString("en-US")} warning${q===1?"":"s"}. Please check the console.`),k}function zs(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function x4(t,n){const e=t.createElement("figcaption");return e.append(n),e}function M4({marks:t=[],...n}={}){return cm({...n,marks:[...t,this]})}Kt.prototype.plot=M4;function Us(t){return t.flat(1/0).filter(n=>n!=null).map($4)}function $4(t){return typeof t.render=="function"?t:new T4(t)}class T4 extends Kt{constructor(n){if(typeof n!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=n}render(){}}function Ou(t,n){for(const e in t)sm(t[e],n);return t}function sm(t,n){const{scale:e,transform:r=!0}=t;if(e==null||!r)return;const{type:i,percent:a,interval:o,transform:f=a?u=>u*100:G6(o,i)}=n[e]??{};f!=null&&(t.value=St(t.value,f),t.transform=!1)}function S4(t){for(const n in t)j0(n,t[n])}function Ge(t,n,e,r=B6){var i,a;for(const{channels:o}of n.values())for(const f in o){const u=o[f],{scale:c}=u;if(c!=null&&r(c))if(c==="projection"){if(!K3(e)){const s=((i=e.x)==null?void 0:i.domain)===void 0,h=((a=e.y)==null?void 0:a.domain)===void 0;if(s||h){const[l,d]=Q3(u);s&&Ao(t,"x",l),h&&Ao(t,"y",d)}}}else Ao(t,c,u)}return t}function Ao(t,n,e){const r=t.get(n);r!==void 0?r.push(e):t.set(n,[e])}function A4(t,n){if(t==null)return;const{x:e,y:r}=t;if(e==null&&r==null)return;const i=Lt(t.data);if(i==null)throw new Error("missing facet data");const a={};e!=null&&(a.fx=xr(i,{value:e,scale:"fx"})),r!=null&&(a.fy=xr(i,{value:r,scale:"fy"})),Ou(a,n);const o=Au(i,a);return{channels:a,groups:o,data:t.data}}function qs(t,n,e){var u;if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const c=Lt(t.data??r??i);if(c===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(c===null)return;const s={};return r!=null&&(s.fx=xr(c,{value:r,scale:"fx"})),i!=null&&(s.fy=xr(c,{value:i,scale:"fy"})),Ou(s,e),{channels:s,groups:Au(c,s)}}if(n===void 0)return;const{channels:a,groups:o,data:f}=n;if(t.facet!=="auto"||t.data===f)return{channels:a,groups:o};f.length>0&&(o.size>1||o.size===1&&a.fx&&a.fy&&[...o][0][1].size>1)&&((u=Lt(t.data))==null?void 0:u.length)===f.length&&Gn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function C4(t,n={}){return Ie({...n,x:null,y:null},(e,r,i,a,o,f)=>f.getMarkState(t))}function E4(t){const n=[];for(const e of t){let r=e.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:a}=r;i=/^x$/i.test(i)?f8:/^y$/i.test(i)?Cs:o8,r=i(C4(e,r)),r.title=null,a===void 0&&(r.preferredAnchor=i===Cs?"left":"bottom");const o=p4(e.data,r);o.facet=e.facet,o.facetAnchor=e.facetAnchor,n.push(o)}}return n}function k4(t,n,e){let{projection:r,x:i={},y:a={},fx:o={},fy:f={},axis:u,grid:c,facet:s={},facet:{axis:h=u,grid:l}=s,x:{axis:d=u,grid:m=d===null?null:c}=i,y:{axis:p=u,grid:b=p===null?null:c}=a,fx:{axis:w=h,grid:g=w===null?null:l}=o,fy:{axis:x=h,grid:y=x===null?null:l}=f}=e;(r||!bf(i)&&!Bs("x",t))&&(d=m=null),(r||!bf(a)&&!Bs("y",t))&&(p=b=null),n.has("fx")||(w=g=null),n.has("fy")||(x=y=null),d===void 0&&(d=!di(t,"x")),p===void 0&&(p=!di(t,"y")),w===void 0&&(w=!di(t,"fx")),x===void 0&&(x=!di(t,"fy")),d===!0&&(d="bottom"),p===!0&&(p="left"),w===!0&&(w=d==="top"||d===null?"bottom":"top"),x===!0&&(x=p==="right"||p===null?"left":"right");const v=[];return hi(v,y,Z8,f),li(v,x,B8,"right","left",s,f),hi(v,g,j8,o),li(v,w,Y8,"top","bottom",s,o),hi(v,b,G8,a),li(v,p,X1,"left","right",e,a),hi(v,m,K8,i),li(v,d,G1,"bottom","top",e,i),v}function li(t,n,e,r,i,a,o){if(!n)return;const f=N4(n);o=L4(f?r:n,a,o);const{line:u}=o;(e===X1||e===G1)&&u&&!vr(u)&&t.push(h4(I4(o))),t.push(e(o)),f&&t.push(e({...o,anchor:i,label:null}))}function hi(t,n,e,r){!n||vr(n)||t.push(e(D4(n,r)))}function N4(t){return/^\s*both\s*$/i.test(t)}function L4(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:s,ariaDescription:h,label:l=n.label,labelAnchor:d,labelArrow:m=n.labelArrow,labelOffset:p}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:s,ariaDescription:h,label:l,labelAnchor:d,labelArrow:m,labelOffset:p}}function I4(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:e===!0?void 0:e}}function D4(t,{stroke:n=La(t)?t:void 0,ticks:e=R4(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function R4(t){switch(typeof t){case"number":return!0;case"string":return!La(t)}return ue(t)||typeof(t==null?void 0:t.range)=="function"}function di(t,n){const e=`${n}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(e)})}function Bs(t,n){for(const e of n)for(const r in e.channels){const{scale:i}=e.channels[r];if(i===t||i==="projection")return!0}return!1}function P4(t,n){for(const e in t){const r=t[e],i=n[e];r.label===void 0&&i&&(r.label=i.label)}return t}function F4({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:f,height:u}=Su(e),c=t&&Ys(t),s=n&&Ys(n);return{marginTop:n?s[0]:r,marginRight:t?f-c[1]:i,marginBottom:n?u-s[1]:a,marginLeft:t?c[0]:o,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:f,height:u}}function Ys(t){const n=t.domain();let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const O4=new Map([["basis",h6],["basis-closed",d6],["basis-open",m6],["bundle",p6],["bump-x",n6],["bump-y",e6],["cardinal",g6],["cardinal-closed",b6],["cardinal-open",y6],["catmull-rom",w6],["catmull-rom-closed",_6],["catmull-rom-open",v6],["linear",iu],["linear-closed",x6],["monotone-x",M6],["monotone-y",$6],["natural",T6],["step",S6],["step-after",C6],["step-before",A6]]);function z4(t=iu,n){if(typeof t=="function")return t;const e=O4.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown curve: ${t}`);if(n!==void 0){if("beta"in e)return e.beta(n);if("tension"in e)return e.tension(n);if("alpha"in e)return e.alpha(n)}return e}function U4(t=ia,n){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?ia:z4(t,n)}function ia(t){return iu(t)}const q4={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class B4 extends Kt{constructor(n,e={}){const{x1:r,y1:i,x2:a,y2:o,curve:f,tension:u}=e;super(n,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:a,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0}},e,q4),this.curve=U4(f,u),ku(this,e)}project(n,e,r){this.curve!==ia&&super.project(n,e,r)}render(n,e,r,i,a){const{x1:o,y1:f,x2:u=o,y2:c=f}=r,{curve:s}=this;return vt("svg:g",a).call(Pn,this,i,a).call(On,this,e).call(h=>h.selectAll().data(n).enter().append("path").call(Fn,this).attr("d",s===ia&&a.projection?Y4(a.projection,o,f,u,c):l=>{const d=An(),m=s(d);return m.lineStart(),m.point(o[l],f[l]),m.point(u[l],c[l]),m.lineEnd(),d}).call(ce,this,r).call(Nu,this,r,a)).node()}}function Y4(t,n,e,r,i){const a=Gf(t);return n=be(n),e=be(e),r=be(r),i=be(i),o=>a({type:"LineString",coordinates:[[n[o],e[o]],[r[o],i[o]]]})}function H4(t,{x:n,x1:e,x2:r,y:i,y1:a,y2:o,...f}={}){return[e,r]=Hs(n,e,r),[a,o]=Hs(i,a,o),new B4(t,{...f,x1:e,x2:r,y1:a,y2:o})}function Hs(t,n,e){if(t===void 0){if(n===void 0){if(e!==void 0)return[e]}else if(e===void 0)return[n]}else{if(n===void 0)return e===void 0?[t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}const W4={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function V4(t){return t.sort===void 0&&t.reverse===void 0?m3({channel:"-r"},t):t}class X4 extends Kt{constructor(n,e={}){const{x:r,y:i,r:a,rotate:o,symbol:f=yr,frameAnchor:u}=e,[c,s]=Tt(o,0),[h,l]=h3(f),[d,m]=Tt(a,h==null?3:4.5);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:d,scale:"r",filter:Ca,optional:!0},rotate:{value:c,optional:!0},symbol:{value:h,scale:"auto",optional:!0}},V4(e),W4),this.r=m,this.rotate=s,this.symbol=l,this.frameAnchor=Ia(u);const{channels:p}=this,{symbol:b}=p;if(b){const{fill:w,stroke:g}=p;b.hint={fill:w?w.value===b.value?"color":"currentColor":this.fill??"currentColor",stroke:g?g.value===b.value?"color":"currentColor":this.stroke??"none"}}}render(n,e,r,i,a){const{x:o,y:f}=e,{x:u,y:c,r:s,rotate:h,symbol:l}=r,{r:d,rotate:m,symbol:p}=this,[b,w]=Vr(this,i),g=p===yr,x=s?void 0:d*d*Math.PI;return cu(d)&&(n=[]),vt("svg:g",a).call(Pn,this,i,a).call(On,this,{x:u&&o,y:c&&f}).call(y=>y.selectAll().data(n).enter().append(g?"circle":"path").call(Fn,this).call(g?v=>{v.attr("cx",u?_=>u[_]:b).attr("cy",c?_=>c[_]:w).attr("r",s?_=>s[_]:d)}:v=>{v.attr("transform",Lu`translate(${u?_=>u[_]:b},${c?_=>c[_]:w})${h?_=>` rotate(${h[_]})`:m?` rotate(${m})`:""}`).attr("d",s&&l?_=>{const M=An();return l[_].draw(M,s[_]*s[_]*Math.PI),M}:s?_=>{const M=An();return p.draw(M,s[_]*s[_]*Math.PI),M}:l?_=>{const M=An();return l[_].draw(M,x),M}:(()=>{const _=An();return p.draw(_,x),_})())}).call(ce,this,r)).node()}}function G4(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=du(n,e)),new X4(t,{...r,x:n,y:e})}function Ws({path:t=Zt,delimiter:n,frameAnchor:e,treeLayout:r=Xi,treeSort:i,treeSeparation:a,treeAnchor:o,treeFilter:f,...u}={}){o=zu(o),i=lm(i),f!=null&&(f=Af(f)),e===void 0&&(e=o.frameAnchor);const c=hm(n),s=wm(u,Af),[h,l]=Hn(),[d,m]=Hn();return{x:h,y:d,frameAnchor:e,...Ra(u,(p,b)=>{const w=c(fn(p,t)),g=l([]),x=m([]);let y=-1;const v=[],_=[],M=Th().path(S=>w[S]),C=r();C.nodeSize&&C.nodeSize([1,1]),C.separation&&a!==void 0&&C.separation(a??Y0);for(const S of s)S[aa]=S[bm]([]);for(const S of b){const k=[],$=M(S.filter(N=>w[N]!=null)).each(N=>N.data=p[N.data]);i!=null&&$.sort(i),C($);for(const N of $.descendants())if(!(f!=null&&!f(N))){k.push(++y),v[y]=N.data,o.position(N,y,g,x);for(const I of s)I[aa][y]=I[ym](N)}_.push(k)}return{data:v,facets:_}}),...Object.fromEntries(s)}}function Z4({path:t=Zt,delimiter:n,curve:e="bump-x",stroke:r="#555",strokeWidth:i=1.5,strokeOpacity:a=.5,treeLayout:o=Xi,treeSort:f,treeSeparation:u,treeAnchor:c,treeFilter:s,...h}={}){c=zu(c),f=lm(f),s!=null&&(s=Xs(s)),h={curve:e,stroke:r,strokeWidth:i,strokeOpacity:a,...h};const l=hm(n),d=wm(h,Xs),[m,p]=Hn(),[b,w]=Hn(),[g,x]=Hn(),[y,v]=Hn();return{x1:m,x2:b,y1:g,y2:y,...Ra(h,(_,M)=>{const C=l(fn(_,t)),S=p([]),k=w([]),$=x([]),N=v([]);let I=-1;const P=[],T=[],F=Th().path(q=>C[q]),Y=o();Y.nodeSize&&Y.nodeSize([1,1]),Y.separation&&u!==void 0&&Y.separation(u??Y0);for(const q of d)q[aa]=q[bm]([]);for(const q of M){const H=[],L=F(q.filter(D=>C[D]!=null)).each(D=>D.data=_[D.data]);f!=null&&L.sort(f),Y(L);for(const{source:D,target:R}of L.links())if(!(s!=null&&!s(R,D))){H.push(++I),P[I]=R.data,c.position(D,I,S,$),c.position(R,I,k,N);for(const O of d)O[aa][I]=O[ym](R,D)}T.push(H)}return{data:P,facets:T}}),...Object.fromEntries(d)}}function zu(t="left"){switch(`${t}`.trim().toLowerCase()){case"left":return K4;case"right":return j4}throw new Error(`invalid tree anchor: ${t}`)}const K4={frameAnchor:"left",dx:6,position({x:t,y:n},e,r,i){r[e]=n,i[e]=-t}},j4={frameAnchor:"right",dx:-6,position({x:t,y:n},e,r,i){r[e]=-n,i[e]=-t}};function lm(t){return t==null||typeof t=="function"?t:`${t}`.trim().toLowerCase().startsWith("node:")?Vs(Af(t)):Vs(Q4(t))}function Vs(t){return(n,e)=>ie(t(n),t(e))}function Q4(t){return n=>{var e;return(e=n.data)==null?void 0:e[t]}}function hm(t="/"){if(t=`${t}`,t==="/")return e=>e;if(t.length!==1)throw new Error("delimiter must be exactly one character");const n=t.charCodeAt(0);return e=>e.map(r=>J4(r,n))}const Sf=92,dm=47;function J4(t,n){if(n===Sf)throw new Error("delimiter cannot be backslash");let e=!1;for(let r=0,i=t.length;r<i;++r){switch(t.charCodeAt(r)){case Sf:if(!e){e=!0;continue}break;case n:e?(t=t.slice(0,r-1)+t.slice(r),--r,--i):t=t.slice(0,r)+"/"+t.slice(r+1);break;case dm:e?(t=t.slice(0,r)+"\\\\"+t.slice(r),r+=2,i+=2):(t=t.slice(0,r)+"\\"+t.slice(r),++r,++i);break}e=!1}return t}function t7(t){let n=!1;for(let e=0,r=t.length;e<r;++e){switch(t.charCodeAt(e)){case Sf:if(!n){n=!0;continue}case dm:n&&(t=t.slice(0,e-1)+t.slice(e),--e,--r);break}n=!1}return t}function mm(t){return Mn(t)&&typeof t.node=="function"}function n7(t){return Mn(t)&&typeof t.link=="function"}function Af(t){if(mm(t))return t.node;if(t=`${t}`.trim().toLowerCase(),!!t.startsWith("node:")){switch(t){case"node:name":return Ef;case"node:path":return Cf;case"node:internal":return pm;case"node:external":return gm;case"node:depth":return kf;case"node:height":return Nf}throw new Error(`invalid node value: ${t}`)}}function Xs(t){if(mm(t))return t.node;if(n7(t))return t.link;if(t=`${t}`.trim().toLowerCase(),!(!t.startsWith("node:")&&!t.startsWith("parent:"))){switch(t){case"parent:name":return mi(Ef);case"parent:path":return mi(Cf);case"parent:depth":return mi(kf);case"parent:height":return mi(Nf);case"node:name":return Ef;case"node:path":return Cf;case"node:internal":return pm;case"node:external":return gm;case"node:depth":return kf;case"node:height":return Nf}throw new Error(`invalid link value: ${t}`)}}function Cf(t){return t.id}function Ef(t){return e7(t.id)}function kf(t){return t.depth}function Nf(t){return t.height}function pm(t){return!!t.children}function gm(t){return!t.children}function mi(t){return(n,e)=>e==null?void 0:t(e)}function e7(t){let n=t.length;for(;--n>0&&!r7(t,n););return t7(t.slice(n+1))}function r7(t,n){if(t[n]==="/"){let e=0;for(;n>0&&t[--n]==="\\";)++e;if(!(e&1))return!0}return!1}const bm=2,ym=3,aa=4;function wm(t,n){const e=[];for(const r in t){const i=t[r],a=n(i);a!==void 0&&e.push([r,...Hn(i),a])}return e}function i7(t,{fill:n,stroke:e,strokeWidth:r,strokeOpacity:i,strokeLinejoin:a,strokeLinecap:o,strokeMiterlimit:f,strokeDasharray:u,strokeDashoffset:c,marker:s,markerStart:h=s,markerEnd:l=s,dot:d=wt(h)&&wt(l),text:m="node:name",textStroke:p="var(--plot-background)",title:b="node:path",dx:w,dy:g,textAnchor:x,treeLayout:y=Xi,textLayout:v=y===Xi||y===xh?"mirrored":"normal",tip:_,...M}={}){if(w===void 0&&(w=zu(M.treeAnchor).dx),x!==void 0)throw new Error("textAnchor is not a configurable tree option");v=Ut(v,"textLayout",["mirrored","normal"]);function C(S){return Du(t,Ws({treeLayout:y,text:m,fill:n===void 0?"currentColor":n,stroke:p,dx:w,dy:g,title:b,...S,...M}))}return Cu(H4(t,Z4({treeLayout:y,markerStart:h,markerEnd:l,stroke:e!==void 0?e:n===void 0?"node:internal":n,strokeWidth:r,strokeOpacity:i,strokeLinejoin:a,strokeLinecap:o,strokeMiterlimit:f,strokeDasharray:u,strokeDashoffset:c,...M})),d?G4(t,Ws({treeLayout:y,fill:n===void 0?"node:internal":n,title:b,tip:_,...M})):null,m!=null?v==="mirrored"?[C({textAnchor:"start",treeFilter:"node:external"}),C({textAnchor:"end",treeFilter:"node:internal",dx:-w})]:C():null)}function a7(t,n){return i7(t,{...n,treeLayout:xh})}const _m=960,Gs=document.getElementById("graph");function vm(t){return Zs.find(n=>n.name===t)}function o7(t,n,e){return xm({name:t,amount:n},e)}function xm({name:t,amount:n},e){let r=vm(t);if(r.raw)return{name:`${t}${n}個`};let i=Math.ceil(n/r.output),a=i*r.time*e,o=Math.ceil(a/_m),f={name:`${t}${n}個(${o})`};return f.children=r.source.map(u=>{let c=u.amount*i;return xm({name:u.name,amount:c},e)}),f}let Lf=[];function Mm({name:t,children:n},e=null){let r=`${e?e+"/":""}${t}`;Lf.push(r),n&&n.forEach(i=>{Mm(i,r)})}document.getElementById("product").innerHTML=Zs.filter(t=>!t.raw).map(t=>`<option value="${t.name}">${t.name}</option>`).join("");document.getElementById("calc").addEventListener("click",()=>{const t=document.getElementById("perfect").checked?.8:1;let n=document.getElementById("product").value,e=parseFloat(document.getElementById("amount").value);if(isNaN(e)){alert("請輸入數字");return}let r=o7(n,e,t);Lf=[],Mm(r);let i=cm({axis:null,marginTop:100,marginBottom:100,marginRight:200,marginLeft:200,width:window.innerWidth,marks:[a7(Lf,{fontSize:16,stroke:"#666",strokeWidth:2,strokeOpacity:1,curve:"step-before",markerStart:!1,markerEnd:"arrow",markerMid:!1})]});Gs.innerHTML="",Gs.appendChild(i)});document.getElementById("max").addEventListener("click",()=>{const t=document.getElementById("perfect").checked?.8:1;let n=vm(document.getElementById("product").value);document.getElementById("amount").value=Math.floor(_m/t/n.time)*n.output});
